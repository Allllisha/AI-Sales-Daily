# ============================================
# Knowhow App - Azure Production Environment
# ============================================
# Template for Azure App Service environment variables.
# Set these in Azure App Service > Configuration > Application settings,
# or copy to .env for production docker-compose.prod.yml usage.
# ============================================

# --- Application ---
NODE_ENV=production
PORT=3001

# --- PostgreSQL (Azure Flexible Server) ---
POSTGRES_HOST=<your-server>.postgres.database.azure.com
POSTGRES_PORT=5432
POSTGRES_USER=<your-admin-user>
POSTGRES_PASSWORD=<your-password>
POSTGRES_DB=knowhow
POSTGRES_SSL=true
DATABASE_URL=postgresql://<user>:<password>@<server>.postgres.database.azure.com:5432/knowhow?sslmode=require

# --- Redis (Azure Cache for Redis) ---
REDIS_HOST=<your-cache>.redis.cache.windows.net
REDIS_PORT=6380
REDIS_PASSWORD=<your-redis-key>
REDIS_TLS=true
REDIS_URL=rediss://:<your-redis-key>@<your-cache>.redis.cache.windows.net:6380

# --- JWT ---
JWT_SECRET=<generate-a-strong-random-secret>
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# --- Azure OpenAI ---
AZURE_OPENAI_ENDPOINT=https://<your-resource>.openai.azure.com/
AZURE_OPENAI_API_KEY=<your-openai-key>
AZURE_OPENAI_API_VERSION=2024-12-01-preview
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4o-mini
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-ada-002

# --- Azure Speech Services ---
AZURE_SPEECH_KEY=<your-speech-key>
AZURE_SPEECH_REGION=japaneast

# --- Azure Cognitive Search ---
AZURE_SEARCH_ENDPOINT=https://<your-search>.search.windows.net
AZURE_SEARCH_KEY=<your-search-admin-key>
AZURE_SEARCH_INDEX=knowledge-index

# --- CORS ---
CORS_ORIGIN=https://<your-client-app>.azurewebsites.net
CLIENT_URL=https://<your-client-app>.azurewebsites.net

# --- Azure Container Registry ---
ACR_LOGIN_SERVER=<your-acr>.azurecr.io
ACR_USERNAME=<your-acr-username>
ACR_PASSWORD=<your-acr-password>

# --- Azure App Service ---
APP_SERVICE_API_URL=https://<your-api-app>.azurewebsites.net
APP_SERVICE_CLIENT_URL=https://<your-client-app>.azurewebsites.net
