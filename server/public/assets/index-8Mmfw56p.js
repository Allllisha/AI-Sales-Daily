var Vz=Object.defineProperty;var xS=e=>{throw TypeError(e)};var Kz=(e,t,r)=>t in e?Vz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Qm=(e,t,r)=>Kz(e,typeof t!="symbol"?t+"":t,r),Gm=(e,t,r)=>t.has(e)||xS("Cannot "+r);var F=(e,t,r)=>(Gm(e,t,"read from private field"),r?r.call(e):t.get(e)),Oe=(e,t,r)=>t.has(e)?xS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ye=(e,t,r,n)=>(Gm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ze=(e,t,r)=>(Gm(e,t,"access private method"),r);var lf=(e,t,r,n)=>({set _(o){ye(e,t,o,r)},get _(){return F(e,t,n)}});function Yz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();function Ro(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kA={exports:{}},xv={},CA={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td=Symbol.for("react.element"),Qz=Symbol.for("react.portal"),Gz=Symbol.for("react.fragment"),Xz=Symbol.for("react.strict_mode"),Jz=Symbol.for("react.profiler"),Zz=Symbol.for("react.provider"),eD=Symbol.for("react.context"),tD=Symbol.for("react.forward_ref"),rD=Symbol.for("react.suspense"),nD=Symbol.for("react.memo"),oD=Symbol.for("react.lazy"),bS=Symbol.iterator;function aD(e){return e===null||typeof e!="object"?null:(e=bS&&e[bS]||e["@@iterator"],typeof e=="function"?e:null)}var PA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AA=Object.assign,OA={};function dc(e,t,r){this.props=e,this.context=t,this.refs=OA,this.updater=r||PA}dc.prototype.isReactComponent={};dc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _A(){}_A.prototype=dc.prototype;function Nb(e,t,r){this.props=e,this.context=t,this.refs=OA,this.updater=r||PA}var Lb=Nb.prototype=new _A;Lb.constructor=Nb;AA(Lb,dc.prototype);Lb.isPureReactComponent=!0;var wS=Array.isArray,EA=Object.prototype.hasOwnProperty,Fb={current:null},TA={key:!0,ref:!0,__self:!0,__source:!0};function MA(e,t,r){var n,o={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)EA.call(t,n)&&!TA.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(l===1)o.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)o[n]===void 0&&(o[n]=l[n]);return{$$typeof:Td,type:e,key:a,ref:i,props:o,_owner:Fb.current}}function iD(e,t){return{$$typeof:Td,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Td}function sD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var SS=/\/+/g;function Xm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sD(""+e.key):t.toString(36)}function bp(e,t,r,n,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Td:case Qz:i=!0}}if(i)return i=e,o=o(i),e=n===""?"."+Xm(i,0):n,wS(o)?(r="",e!=null&&(r=e.replace(SS,"$&/")+"/"),bp(o,t,r,"",function(d){return d})):o!=null&&(Bb(o)&&(o=iD(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(SS,"$&/")+"/")+e)),t.push(o)),1;if(i=0,n=n===""?".":n+":",wS(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Xm(a,l);i+=bp(a,t,r,c,o)}else if(c=aD(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Xm(a,l++),i+=bp(a,t,r,c,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function cf(e,t,r){if(e==null)return e;var n=[],o=0;return bp(e,n,"","",function(a){return t.call(r,a,o++)}),n}function lD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mr={current:null},wp={transition:null},cD={ReactCurrentDispatcher:Mr,ReactCurrentBatchConfig:wp,ReactCurrentOwner:Fb};function $A(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:cf,forEach:function(e,t,r){cf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cf(e,function(){t++}),t},toArray:function(e){return cf(e,function(t){return t})||[]},only:function(e){if(!Bb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=dc;Ie.Fragment=Gz;Ie.Profiler=Jz;Ie.PureComponent=Nb;Ie.StrictMode=Xz;Ie.Suspense=rD;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cD;Ie.act=$A;Ie.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=AA({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Fb.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)EA.call(t,c)&&!TA.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Td,type:e.type,key:o,ref:a,props:n,_owner:i}};Ie.createContext=function(e){return e={$$typeof:eD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zz,_context:e},e.Consumer=e};Ie.createElement=MA;Ie.createFactory=function(e){var t=MA.bind(null,e);return t.type=e,t};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:tD,render:e}};Ie.isValidElement=Bb;Ie.lazy=function(e){return{$$typeof:oD,_payload:{_status:-1,_result:e},_init:lD}};Ie.memo=function(e,t){return{$$typeof:nD,type:e,compare:t===void 0?null:t}};Ie.startTransition=function(e){var t=wp.transition;wp.transition={};try{e()}finally{wp.transition=t}};Ie.unstable_act=$A;Ie.useCallback=function(e,t){return Mr.current.useCallback(e,t)};Ie.useContext=function(e){return Mr.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return Mr.current.useDeferredValue(e)};Ie.useEffect=function(e,t){return Mr.current.useEffect(e,t)};Ie.useId=function(){return Mr.current.useId()};Ie.useImperativeHandle=function(e,t,r){return Mr.current.useImperativeHandle(e,t,r)};Ie.useInsertionEffect=function(e,t){return Mr.current.useInsertionEffect(e,t)};Ie.useLayoutEffect=function(e,t){return Mr.current.useLayoutEffect(e,t)};Ie.useMemo=function(e,t){return Mr.current.useMemo(e,t)};Ie.useReducer=function(e,t,r){return Mr.current.useReducer(e,t,r)};Ie.useRef=function(e){return Mr.current.useRef(e)};Ie.useState=function(e){return Mr.current.useState(e)};Ie.useSyncExternalStore=function(e,t,r){return Mr.current.useSyncExternalStore(e,t,r)};Ie.useTransition=function(){return Mr.current.useTransition()};Ie.version="18.3.1";CA.exports=Ie;var m=CA.exports;const Le=Ro(m),Kp=Yz({__proto__:null,default:Le},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uD=m,dD=Symbol.for("react.element"),fD=Symbol.for("react.fragment"),pD=Object.prototype.hasOwnProperty,hD=uD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vD={key:!0,ref:!0,__self:!0,__source:!0};function zA(e,t,r){var n,o={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)pD.call(t,n)&&!vD.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:dD,type:e,key:a,ref:i,props:o,_owner:hD.current}}xv.Fragment=fD;xv.jsx=zA;xv.jsxs=zA;kA.exports=xv;var s=kA.exports,DA={exports:{}},gn={},IA={exports:{}},RA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(re,$){var V=re.length;re.push($);e:for(;0<V;){var U=V-1>>>1,M=re[U];if(0<o(M,$))re[U]=$,re[V]=M,V=U;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var $=re[0],V=re.pop();if(V!==$){re[0]=V;e:for(var U=0,M=re.length,ee=M>>>1;U<ee;){var ae=2*(U+1)-1,pe=re[ae],ge=ae+1,ke=re[ge];if(0>o(pe,V))ge<M&&0>o(ke,pe)?(re[U]=ke,re[ge]=V,U=ge):(re[U]=pe,re[ae]=V,U=ae);else if(ge<M&&0>o(ke,V))re[U]=ke,re[ge]=V,U=ge;else break e}}return $}function o(re,$){var V=re.sortIndex-$.sortIndex;return V!==0?V:re.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,f=null,p=3,h=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(re){for(var $=r(d);$!==null;){if($.callback===null)n(d);else if($.startTime<=re)n(d),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(d)}}function j(re){if(x=!1,b(re),!g)if(r(c)!==null)g=!0,Q(k);else{var $=r(d);$!==null&&se(j,$.startTime-re)}}function k(re,$){g=!1,x&&(x=!1,v(D),D=-1),h=!0;var V=p;try{for(b($),f=r(c);f!==null&&(!(f.expirationTime>$)||re&&!X());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var M=U(f.expirationTime<=$);$=e.unstable_now(),typeof M=="function"?f.callback=M:f===r(c)&&n(c),b($)}else n(c);f=r(c)}if(f!==null)var ee=!0;else{var ae=r(d);ae!==null&&se(j,ae.startTime-$),ee=!1}return ee}finally{f=null,p=V,h=!1}}var C=!1,O=null,D=-1,I=5,K=-1;function X(){return!(e.unstable_now()-K<I)}function H(){if(O!==null){var re=e.unstable_now();K=re;var $=!0;try{$=O(!0,re)}finally{$?T():(C=!1,O=null)}}else C=!1}var T;if(typeof S=="function")T=function(){S(H)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,G=R.port2;R.port1.onmessage=H,T=function(){G.postMessage(null)}}else T=function(){y(H,0)};function Q(re){O=re,C||(C=!0,T())}function se(re,$){D=y(function(){re(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,Q(k))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(re){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var V=p;p=$;try{return re()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,$){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var V=p;p=re;try{return $()}finally{p=V}},e.unstable_scheduleCallback=function(re,$,V){var U=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?U+V:U):V=U,re){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=V+M,re={id:u++,callback:$,priorityLevel:re,startTime:V,expirationTime:M,sortIndex:-1},V>U?(re.sortIndex=V,t(d,re),r(c)===null&&re===r(d)&&(x?(v(D),D=-1):x=!0,se(j,V-U))):(re.sortIndex=M,t(c,re),g||h||(g=!0,Q(k))),re},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(re){var $=p;return function(){var V=p;p=$;try{return re.apply(this,arguments)}finally{p=V}}}})(RA);IA.exports=RA;var mD=IA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gD=m,fn=mD;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NA=new Set,Wu={};function Ds(e,t){Kl(e,t),Kl(e+"Capture",t)}function Kl(e,t){for(Wu[e]=t,e=0;e<t.length;e++)NA.add(t[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u0=Object.prototype.hasOwnProperty,yD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jS={},kS={};function xD(e){return u0.call(kS,e)?!0:u0.call(jS,e)?!1:yD.test(e)?kS[e]=!0:(jS[e]=!0,!1)}function bD(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wD(e,t,r,n){if(t===null||typeof t>"u"||bD(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $r(e,t,r,n,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cr[e]=new $r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cr[t]=new $r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cr[e]=new $r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cr[e]=new $r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cr[e]=new $r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cr[e]=new $r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cr[e]=new $r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cr[e]=new $r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cr[e]=new $r(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ub=/[\-:]([a-z])/g;function Wb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ub,Wb);cr[t]=new $r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ub,Wb);cr[t]=new $r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ub,Wb);cr[t]=new $r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cr[e]=new $r(e,1,!1,e.toLowerCase(),null,!1,!1)});cr.xlinkHref=new $r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cr[e]=new $r(e,1,!1,e.toLowerCase(),null,!0,!0)});function qb(e,t,r,n){var o=cr.hasOwnProperty(t)?cr[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wD(t,r,o,n)&&(r=null),n||o===null?xD(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ma=gD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uf=Symbol.for("react.element"),ul=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),Hb=Symbol.for("react.strict_mode"),d0=Symbol.for("react.profiler"),LA=Symbol.for("react.provider"),FA=Symbol.for("react.context"),Vb=Symbol.for("react.forward_ref"),f0=Symbol.for("react.suspense"),p0=Symbol.for("react.suspense_list"),Kb=Symbol.for("react.memo"),Ma=Symbol.for("react.lazy"),BA=Symbol.for("react.offscreen"),CS=Symbol.iterator;function zc(e){return e===null||typeof e!="object"?null:(e=CS&&e[CS]||e["@@iterator"],typeof e=="function"?e:null)}var St=Object.assign,Jm;function gu(e){if(Jm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Jm=t&&t[1]||""}return`
`+Jm+e}var Zm=!1;function eg(e,t){if(!e||Zm)return"";Zm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),a=n.stack.split(`
`),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==a[l]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Zm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gu(e):""}function SD(e){switch(e.tag){case 5:return gu(e.type);case 16:return gu("Lazy");case 13:return gu("Suspense");case 19:return gu("SuspenseList");case 0:case 2:case 15:return e=eg(e.type,!1),e;case 11:return e=eg(e.type.render,!1),e;case 1:return e=eg(e.type,!0),e;default:return""}}function h0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dl:return"Fragment";case ul:return"Portal";case d0:return"Profiler";case Hb:return"StrictMode";case f0:return"Suspense";case p0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case FA:return(e.displayName||"Context")+".Consumer";case LA:return(e._context.displayName||"Context")+".Provider";case Vb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kb:return t=e.displayName||null,t!==null?t:h0(e.type)||"Memo";case Ma:t=e._payload,e=e._init;try{return h0(e(t))}catch{}}return null}function jD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h0(t);case 8:return t===Hb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function UA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kD(e){var t=UA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function df(e){e._valueTracker||(e._valueTracker=kD(e))}function WA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=UA(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Yp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function v0(e,t){var r=t.checked;return St({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function PS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=pi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qA(e,t){t=t.checked,t!=null&&qb(e,"checked",t,!1)}function m0(e,t){qA(e,t);var r=pi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?g0(e,t.type,r):t.hasOwnProperty("defaultValue")&&g0(e,t.type,pi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function AS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function g0(e,t,r){(t!=="number"||Yp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yu=Array.isArray;function kl(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+pi(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function y0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return St({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function OS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(yu(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:pi(r)}}function HA(e,t){var r=pi(t.value),n=pi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function _S(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function VA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function x0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?VA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ff,KA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ff=ff||document.createElement("div"),ff.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ff.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CD=["Webkit","ms","Moz","O"];Object.keys(Cu).forEach(function(e){CD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cu[t]=Cu[e]})});function YA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cu.hasOwnProperty(e)&&Cu[e]?(""+t).trim():t+"px"}function QA(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=YA(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var PD=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function b0(e,t){if(t){if(PD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function w0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S0=null;function Yb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var j0=null,Cl=null,Pl=null;function ES(e){if(e=zd(e)){if(typeof j0!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=kv(t),j0(e.stateNode,e.type,t))}}function GA(e){Cl?Pl?Pl.push(e):Pl=[e]:Cl=e}function XA(){if(Cl){var e=Cl,t=Pl;if(Pl=Cl=null,ES(e),t)for(e=0;e<t.length;e++)ES(t[e])}}function JA(e,t){return e(t)}function ZA(){}var tg=!1;function eO(e,t,r){if(tg)return e(t,r);tg=!0;try{return JA(e,t,r)}finally{tg=!1,(Cl!==null||Pl!==null)&&(ZA(),XA())}}function Hu(e,t){var r=e.stateNode;if(r===null)return null;var n=kv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var k0=!1;if(ia)try{var Dc={};Object.defineProperty(Dc,"passive",{get:function(){k0=!0}}),window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{k0=!1}function AD(e,t,r,n,o,a,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Pu=!1,Qp=null,Gp=!1,C0=null,OD={onError:function(e){Pu=!0,Qp=e}};function _D(e,t,r,n,o,a,i,l,c){Pu=!1,Qp=null,AD.apply(OD,arguments)}function ED(e,t,r,n,o,a,i,l,c){if(_D.apply(this,arguments),Pu){if(Pu){var d=Qp;Pu=!1,Qp=null}else throw Error(ue(198));Gp||(Gp=!0,C0=d)}}function Is(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function TS(e){if(Is(e)!==e)throw Error(ue(188))}function TD(e){var t=e.alternate;if(!t){if(t=Is(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var a=o.alternate;if(a===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return TS(o),e;if(a===n)return TS(o),t;a=a.sibling}throw Error(ue(188))}if(r.return!==n.return)r=o,n=a;else{for(var i=!1,l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function rO(e){return e=TD(e),e!==null?nO(e):null}function nO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nO(e);if(t!==null)return t;e=e.sibling}return null}var oO=fn.unstable_scheduleCallback,MS=fn.unstable_cancelCallback,MD=fn.unstable_shouldYield,$D=fn.unstable_requestPaint,Ot=fn.unstable_now,zD=fn.unstable_getCurrentPriorityLevel,Qb=fn.unstable_ImmediatePriority,aO=fn.unstable_UserBlockingPriority,Xp=fn.unstable_NormalPriority,DD=fn.unstable_LowPriority,iO=fn.unstable_IdlePriority,bv=null,_o=null;function ID(e){if(_o&&typeof _o.onCommitFiberRoot=="function")try{_o.onCommitFiberRoot(bv,e,void 0,(e.current.flags&128)===128)}catch{}}var eo=Math.clz32?Math.clz32:LD,RD=Math.log,ND=Math.LN2;function LD(e){return e>>>=0,e===0?32:31-(RD(e)/ND|0)|0}var pf=64,hf=4194304;function xu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~o;l!==0?n=xu(l):(a&=i,a!==0&&(n=xu(a)))}else i=r&~o,i!==0?n=xu(i):a!==0&&(n=xu(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-eo(t),o=1<<r,n|=e[r],t&=~o;return n}function FD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-eo(a),l=1<<i,c=o[i];c===-1?(!(l&r)||l&n)&&(o[i]=FD(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function P0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sO(){var e=pf;return pf<<=1,!(pf&4194240)&&(pf=64),e}function rg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Md(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-eo(t),e[t]=r}function UD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-eo(r),a=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~a}}function Gb(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-eo(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var et=0;function lO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cO,Xb,uO,dO,fO,A0=!1,vf=[],ei=null,ti=null,ri=null,Vu=new Map,Ku=new Map,Da=[],WD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $S(e,t){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Vu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(t.pointerId)}}function Ic(e,t,r,n,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[o]},t!==null&&(t=zd(t),t!==null&&Xb(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function qD(e,t,r,n,o){switch(t){case"focusin":return ei=Ic(ei,e,t,r,n,o),!0;case"dragenter":return ti=Ic(ti,e,t,r,n,o),!0;case"mouseover":return ri=Ic(ri,e,t,r,n,o),!0;case"pointerover":var a=o.pointerId;return Vu.set(a,Ic(Vu.get(a)||null,e,t,r,n,o)),!0;case"gotpointercapture":return a=o.pointerId,Ku.set(a,Ic(Ku.get(a)||null,e,t,r,n,o)),!0}return!1}function pO(e){var t=Gi(e.target);if(t!==null){var r=Is(t);if(r!==null){if(t=r.tag,t===13){if(t=tO(r),t!==null){e.blockedOn=t,fO(e.priority,function(){uO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=O0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);S0=n,r.target.dispatchEvent(n),S0=null}else return t=zd(r),t!==null&&Xb(t),e.blockedOn=r,!1;t.shift()}return!0}function zS(e,t,r){Sp(e)&&r.delete(t)}function HD(){A0=!1,ei!==null&&Sp(ei)&&(ei=null),ti!==null&&Sp(ti)&&(ti=null),ri!==null&&Sp(ri)&&(ri=null),Vu.forEach(zS),Ku.forEach(zS)}function Rc(e,t){e.blockedOn===t&&(e.blockedOn=null,A0||(A0=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,HD)))}function Yu(e){function t(o){return Rc(o,e)}if(0<vf.length){Rc(vf[0],e);for(var r=1;r<vf.length;r++){var n=vf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ei!==null&&Rc(ei,e),ti!==null&&Rc(ti,e),ri!==null&&Rc(ri,e),Vu.forEach(t),Ku.forEach(t),r=0;r<Da.length;r++)n=Da[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Da.length&&(r=Da[0],r.blockedOn===null);)pO(r),r.blockedOn===null&&Da.shift()}var Al=ma.ReactCurrentBatchConfig,Zp=!0;function VD(e,t,r,n){var o=et,a=Al.transition;Al.transition=null;try{et=1,Jb(e,t,r,n)}finally{et=o,Al.transition=a}}function KD(e,t,r,n){var o=et,a=Al.transition;Al.transition=null;try{et=4,Jb(e,t,r,n)}finally{et=o,Al.transition=a}}function Jb(e,t,r,n){if(Zp){var o=O0(e,t,r,n);if(o===null)fg(e,t,n,eh,r),$S(e,n);else if(qD(o,e,t,r,n))n.stopPropagation();else if($S(e,n),t&4&&-1<WD.indexOf(e)){for(;o!==null;){var a=zd(o);if(a!==null&&cO(a),a=O0(e,t,r,n),a===null&&fg(e,t,n,eh,r),a===o)break;o=a}o!==null&&n.stopPropagation()}else fg(e,t,n,null,r)}}var eh=null;function O0(e,t,r,n){if(eh=null,e=Yb(n),e=Gi(e),e!==null)if(t=Is(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return eh=e,null}function hO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zD()){case Qb:return 1;case aO:return 4;case Xp:case DD:return 16;case iO:return 536870912;default:return 16}default:return 16}}var Ga=null,Zb=null,jp=null;function vO(){if(jp)return jp;var e,t=Zb,r=t.length,n,o="value"in Ga?Ga.value:Ga.textContent,a=o.length;for(e=0;e<r&&t[e]===o[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===o[a-n];n++);return jp=o.slice(e,1<n?1-n:void 0)}function kp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mf(){return!0}function DS(){return!1}function yn(e){function t(r,n,o,a,i){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?mf:DS,this.isPropagationStopped=DS,this}return St(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mf)},persist:function(){},isPersistent:mf}),t}var fc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ew=yn(fc),$d=St({},fc,{view:0,detail:0}),YD=yn($d),ng,og,Nc,wv=St({},$d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nc&&(Nc&&e.type==="mousemove"?(ng=e.screenX-Nc.screenX,og=e.screenY-Nc.screenY):og=ng=0,Nc=e),ng)},movementY:function(e){return"movementY"in e?e.movementY:og}}),IS=yn(wv),QD=St({},wv,{dataTransfer:0}),GD=yn(QD),XD=St({},$d,{relatedTarget:0}),ag=yn(XD),JD=St({},fc,{animationName:0,elapsedTime:0,pseudoElement:0}),ZD=yn(JD),e8=St({},fc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t8=yn(e8),r8=St({},fc,{data:0}),RS=yn(r8),n8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=a8[e])?!!t[e]:!1}function tw(){return i8}var s8=St({},$d,{key:function(e){if(e.key){var t=n8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?o8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tw,charCode:function(e){return e.type==="keypress"?kp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l8=yn(s8),c8=St({},wv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NS=yn(c8),u8=St({},$d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tw}),d8=yn(u8),f8=St({},fc,{propertyName:0,elapsedTime:0,pseudoElement:0}),p8=yn(f8),h8=St({},wv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),v8=yn(h8),m8=[9,13,27,32],rw=ia&&"CompositionEvent"in window,Au=null;ia&&"documentMode"in document&&(Au=document.documentMode);var g8=ia&&"TextEvent"in window&&!Au,mO=ia&&(!rw||Au&&8<Au&&11>=Au),LS=" ",FS=!1;function gO(e,t){switch(e){case"keyup":return m8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fl=!1;function y8(e,t){switch(e){case"compositionend":return yO(t);case"keypress":return t.which!==32?null:(FS=!0,LS);case"textInput":return e=t.data,e===LS&&FS?null:e;default:return null}}function x8(e,t){if(fl)return e==="compositionend"||!rw&&gO(e,t)?(e=vO(),jp=Zb=Ga=null,fl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mO&&t.locale!=="ko"?null:t.data;default:return null}}var b8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!b8[e.type]:t==="textarea"}function xO(e,t,r,n){GA(n),t=th(t,"onChange"),0<t.length&&(r=new ew("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ou=null,Qu=null;function w8(e){EO(e,0)}function Sv(e){var t=vl(e);if(WA(t))return e}function S8(e,t){if(e==="change")return t}var bO=!1;if(ia){var ig;if(ia){var sg="oninput"in document;if(!sg){var US=document.createElement("div");US.setAttribute("oninput","return;"),sg=typeof US.oninput=="function"}ig=sg}else ig=!1;bO=ig&&(!document.documentMode||9<document.documentMode)}function WS(){Ou&&(Ou.detachEvent("onpropertychange",wO),Qu=Ou=null)}function wO(e){if(e.propertyName==="value"&&Sv(Qu)){var t=[];xO(t,Qu,e,Yb(e)),eO(w8,t)}}function j8(e,t,r){e==="focusin"?(WS(),Ou=t,Qu=r,Ou.attachEvent("onpropertychange",wO)):e==="focusout"&&WS()}function k8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sv(Qu)}function C8(e,t){if(e==="click")return Sv(t)}function P8(e,t){if(e==="input"||e==="change")return Sv(t)}function A8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ro=typeof Object.is=="function"?Object.is:A8;function Gu(e,t){if(ro(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!u0.call(t,o)||!ro(e[o],t[o]))return!1}return!0}function qS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function HS(e,t){var r=qS(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qS(r)}}function SO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jO(){for(var e=window,t=Yp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Yp(e.document)}return t}function nw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function O8(e){var t=jO(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&SO(r.ownerDocument.documentElement,r)){if(n!==null&&nw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(n.start,o);n=n.end===void 0?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=HS(r,a);var i=HS(r,n);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _8=ia&&"documentMode"in document&&11>=document.documentMode,pl=null,_0=null,_u=null,E0=!1;function VS(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;E0||pl==null||pl!==Yp(n)||(n=pl,"selectionStart"in n&&nw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_u&&Gu(_u,n)||(_u=n,n=th(_0,"onSelect"),0<n.length&&(t=new ew("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=pl)))}function gf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hl={animationend:gf("Animation","AnimationEnd"),animationiteration:gf("Animation","AnimationIteration"),animationstart:gf("Animation","AnimationStart"),transitionend:gf("Transition","TransitionEnd")},lg={},kO={};ia&&(kO=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function jv(e){if(lg[e])return lg[e];if(!hl[e])return e;var t=hl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kO)return lg[e]=t[r];return e}var CO=jv("animationend"),PO=jv("animationiteration"),AO=jv("animationstart"),OO=jv("transitionend"),_O=new Map,KS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(e,t){_O.set(e,t),Ds(t,[e])}for(var cg=0;cg<KS.length;cg++){var ug=KS[cg],E8=ug.toLowerCase(),T8=ug[0].toUpperCase()+ug.slice(1);xi(E8,"on"+T8)}xi(CO,"onAnimationEnd");xi(PO,"onAnimationIteration");xi(AO,"onAnimationStart");xi("dblclick","onDoubleClick");xi("focusin","onFocus");xi("focusout","onBlur");xi(OO,"onTransitionEnd");Kl("onMouseEnter",["mouseout","mouseover"]);Kl("onMouseLeave",["mouseout","mouseover"]);Kl("onPointerEnter",["pointerout","pointerover"]);Kl("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M8=new Set("cancel close invalid load scroll toggle".split(" ").concat(bu));function YS(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ED(n,t,void 0,e),e.currentTarget=null}function EO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&o.isPropagationStopped())break e;YS(o,l,d),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&o.isPropagationStopped())break e;YS(o,l,d),a=c}}}if(Gp)throw e=C0,Gp=!1,C0=null,e}function lt(e,t){var r=t[D0];r===void 0&&(r=t[D0]=new Set);var n=e+"__bubble";r.has(n)||(TO(t,e,2,!1),r.add(n))}function dg(e,t,r){var n=0;t&&(n|=4),TO(r,e,n,t)}var yf="_reactListening"+Math.random().toString(36).slice(2);function Xu(e){if(!e[yf]){e[yf]=!0,NA.forEach(function(r){r!=="selectionchange"&&(M8.has(r)||dg(r,!1,e),dg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yf]||(t[yf]=!0,dg("selectionchange",!1,t))}}function TO(e,t,r,n){switch(hO(t)){case 1:var o=VD;break;case 4:o=KD;break;default:o=Jb}r=o.bind(null,t,r,e),o=void 0,!k0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function fg(e,t,r,n,o){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;l!==null;){if(i=Gi(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}eO(function(){var d=a,u=Yb(r),f=[];e:{var p=_O.get(e);if(p!==void 0){var h=ew,g=e;switch(e){case"keypress":if(kp(r)===0)break e;case"keydown":case"keyup":h=l8;break;case"focusin":g="focus",h=ag;break;case"focusout":g="blur",h=ag;break;case"beforeblur":case"afterblur":h=ag;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=IS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=GD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=d8;break;case CO:case PO:case AO:h=ZD;break;case OO:h=p8;break;case"scroll":h=YD;break;case"wheel":h=v8;break;case"copy":case"cut":case"paste":h=t8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=NS}var x=(t&4)!==0,y=!x&&e==="scroll",v=x?p!==null?p+"Capture":null:p;x=[];for(var S=d,b;S!==null;){b=S;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,v!==null&&(j=Hu(S,v),j!=null&&x.push(Ju(S,j,b)))),y)break;S=S.return}0<x.length&&(p=new h(p,g,null,r,u),f.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==S0&&(g=r.relatedTarget||r.fromElement)&&(Gi(g)||g[sa]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(g=r.relatedTarget||r.toElement,h=d,g=g?Gi(g):null,g!==null&&(y=Is(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=d),h!==g)){if(x=IS,j="onMouseLeave",v="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(x=NS,j="onPointerLeave",v="onPointerEnter",S="pointer"),y=h==null?p:vl(h),b=g==null?p:vl(g),p=new x(j,S+"leave",h,r,u),p.target=y,p.relatedTarget=b,j=null,Gi(u)===d&&(x=new x(v,S+"enter",g,r,u),x.target=b,x.relatedTarget=y,j=x),y=j,h&&g)t:{for(x=h,v=g,S=0,b=x;b;b=Ws(b))S++;for(b=0,j=v;j;j=Ws(j))b++;for(;0<S-b;)x=Ws(x),S--;for(;0<b-S;)v=Ws(v),b--;for(;S--;){if(x===v||v!==null&&x===v.alternate)break t;x=Ws(x),v=Ws(v)}x=null}else x=null;h!==null&&QS(f,p,h,x,!1),g!==null&&y!==null&&QS(f,y,g,x,!0)}}e:{if(p=d?vl(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var k=S8;else if(BS(p))if(bO)k=P8;else{k=k8;var C=j8}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=C8);if(k&&(k=k(e,d))){xO(f,k,r,u);break e}C&&C(e,p,d),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&g0(p,"number",p.value)}switch(C=d?vl(d):window,e){case"focusin":(BS(C)||C.contentEditable==="true")&&(pl=C,_0=d,_u=null);break;case"focusout":_u=_0=pl=null;break;case"mousedown":E0=!0;break;case"contextmenu":case"mouseup":case"dragend":E0=!1,VS(f,r,u);break;case"selectionchange":if(_8)break;case"keydown":case"keyup":VS(f,r,u)}var O;if(rw)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else fl?gO(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(mO&&r.locale!=="ko"&&(fl||D!=="onCompositionStart"?D==="onCompositionEnd"&&fl&&(O=vO()):(Ga=u,Zb="value"in Ga?Ga.value:Ga.textContent,fl=!0)),C=th(d,D),0<C.length&&(D=new RS(D,e,null,r,u),f.push({event:D,listeners:C}),O?D.data=O:(O=yO(r),O!==null&&(D.data=O)))),(O=g8?y8(e,r):x8(e,r))&&(d=th(d,"onBeforeInput"),0<d.length&&(u=new RS("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=O))}EO(f,t)})}function Ju(e,t,r){return{instance:e,listener:t,currentTarget:r}}function th(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Hu(e,r),a!=null&&n.unshift(Ju(e,a,o)),a=Hu(e,t),a!=null&&n.push(Ju(e,a,o))),e=e.return}return n}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function QS(e,t,r,n,o){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,o?(c=Hu(r,a),c!=null&&i.unshift(Ju(r,c,l))):o||(c=Hu(r,a),c!=null&&i.push(Ju(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var $8=/\r\n?/g,z8=/\u0000|\uFFFD/g;function GS(e){return(typeof e=="string"?e:""+e).replace($8,`
`).replace(z8,"")}function xf(e,t,r){if(t=GS(t),GS(e)!==t&&r)throw Error(ue(425))}function rh(){}var T0=null,M0=null;function $0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var z0=typeof setTimeout=="function"?setTimeout:void 0,D8=typeof clearTimeout=="function"?clearTimeout:void 0,XS=typeof Promise=="function"?Promise:void 0,I8=typeof queueMicrotask=="function"?queueMicrotask:typeof XS<"u"?function(e){return XS.resolve(null).then(e).catch(R8)}:z0;function R8(e){setTimeout(function(){throw e})}function pg(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Yu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Yu(t)}function ni(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function JS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var pc=Math.random().toString(36).slice(2),ko="__reactFiber$"+pc,Zu="__reactProps$"+pc,sa="__reactContainer$"+pc,D0="__reactEvents$"+pc,N8="__reactListeners$"+pc,L8="__reactHandles$"+pc;function Gi(e){var t=e[ko];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sa]||r[ko]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=JS(e);e!==null;){if(r=e[ko])return r;e=JS(e)}return t}e=r,r=e.parentNode}return null}function zd(e){return e=e[ko]||e[sa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function kv(e){return e[Zu]||null}var I0=[],ml=-1;function bi(e){return{current:e}}function ut(e){0>ml||(e.current=I0[ml],I0[ml]=null,ml--)}function st(e,t){ml++,I0[ml]=e.current,e.current=t}var hi={},xr=bi(hi),Hr=bi(!1),js=hi;function Yl(e,t){var r=e.type.contextTypes;if(!r)return hi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in r)o[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Vr(e){return e=e.childContextTypes,e!=null}function nh(){ut(Hr),ut(xr)}function ZS(e,t,r){if(xr.current!==hi)throw Error(ue(168));st(xr,t),st(Hr,r)}function MO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(ue(108,jD(e)||"Unknown",o));return St({},r,n)}function oh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,js=xr.current,st(xr,e),st(Hr,Hr.current),!0}function ej(e,t,r){var n=e.stateNode;if(!n)throw Error(ue(169));r?(e=MO(e,t,js),n.__reactInternalMemoizedMergedChildContext=e,ut(Hr),ut(xr),st(xr,e)):ut(Hr),st(Hr,r)}var Ho=null,Cv=!1,hg=!1;function $O(e){Ho===null?Ho=[e]:Ho.push(e)}function F8(e){Cv=!0,$O(e)}function wi(){if(!hg&&Ho!==null){hg=!0;var e=0,t=et;try{var r=Ho;for(et=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ho=null,Cv=!1}catch(o){throw Ho!==null&&(Ho=Ho.slice(e+1)),oO(Qb,wi),o}finally{et=t,hg=!1}}return null}var gl=[],yl=0,ah=null,ih=0,An=[],On=0,ks=null,Jo=1,Zo="";function qi(e,t){gl[yl++]=ih,gl[yl++]=ah,ah=e,ih=t}function zO(e,t,r){An[On++]=Jo,An[On++]=Zo,An[On++]=ks,ks=e;var n=Jo;e=Zo;var o=32-eo(n)-1;n&=~(1<<o),r+=1;var a=32-eo(t)+o;if(30<a){var i=o-o%5;a=(n&(1<<i)-1).toString(32),n>>=i,o-=i,Jo=1<<32-eo(t)+o|r<<o|n,Zo=a+e}else Jo=1<<a|r<<o|n,Zo=e}function ow(e){e.return!==null&&(qi(e,1),zO(e,1,0))}function aw(e){for(;e===ah;)ah=gl[--yl],gl[yl]=null,ih=gl[--yl],gl[yl]=null;for(;e===ks;)ks=An[--On],An[On]=null,Zo=An[--On],An[On]=null,Jo=An[--On],An[On]=null}var cn=null,ln=null,ht=!1,Kn=null;function DO(e,t){var r=Tn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cn=e,ln=ni(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cn=e,ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ks!==null?{id:Jo,overflow:Zo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Tn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,cn=e,ln=null,!0):!1;default:return!1}}function R0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function N0(e){if(ht){var t=ln;if(t){var r=t;if(!tj(e,t)){if(R0(e))throw Error(ue(418));t=ni(r.nextSibling);var n=cn;t&&tj(e,t)?DO(n,r):(e.flags=e.flags&-4097|2,ht=!1,cn=e)}}else{if(R0(e))throw Error(ue(418));e.flags=e.flags&-4097|2,ht=!1,cn=e}}}function rj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cn=e}function bf(e){if(e!==cn)return!1;if(!ht)return rj(e),ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$0(e.type,e.memoizedProps)),t&&(t=ln)){if(R0(e))throw IO(),Error(ue(418));for(;t;)DO(e,t),t=ni(t.nextSibling)}if(rj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ln=ni(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ln=null}}else ln=cn?ni(e.stateNode.nextSibling):null;return!0}function IO(){for(var e=ln;e;)e=ni(e.nextSibling)}function Ql(){ln=cn=null,ht=!1}function iw(e){Kn===null?Kn=[e]:Kn.push(e)}var B8=ma.ReactCurrentBatchConfig;function Lc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,e));var o=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=o.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function wf(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nj(e){var t=e._init;return t(e._payload)}function RO(e){function t(v,S){if(e){var b=v.deletions;b===null?(v.deletions=[S],v.flags|=16):b.push(S)}}function r(v,S){if(!e)return null;for(;S!==null;)t(v,S),S=S.sibling;return null}function n(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function o(v,S){return v=si(v,S),v.index=0,v.sibling=null,v}function a(v,S,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<S?(v.flags|=2,S):b):(v.flags|=2,S)):(v.flags|=1048576,S)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,S,b,j){return S===null||S.tag!==6?(S=wg(b,v.mode,j),S.return=v,S):(S=o(S,b),S.return=v,S)}function c(v,S,b,j){var k=b.type;return k===dl?u(v,S,b.props.children,j,b.key):S!==null&&(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ma&&nj(k)===S.type)?(j=o(S,b.props),j.ref=Lc(v,S,b),j.return=v,j):(j=Tp(b.type,b.key,b.props,null,v.mode,j),j.ref=Lc(v,S,b),j.return=v,j)}function d(v,S,b,j){return S===null||S.tag!==4||S.stateNode.containerInfo!==b.containerInfo||S.stateNode.implementation!==b.implementation?(S=Sg(b,v.mode,j),S.return=v,S):(S=o(S,b.children||[]),S.return=v,S)}function u(v,S,b,j,k){return S===null||S.tag!==7?(S=gs(b,v.mode,j,k),S.return=v,S):(S=o(S,b),S.return=v,S)}function f(v,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return S=wg(""+S,v.mode,b),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case uf:return b=Tp(S.type,S.key,S.props,null,v.mode,b),b.ref=Lc(v,null,S),b.return=v,b;case ul:return S=Sg(S,v.mode,b),S.return=v,S;case Ma:var j=S._init;return f(v,j(S._payload),b)}if(yu(S)||zc(S))return S=gs(S,v.mode,b,null),S.return=v,S;wf(v,S)}return null}function p(v,S,b,j){var k=S!==null?S.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:l(v,S,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case uf:return b.key===k?c(v,S,b,j):null;case ul:return b.key===k?d(v,S,b,j):null;case Ma:return k=b._init,p(v,S,k(b._payload),j)}if(yu(b)||zc(b))return k!==null?null:u(v,S,b,j,null);wf(v,b)}return null}function h(v,S,b,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(b)||null,l(S,v,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case uf:return v=v.get(j.key===null?b:j.key)||null,c(S,v,j,k);case ul:return v=v.get(j.key===null?b:j.key)||null,d(S,v,j,k);case Ma:var C=j._init;return h(v,S,b,C(j._payload),k)}if(yu(j)||zc(j))return v=v.get(b)||null,u(S,v,j,k,null);wf(S,j)}return null}function g(v,S,b,j){for(var k=null,C=null,O=S,D=S=0,I=null;O!==null&&D<b.length;D++){O.index>D?(I=O,O=null):I=O.sibling;var K=p(v,O,b[D],j);if(K===null){O===null&&(O=I);break}e&&O&&K.alternate===null&&t(v,O),S=a(K,S,D),C===null?k=K:C.sibling=K,C=K,O=I}if(D===b.length)return r(v,O),ht&&qi(v,D),k;if(O===null){for(;D<b.length;D++)O=f(v,b[D],j),O!==null&&(S=a(O,S,D),C===null?k=O:C.sibling=O,C=O);return ht&&qi(v,D),k}for(O=n(v,O);D<b.length;D++)I=h(O,v,D,b[D],j),I!==null&&(e&&I.alternate!==null&&O.delete(I.key===null?D:I.key),S=a(I,S,D),C===null?k=I:C.sibling=I,C=I);return e&&O.forEach(function(X){return t(v,X)}),ht&&qi(v,D),k}function x(v,S,b,j){var k=zc(b);if(typeof k!="function")throw Error(ue(150));if(b=k.call(b),b==null)throw Error(ue(151));for(var C=k=null,O=S,D=S=0,I=null,K=b.next();O!==null&&!K.done;D++,K=b.next()){O.index>D?(I=O,O=null):I=O.sibling;var X=p(v,O,K.value,j);if(X===null){O===null&&(O=I);break}e&&O&&X.alternate===null&&t(v,O),S=a(X,S,D),C===null?k=X:C.sibling=X,C=X,O=I}if(K.done)return r(v,O),ht&&qi(v,D),k;if(O===null){for(;!K.done;D++,K=b.next())K=f(v,K.value,j),K!==null&&(S=a(K,S,D),C===null?k=K:C.sibling=K,C=K);return ht&&qi(v,D),k}for(O=n(v,O);!K.done;D++,K=b.next())K=h(O,v,D,K.value,j),K!==null&&(e&&K.alternate!==null&&O.delete(K.key===null?D:K.key),S=a(K,S,D),C===null?k=K:C.sibling=K,C=K);return e&&O.forEach(function(H){return t(v,H)}),ht&&qi(v,D),k}function y(v,S,b,j){if(typeof b=="object"&&b!==null&&b.type===dl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case uf:e:{for(var k=b.key,C=S;C!==null;){if(C.key===k){if(k=b.type,k===dl){if(C.tag===7){r(v,C.sibling),S=o(C,b.props.children),S.return=v,v=S;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ma&&nj(k)===C.type){r(v,C.sibling),S=o(C,b.props),S.ref=Lc(v,C,b),S.return=v,v=S;break e}r(v,C);break}else t(v,C);C=C.sibling}b.type===dl?(S=gs(b.props.children,v.mode,j,b.key),S.return=v,v=S):(j=Tp(b.type,b.key,b.props,null,v.mode,j),j.ref=Lc(v,S,b),j.return=v,v=j)}return i(v);case ul:e:{for(C=b.key;S!==null;){if(S.key===C)if(S.tag===4&&S.stateNode.containerInfo===b.containerInfo&&S.stateNode.implementation===b.implementation){r(v,S.sibling),S=o(S,b.children||[]),S.return=v,v=S;break e}else{r(v,S);break}else t(v,S);S=S.sibling}S=Sg(b,v.mode,j),S.return=v,v=S}return i(v);case Ma:return C=b._init,y(v,S,C(b._payload),j)}if(yu(b))return g(v,S,b,j);if(zc(b))return x(v,S,b,j);wf(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,S!==null&&S.tag===6?(r(v,S.sibling),S=o(S,b),S.return=v,v=S):(r(v,S),S=wg(b,v.mode,j),S.return=v,v=S),i(v)):r(v,S)}return y}var Gl=RO(!0),NO=RO(!1),sh=bi(null),lh=null,xl=null,sw=null;function lw(){sw=xl=lh=null}function cw(e){var t=sh.current;ut(sh),e._currentValue=t}function L0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ol(e,t){lh=e,sw=xl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wr=!0),e.firstContext=null)}function zn(e){var t=e._currentValue;if(sw!==e)if(e={context:e,memoizedValue:t,next:null},xl===null){if(lh===null)throw Error(ue(308));xl=e,lh.dependencies={lanes:0,firstContext:e}}else xl=xl.next=e;return t}var Xi=null;function uw(e){Xi===null?Xi=[e]:Xi.push(e)}function LO(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,uw(t)):(r.next=o.next,o.next=r),t.interleaved=r,la(e,n)}function la(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $a=!1;function dw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,We&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,la(e,r)}return o=n.interleaved,o===null?(t.next=t,uw(n)):(t.next=o.next,o.next=t),n.interleaved=t,la(e,r)}function Cp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gb(e,r)}}function oj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?o=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?o=a=t:a=a.next=t}else o=a=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ch(e,t,r,n){var o=e.updateQueue;$a=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?a=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var f=o.baseState;i=0,u=d=c=null,l=a;do{var p=l.lane,h=l.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(p=t,h=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(h,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,p=typeof g=="function"?g.call(h,f,p):g,p==null)break e;f=St({},f,p);break e;case 2:$a=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=h,c=f):u=u.next=h,i|=p;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;p=l,l=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(u===null&&(c=f),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Ps|=i,e.lanes=i,e.memoizedState=f}}function aj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(ue(191,o));o.call(n)}}}var Dd={},Eo=bi(Dd),ed=bi(Dd),td=bi(Dd);function Ji(e){if(e===Dd)throw Error(ue(174));return e}function fw(e,t){switch(st(td,t),st(ed,e),st(Eo,Dd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:x0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=x0(t,e)}ut(Eo),st(Eo,t)}function Xl(){ut(Eo),ut(ed),ut(td)}function BO(e){Ji(td.current);var t=Ji(Eo.current),r=x0(t,e.type);t!==r&&(st(ed,e),st(Eo,r))}function pw(e){ed.current===e&&(ut(Eo),ut(ed))}var bt=bi(0);function uh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vg=[];function hw(){for(var e=0;e<vg.length;e++)vg[e]._workInProgressVersionPrimary=null;vg.length=0}var Pp=ma.ReactCurrentDispatcher,mg=ma.ReactCurrentBatchConfig,Cs=0,wt=null,qt=null,er=null,dh=!1,Eu=!1,rd=0,U8=0;function ur(){throw Error(ue(321))}function vw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ro(e[r],t[r]))return!1;return!0}function mw(e,t,r,n,o,a){if(Cs=a,wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pp.current=e===null||e.memoizedState===null?V8:K8,e=r(n,o),Eu){a=0;do{if(Eu=!1,rd=0,25<=a)throw Error(ue(301));a+=1,er=qt=null,t.updateQueue=null,Pp.current=Y8,e=r(n,o)}while(Eu)}if(Pp.current=fh,t=qt!==null&&qt.next!==null,Cs=0,er=qt=wt=null,dh=!1,t)throw Error(ue(300));return e}function gw(){var e=rd!==0;return rd=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?wt.memoizedState=er=e:er=er.next=e,er}function Dn(){if(qt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=qt.next;var t=er===null?wt.memoizedState:er.next;if(t!==null)er=t,qt=e;else{if(e===null)throw Error(ue(310));qt=e,e={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},er===null?wt.memoizedState=er=e:er=er.next=e}return er}function nd(e,t){return typeof t=="function"?t(e):t}function gg(e){var t=Dn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=qt,o=n.baseQueue,a=r.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}n.baseQueue=o=a,r.pending=null}if(o!==null){a=o.next,n=n.baseState;var l=i=null,c=null,d=a;do{var u=d.lane;if((Cs&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,wt.lanes|=u,Ps|=u}d=d.next}while(d!==null&&d!==a);c===null?i=n:c.next=l,ro(n,t.memoizedState)||(Wr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do a=o.lane,wt.lanes|=a,Ps|=a,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yg(e){var t=Dn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,a=t.memoizedState;if(o!==null){r.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);ro(a,t.memoizedState)||(Wr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function UO(){}function WO(e,t){var r=wt,n=Dn(),o=t(),a=!ro(n.memoizedState,o);if(a&&(n.memoizedState=o,Wr=!0),n=n.queue,yw(VO.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||er!==null&&er.memoizedState.tag&1){if(r.flags|=2048,od(9,HO.bind(null,r,n,o,t),void 0,null),rr===null)throw Error(ue(349));Cs&30||qO(r,t,o)}return o}function qO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function HO(e,t,r,n){t.value=r,t.getSnapshot=n,KO(t)&&YO(e)}function VO(e,t,r){return r(function(){KO(t)&&YO(e)})}function KO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ro(e,r)}catch{return!0}}function YO(e){var t=la(e,1);t!==null&&to(t,e,1,-1)}function ij(e){var t=vo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nd,lastRenderedState:e},t.queue=e,e=e.dispatch=H8.bind(null,wt,e),[t.memoizedState,e]}function od(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function QO(){return Dn().memoizedState}function Ap(e,t,r,n){var o=vo();wt.flags|=e,o.memoizedState=od(1|t,r,void 0,n===void 0?null:n)}function Pv(e,t,r,n){var o=Dn();n=n===void 0?null:n;var a=void 0;if(qt!==null){var i=qt.memoizedState;if(a=i.destroy,n!==null&&vw(n,i.deps)){o.memoizedState=od(t,r,a,n);return}}wt.flags|=e,o.memoizedState=od(1|t,r,a,n)}function sj(e,t){return Ap(8390656,8,e,t)}function yw(e,t){return Pv(2048,8,e,t)}function GO(e,t){return Pv(4,2,e,t)}function XO(e,t){return Pv(4,4,e,t)}function JO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZO(e,t,r){return r=r!=null?r.concat([e]):null,Pv(4,4,JO.bind(null,t,e),r)}function xw(){}function e_(e,t){var r=Dn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vw(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function t_(e,t){var r=Dn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vw(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function r_(e,t,r){return Cs&21?(ro(r,t)||(r=sO(),wt.lanes|=r,Ps|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wr=!0),e.memoizedState=r)}function W8(e,t){var r=et;et=r!==0&&4>r?r:4,e(!0);var n=mg.transition;mg.transition={};try{e(!1),t()}finally{et=r,mg.transition=n}}function n_(){return Dn().memoizedState}function q8(e,t,r){var n=ii(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},o_(e))a_(t,r);else if(r=LO(e,t,r,n),r!==null){var o=Er();to(r,e,n,o),i_(r,t,n)}}function H8(e,t,r){var n=ii(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(o_(e))a_(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(o.hasEagerState=!0,o.eagerState=l,ro(l,i)){var c=t.interleaved;c===null?(o.next=o,uw(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}r=LO(e,t,o,n),r!==null&&(o=Er(),to(r,e,n,o),i_(r,t,n))}}function o_(e){var t=e.alternate;return e===wt||t!==null&&t===wt}function a_(e,t){Eu=dh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function i_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gb(e,r)}}var fh={readContext:zn,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},V8={readContext:zn,useCallback:function(e,t){return vo().memoizedState=[e,t===void 0?null:t],e},useContext:zn,useEffect:sj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ap(4194308,4,JO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ap(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ap(4,2,e,t)},useMemo:function(e,t){var r=vo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=q8.bind(null,wt,e),[n.memoizedState,e]},useRef:function(e){var t=vo();return e={current:e},t.memoizedState=e},useState:ij,useDebugValue:xw,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=ij(!1),t=e[0];return e=W8.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=wt,o=vo();if(ht){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),rr===null)throw Error(ue(349));Cs&30||qO(n,t,r)}o.memoizedState=r;var a={value:r,getSnapshot:t};return o.queue=a,sj(VO.bind(null,n,a,e),[e]),n.flags|=2048,od(9,HO.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=vo(),t=rr.identifierPrefix;if(ht){var r=Zo,n=Jo;r=(n&~(1<<32-eo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=rd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=U8++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},K8={readContext:zn,useCallback:e_,useContext:zn,useEffect:yw,useImperativeHandle:ZO,useInsertionEffect:GO,useLayoutEffect:XO,useMemo:t_,useReducer:gg,useRef:QO,useState:function(){return gg(nd)},useDebugValue:xw,useDeferredValue:function(e){var t=Dn();return r_(t,qt.memoizedState,e)},useTransition:function(){var e=gg(nd)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:UO,useSyncExternalStore:WO,useId:n_,unstable_isNewReconciler:!1},Y8={readContext:zn,useCallback:e_,useContext:zn,useEffect:yw,useImperativeHandle:ZO,useInsertionEffect:GO,useLayoutEffect:XO,useMemo:t_,useReducer:yg,useRef:QO,useState:function(){return yg(nd)},useDebugValue:xw,useDeferredValue:function(e){var t=Dn();return qt===null?t.memoizedState=e:r_(t,qt.memoizedState,e)},useTransition:function(){var e=yg(nd)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:UO,useSyncExternalStore:WO,useId:n_,unstable_isNewReconciler:!1};function Un(e,t){if(e&&e.defaultProps){t=St({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function F0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:St({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Av={isMounted:function(e){return(e=e._reactInternals)?Is(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Er(),o=ii(e),a=ra(n,o);a.payload=t,r!=null&&(a.callback=r),t=oi(e,a,o),t!==null&&(to(t,e,o,n),Cp(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Er(),o=ii(e),a=ra(n,o);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=oi(e,a,o),t!==null&&(to(t,e,o,n),Cp(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Er(),n=ii(e),o=ra(r,n);o.tag=2,t!=null&&(o.callback=t),t=oi(e,o,n),t!==null&&(to(t,e,n,r),Cp(t,e,n))}};function lj(e,t,r,n,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Gu(r,n)||!Gu(o,a):!0}function s_(e,t,r){var n=!1,o=hi,a=t.contextType;return typeof a=="object"&&a!==null?a=zn(a):(o=Vr(t)?js:xr.current,n=t.contextTypes,a=(n=n!=null)?Yl(e,o):hi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Av,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function cj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Av.enqueueReplaceState(t,t.state,null)}function B0(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},dw(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=zn(a):(a=Vr(t)?js:xr.current,o.context=Yl(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(F0(e,t,a,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Av.enqueueReplaceState(o,o.state,null),ch(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Jl(e,t){try{var r="",n=t;do r+=SD(n),n=n.return;while(n);var o=r}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function xg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function U0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Q8=typeof WeakMap=="function"?WeakMap:Map;function l_(e,t,r){r=ra(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hh||(hh=!0,J0=n),U0(e,t)},r}function c_(e,t,r){r=ra(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){U0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){U0(e,t),typeof n!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function uj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Q8;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=cI.bind(null,e,t,r),t.then(e,e))}function dj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fj(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ra(-1,1),t.tag=2,oi(r,t,1))),r.lanes|=1),e)}var G8=ma.ReactCurrentOwner,Wr=!1;function kr(e,t,r,n){t.child=e===null?NO(t,null,r,n):Gl(t,e.child,r,n)}function pj(e,t,r,n,o){r=r.render;var a=t.ref;return Ol(t,o),n=mw(e,t,r,n,a,o),r=gw(),e!==null&&!Wr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ca(e,t,o)):(ht&&r&&ow(t),t.flags|=1,kr(e,t,n,o),t.child)}function hj(e,t,r,n,o){if(e===null){var a=r.type;return typeof a=="function"&&!Aw(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,u_(e,t,a,n,o)):(e=Tp(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Gu,r(i,n)&&e.ref===t.ref)return ca(e,t,o)}return t.flags|=1,e=si(a,n),e.ref=t.ref,e.return=t,t.child=e}function u_(e,t,r,n,o){if(e!==null){var a=e.memoizedProps;if(Gu(a,n)&&e.ref===t.ref)if(Wr=!1,t.pendingProps=n=a,(e.lanes&o)!==0)e.flags&131072&&(Wr=!0);else return t.lanes=e.lanes,ca(e,t,o)}return W0(e,t,r,n,o)}function d_(e,t,r){var n=t.pendingProps,o=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(wl,tn),tn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,st(wl,tn),tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,st(wl,tn),tn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,st(wl,tn),tn|=n;return kr(e,t,o,r),t.child}function f_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function W0(e,t,r,n,o){var a=Vr(r)?js:xr.current;return a=Yl(t,a),Ol(t,o),r=mw(e,t,r,n,a,o),n=gw(),e!==null&&!Wr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ca(e,t,o)):(ht&&n&&ow(t),t.flags|=1,kr(e,t,r,o),t.child)}function vj(e,t,r,n,o){if(Vr(r)){var a=!0;oh(t)}else a=!1;if(Ol(t,o),t.stateNode===null)Op(e,t),s_(t,r,n),B0(t,r,n,o),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=zn(d):(d=Vr(r)?js:xr.current,d=Yl(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==d)&&cj(t,i,n,d),$a=!1;var p=t.memoizedState;i.state=p,ch(t,n,i,o),c=t.memoizedState,l!==n||p!==c||Hr.current||$a?(typeof u=="function"&&(F0(t,r,u,n),c=t.memoizedState),(l=$a||lj(t,r,l,n,p,c,d))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=d,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,FO(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Un(t.type,l),i.props=d,f=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=zn(c):(c=Vr(r)?js:xr.current,c=Yl(t,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||p!==c)&&cj(t,i,n,c),$a=!1,p=t.memoizedState,i.state=p,ch(t,n,i,o);var g=t.memoizedState;l!==f||p!==g||Hr.current||$a?(typeof h=="function"&&(F0(t,r,h,n),g=t.memoizedState),(d=$a||lj(t,r,d,n,p,g,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return q0(e,t,r,n,a,o)}function q0(e,t,r,n,o,a){f_(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return o&&ej(t,r,!1),ca(e,t,a);n=t.stateNode,G8.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Gl(t,e.child,null,a),t.child=Gl(t,null,l,a)):kr(e,t,l,a),t.memoizedState=n.state,o&&ej(t,r,!0),t.child}function p_(e){var t=e.stateNode;t.pendingContext?ZS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ZS(e,t.context,!1),fw(e,t.containerInfo)}function mj(e,t,r,n,o){return Ql(),iw(o),t.flags|=256,kr(e,t,r,n),t.child}var H0={dehydrated:null,treeContext:null,retryLane:0};function V0(e){return{baseLanes:e,cachePool:null,transitions:null}}function h_(e,t,r){var n=t.pendingProps,o=bt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),st(bt,o&1),e===null)return N0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Ev(i,n,0,null),e=gs(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=V0(r),t.memoizedState=H0,e):bw(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return X8(e,t,i,n,l,o,r);if(a){a=n.fallback,i=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=si(o,c),n.subtreeFlags=o.subtreeFlags&14680064),l!==null?a=si(l,a):(a=gs(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?V0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=H0,n}return a=e.child,e=a.sibling,n=si(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function bw(e,t){return t=Ev({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sf(e,t,r,n){return n!==null&&iw(n),Gl(t,e.child,null,r),e=bw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function X8(e,t,r,n,o,a,i){if(r)return t.flags&256?(t.flags&=-257,n=xg(Error(ue(422))),Sf(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,o=t.mode,n=Ev({mode:"visible",children:n.children},o,0,null),a=gs(a,o,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Gl(t,e.child,null,i),t.child.memoizedState=V0(i),t.memoizedState=H0,a);if(!(t.mode&1))return Sf(e,t,i,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ue(419)),n=xg(a,n,void 0),Sf(e,t,i,n)}if(l=(i&e.childLanes)!==0,Wr||l){if(n=rr,n!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,la(e,o),to(n,e,o,-1))}return Pw(),n=xg(Error(ue(421))),Sf(e,t,i,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=uI.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,ln=ni(o.nextSibling),cn=t,ht=!0,Kn=null,e!==null&&(An[On++]=Jo,An[On++]=Zo,An[On++]=ks,Jo=e.id,Zo=e.overflow,ks=t),t=bw(t,n.children),t.flags|=4096,t)}function gj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),L0(e.return,t,r)}function bg(e,t,r,n,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=o)}function v_(e,t,r){var n=t.pendingProps,o=n.revealOrder,a=n.tail;if(kr(e,t,n.children,r),n=bt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gj(e,r,t);else if(e.tag===19)gj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(st(bt,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&uh(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),bg(t,!1,o,r,a);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&uh(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}bg(t,!0,r,null,a);break;case"together":bg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Op(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ca(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ps|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=si(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=si(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function J8(e,t,r){switch(t.tag){case 3:p_(t),Ql();break;case 5:BO(t);break;case 1:Vr(t.type)&&oh(t);break;case 4:fw(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;st(sh,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(st(bt,bt.current&1),t.flags|=128,null):r&t.child.childLanes?h_(e,t,r):(st(bt,bt.current&1),e=ca(e,t,r),e!==null?e.sibling:null);st(bt,bt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return v_(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),st(bt,bt.current),n)break;return null;case 22:case 23:return t.lanes=0,d_(e,t,r)}return ca(e,t,r)}var m_,K0,g_,y_;m_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};K0=function(){};g_=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Ji(Eo.current);var a=null;switch(r){case"input":o=v0(e,o),n=v0(e,n),a=[];break;case"select":o=St({},o,{value:void 0}),n=St({},n,{value:void 0}),a=[];break;case"textarea":o=y0(e,o),n=y0(e,n),a=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=rh)}b0(r,n);var i;r=null;for(d in o)if(!n.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var l=o[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Wu.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=o!=null?o[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Wu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&lt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};y_=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fc(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function dr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Z8(e,t,r){var n=t.pendingProps;switch(aw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(t),null;case 1:return Vr(t.type)&&nh(),dr(t),null;case 3:return n=t.stateNode,Xl(),ut(Hr),ut(xr),hw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kn!==null&&(tx(Kn),Kn=null))),K0(e,t),dr(t),null;case 5:pw(t);var o=Ji(td.current);if(r=t.type,e!==null&&t.stateNode!=null)g_(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return dr(t),null}if(e=Ji(Eo.current),bf(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ko]=t,n[Zu]=a,e=(t.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(o=0;o<bu.length;o++)lt(bu[o],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":PS(n,a),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},lt("invalid",n);break;case"textarea":OS(n,a),lt("invalid",n)}b0(r,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&xf(n.textContent,l,e),o=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&xf(n.textContent,l,e),o=["children",""+l]):Wu.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&lt("scroll",n)}switch(r){case"input":df(n),AS(n,a,!0);break;case"textarea":df(n),_S(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=rh)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=VA(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ko]=t,e[Zu]=n,m_(e,t,!1,!1),t.stateNode=e;e:{switch(i=w0(r,n),r){case"dialog":lt("cancel",e),lt("close",e),o=n;break;case"iframe":case"object":case"embed":lt("load",e),o=n;break;case"video":case"audio":for(o=0;o<bu.length;o++)lt(bu[o],e);o=n;break;case"source":lt("error",e),o=n;break;case"img":case"image":case"link":lt("error",e),lt("load",e),o=n;break;case"details":lt("toggle",e),o=n;break;case"input":PS(e,n),o=v0(e,n),lt("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=St({},n,{value:void 0}),lt("invalid",e);break;case"textarea":OS(e,n),o=y0(e,n),lt("invalid",e);break;default:o=n}b0(r,o),l=o;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?QA(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&KA(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&qu(e,c):typeof c=="number"&&qu(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Wu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&lt("scroll",e):c!=null&&qb(e,a,c,i))}switch(r){case"input":df(e),AS(e,n,!1);break;case"textarea":df(e),_S(e);break;case"option":n.value!=null&&e.setAttribute("value",""+pi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?kl(e,!!n.multiple,a,!1):n.defaultValue!=null&&kl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=rh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dr(t),null;case 6:if(e&&t.stateNode!=null)y_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ue(166));if(r=Ji(td.current),Ji(Eo.current),bf(t)){if(n=t.stateNode,r=t.memoizedProps,n[ko]=t,(a=n.nodeValue!==r)&&(e=cn,e!==null))switch(e.tag){case 3:xf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xf(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ko]=t,t.stateNode=n}return dr(t),null;case 13:if(ut(bt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ht&&ln!==null&&t.mode&1&&!(t.flags&128))IO(),Ql(),t.flags|=98560,a=!1;else if(a=bf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ue(317));a[ko]=t}else Ql(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dr(t),a=!1}else Kn!==null&&(tx(Kn),Kn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||bt.current&1?Vt===0&&(Vt=3):Pw())),t.updateQueue!==null&&(t.flags|=4),dr(t),null);case 4:return Xl(),K0(e,t),e===null&&Xu(t.stateNode.containerInfo),dr(t),null;case 10:return cw(t.type._context),dr(t),null;case 17:return Vr(t.type)&&nh(),dr(t),null;case 19:if(ut(bt),a=t.memoizedState,a===null)return dr(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Fc(a,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=uh(e),i!==null){for(t.flags|=128,Fc(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return st(bt,bt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ot()>Zl&&(t.flags|=128,n=!0,Fc(a,!1),t.lanes=4194304)}else{if(!n)if(e=uh(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ht)return dr(t),null}else 2*Ot()-a.renderingStartTime>Zl&&r!==1073741824&&(t.flags|=128,n=!0,Fc(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ot(),t.sibling=null,r=bt.current,st(bt,n?r&1|2:r&1),t):(dr(t),null);case 22:case 23:return Cw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tn&1073741824&&(dr(t),t.subtreeFlags&6&&(t.flags|=8192)):dr(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function eI(e,t){switch(aw(t),t.tag){case 1:return Vr(t.type)&&nh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xl(),ut(Hr),ut(xr),hw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pw(t),null;case 13:if(ut(bt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));Ql()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ut(bt),null;case 4:return Xl(),null;case 10:return cw(t.type._context),null;case 22:case 23:return Cw(),null;case 24:return null;default:return null}}var jf=!1,vr=!1,tI=typeof WeakSet=="function"?WeakSet:Set,be=null;function bl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pt(e,t,n)}else r.current=null}function Y0(e,t,r){try{r()}catch(n){Pt(e,t,n)}}var yj=!1;function rI(e,t){if(T0=Zp,e=jO(),nw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,f=e,p=null;t:for(;;){for(var h;f!==r||o!==0&&f.nodeType!==3||(l=i+o),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===r&&++d===o&&(l=i),p===a&&++u===n&&(c=i),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(M0={focusedElem:e,selectionRange:r},Zp=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,v=t.stateNode,S=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:Un(t.type,x),y);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(j){Pt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return g=yj,yj=!1,g}function Tu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Y0(t,r,a)}o=o.next}while(o!==n)}}function Ov(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Q0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function x_(e){var t=e.alternate;t!==null&&(e.alternate=null,x_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ko],delete t[Zu],delete t[D0],delete t[N8],delete t[L8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b_(e){return e.tag===5||e.tag===3||e.tag===4}function xj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function G0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rh));else if(n!==4&&(e=e.child,e!==null))for(G0(e,t,r),e=e.sibling;e!==null;)G0(e,t,r),e=e.sibling}function X0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(X0(e,t,r),e=e.sibling;e!==null;)X0(e,t,r),e=e.sibling}var ar=null,Hn=!1;function ka(e,t,r){for(r=r.child;r!==null;)w_(e,t,r),r=r.sibling}function w_(e,t,r){if(_o&&typeof _o.onCommitFiberUnmount=="function")try{_o.onCommitFiberUnmount(bv,r)}catch{}switch(r.tag){case 5:vr||bl(r,t);case 6:var n=ar,o=Hn;ar=null,ka(e,t,r),ar=n,Hn=o,ar!==null&&(Hn?(e=ar,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ar.removeChild(r.stateNode));break;case 18:ar!==null&&(Hn?(e=ar,r=r.stateNode,e.nodeType===8?pg(e.parentNode,r):e.nodeType===1&&pg(e,r),Yu(e)):pg(ar,r.stateNode));break;case 4:n=ar,o=Hn,ar=r.stateNode.containerInfo,Hn=!0,ka(e,t,r),ar=n,Hn=o;break;case 0:case 11:case 14:case 15:if(!vr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Y0(r,t,i),o=o.next}while(o!==n)}ka(e,t,r);break;case 1:if(!vr&&(bl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Pt(r,t,l)}ka(e,t,r);break;case 21:ka(e,t,r);break;case 22:r.mode&1?(vr=(n=vr)||r.memoizedState!==null,ka(e,t,r),vr=n):ka(e,t,r);break;default:ka(e,t,r)}}function bj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new tI),t.forEach(function(n){var o=dI.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function Bn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ar=l.stateNode,Hn=!1;break e;case 3:ar=l.stateNode.containerInfo,Hn=!0;break e;case 4:ar=l.stateNode.containerInfo,Hn=!0;break e}l=l.return}if(ar===null)throw Error(ue(160));w_(a,i,o),ar=null,Hn=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){Pt(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S_(t,e),t=t.sibling}function S_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bn(t,e),so(e),n&4){try{Tu(3,e,e.return),Ov(3,e)}catch(x){Pt(e,e.return,x)}try{Tu(5,e,e.return)}catch(x){Pt(e,e.return,x)}}break;case 1:Bn(t,e),so(e),n&512&&r!==null&&bl(r,r.return);break;case 5:if(Bn(t,e),so(e),n&512&&r!==null&&bl(r,r.return),e.flags&32){var o=e.stateNode;try{qu(o,"")}catch(x){Pt(e,e.return,x)}}if(n&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&qA(o,a),w0(l,i);var d=w0(l,a);for(i=0;i<c.length;i+=2){var u=c[i],f=c[i+1];u==="style"?QA(o,f):u==="dangerouslySetInnerHTML"?KA(o,f):u==="children"?qu(o,f):qb(o,u,f,d)}switch(l){case"input":m0(o,a);break;case"textarea":HA(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?kl(o,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?kl(o,!!a.multiple,a.defaultValue,!0):kl(o,!!a.multiple,a.multiple?[]:"",!1))}o[Zu]=a}catch(x){Pt(e,e.return,x)}}break;case 6:if(Bn(t,e),so(e),n&4){if(e.stateNode===null)throw Error(ue(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(x){Pt(e,e.return,x)}}break;case 3:if(Bn(t,e),so(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yu(t.containerInfo)}catch(x){Pt(e,e.return,x)}break;case 4:Bn(t,e),so(e);break;case 13:Bn(t,e),so(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(jw=Ot())),n&4&&bj(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(vr=(d=vr)||u,Bn(t,e),vr=d):Bn(t,e),so(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(be=e,u=e.child;u!==null;){for(f=be=u;be!==null;){switch(p=be,h=p.child,p.tag){case 0:case 11:case 14:case 15:Tu(4,p,p.return);break;case 1:bl(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){Pt(n,r,x)}}break;case 5:bl(p,p.return);break;case 22:if(p.memoizedState!==null){Sj(f);continue}}h!==null?(h.return=p,be=h):Sj(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{o=f.stateNode,d?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=YA("display",i))}catch(x){Pt(e,e.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){Pt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bn(t,e),so(e),n&4&&bj(e);break;case 21:break;default:Bn(t,e),so(e)}}function so(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(b_(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(qu(o,""),n.flags&=-33);var a=xj(e);X0(e,a,o);break;case 3:case 4:var i=n.stateNode.containerInfo,l=xj(e);G0(e,l,i);break;default:throw Error(ue(161))}}catch(c){Pt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nI(e,t,r){be=e,j_(e)}function j_(e,t,r){for(var n=(e.mode&1)!==0;be!==null;){var o=be,a=o.child;if(o.tag===22&&n){var i=o.memoizedState!==null||jf;if(!i){var l=o.alternate,c=l!==null&&l.memoizedState!==null||vr;l=jf;var d=vr;if(jf=i,(vr=c)&&!d)for(be=o;be!==null;)i=be,c=i.child,i.tag===22&&i.memoizedState!==null?jj(o):c!==null?(c.return=i,be=c):jj(o);for(;a!==null;)be=a,j_(a),a=a.sibling;be=o,jf=l,vr=d}wj(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,be=a):wj(e)}}function wj(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vr||Ov(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vr)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Un(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&aj(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}aj(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Yu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}vr||t.flags&512&&Q0(t)}catch(p){Pt(t,t.return,p)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function Sj(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function jj(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ov(4,t)}catch(c){Pt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(c){Pt(t,o,c)}}var a=t.return;try{Q0(t)}catch(c){Pt(t,a,c)}break;case 5:var i=t.return;try{Q0(t)}catch(c){Pt(t,i,c)}}}catch(c){Pt(t,t.return,c)}if(t===e){be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,be=l;break}be=t.return}}var oI=Math.ceil,ph=ma.ReactCurrentDispatcher,ww=ma.ReactCurrentOwner,$n=ma.ReactCurrentBatchConfig,We=0,rr=null,Nt=null,lr=0,tn=0,wl=bi(0),Vt=0,ad=null,Ps=0,_v=0,Sw=0,Mu=null,Br=null,jw=0,Zl=1/0,qo=null,hh=!1,J0=null,ai=null,kf=!1,Xa=null,vh=0,$u=0,Z0=null,_p=-1,Ep=0;function Er(){return We&6?Ot():_p!==-1?_p:_p=Ot()}function ii(e){return e.mode&1?We&2&&lr!==0?lr&-lr:B8.transition!==null?(Ep===0&&(Ep=sO()),Ep):(e=et,e!==0||(e=window.event,e=e===void 0?16:hO(e.type)),e):1}function to(e,t,r,n){if(50<$u)throw $u=0,Z0=null,Error(ue(185));Md(e,r,n),(!(We&2)||e!==rr)&&(e===rr&&(!(We&2)&&(_v|=r),Vt===4&&Ia(e,lr)),Kr(e,n),r===1&&We===0&&!(t.mode&1)&&(Zl=Ot()+500,Cv&&wi()))}function Kr(e,t){var r=e.callbackNode;BD(e,t);var n=Jp(e,e===rr?lr:0);if(n===0)r!==null&&MS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&MS(r),t===1)e.tag===0?F8(kj.bind(null,e)):$O(kj.bind(null,e)),I8(function(){!(We&6)&&wi()}),r=null;else{switch(lO(n)){case 1:r=Qb;break;case 4:r=aO;break;case 16:r=Xp;break;case 536870912:r=iO;break;default:r=Xp}r=T_(r,k_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function k_(e,t){if(_p=-1,Ep=0,We&6)throw Error(ue(327));var r=e.callbackNode;if(_l()&&e.callbackNode!==r)return null;var n=Jp(e,e===rr?lr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=mh(e,n);else{t=n;var o=We;We|=2;var a=P_();(rr!==e||lr!==t)&&(qo=null,Zl=Ot()+500,ms(e,t));do try{sI();break}catch(l){C_(e,l)}while(!0);lw(),ph.current=a,We=o,Nt!==null?t=0:(rr=null,lr=0,t=Vt)}if(t!==0){if(t===2&&(o=P0(e),o!==0&&(n=o,t=ex(e,o))),t===1)throw r=ad,ms(e,0),Ia(e,n),Kr(e,Ot()),r;if(t===6)Ia(e,n);else{if(o=e.current.alternate,!(n&30)&&!aI(o)&&(t=mh(e,n),t===2&&(a=P0(e),a!==0&&(n=a,t=ex(e,a))),t===1))throw r=ad,ms(e,0),Ia(e,n),Kr(e,Ot()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(ue(345));case 2:Hi(e,Br,qo);break;case 3:if(Ia(e,n),(n&130023424)===n&&(t=jw+500-Ot(),10<t)){if(Jp(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Er(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=z0(Hi.bind(null,e,Br,qo),t);break}Hi(e,Br,qo);break;case 4:if(Ia(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var i=31-eo(n);a=1<<i,i=t[i],i>o&&(o=i),n&=~a}if(n=o,n=Ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oI(n/1960))-n,10<n){e.timeoutHandle=z0(Hi.bind(null,e,Br,qo),n);break}Hi(e,Br,qo);break;case 5:Hi(e,Br,qo);break;default:throw Error(ue(329))}}}return Kr(e,Ot()),e.callbackNode===r?k_.bind(null,e):null}function ex(e,t){var r=Mu;return e.current.memoizedState.isDehydrated&&(ms(e,t).flags|=256),e=mh(e,t),e!==2&&(t=Br,Br=r,t!==null&&tx(t)),e}function tx(e){Br===null?Br=e:Br.push.apply(Br,e)}function aI(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],a=o.getSnapshot;o=o.value;try{if(!ro(a(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ia(e,t){for(t&=~Sw,t&=~_v,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-eo(t),n=1<<r;e[r]=-1,t&=~n}}function kj(e){if(We&6)throw Error(ue(327));_l();var t=Jp(e,0);if(!(t&1))return Kr(e,Ot()),null;var r=mh(e,t);if(e.tag!==0&&r===2){var n=P0(e);n!==0&&(t=n,r=ex(e,n))}if(r===1)throw r=ad,ms(e,0),Ia(e,t),Kr(e,Ot()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hi(e,Br,qo),Kr(e,Ot()),null}function kw(e,t){var r=We;We|=1;try{return e(t)}finally{We=r,We===0&&(Zl=Ot()+500,Cv&&wi())}}function As(e){Xa!==null&&Xa.tag===0&&!(We&6)&&_l();var t=We;We|=1;var r=$n.transition,n=et;try{if($n.transition=null,et=1,e)return e()}finally{et=n,$n.transition=r,We=t,!(We&6)&&wi()}}function Cw(){tn=wl.current,ut(wl)}function ms(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,D8(r)),Nt!==null)for(r=Nt.return;r!==null;){var n=r;switch(aw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nh();break;case 3:Xl(),ut(Hr),ut(xr),hw();break;case 5:pw(n);break;case 4:Xl();break;case 13:ut(bt);break;case 19:ut(bt);break;case 10:cw(n.type._context);break;case 22:case 23:Cw()}r=r.return}if(rr=e,Nt=e=si(e.current,null),lr=tn=t,Vt=0,ad=null,Sw=_v=Ps=0,Br=Mu=null,Xi!==null){for(t=0;t<Xi.length;t++)if(r=Xi[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=o,n.next=i}r.pending=n}Xi=null}return e}function C_(e,t){do{var r=Nt;try{if(lw(),Pp.current=fh,dh){for(var n=wt.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}dh=!1}if(Cs=0,er=qt=wt=null,Eu=!1,rd=0,ww.current=null,r===null||r.return===null){Vt=1,ad=t,Nt=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=lr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=dj(i);if(h!==null){h.flags&=-257,fj(h,i,l,a,t),h.mode&1&&uj(a,d,t),t=h,c=d;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){uj(a,d,t),Pw();break e}c=Error(ue(426))}}else if(ht&&l.mode&1){var y=dj(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),fj(y,i,l,a,t),iw(Jl(c,l));break e}}a=c=Jl(c,l),Vt!==4&&(Vt=2),Mu===null?Mu=[a]:Mu.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=l_(a,c,t);oj(a,v);break e;case 1:l=c;var S=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof S.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ai===null||!ai.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=c_(a,l,t);oj(a,j);break e}}a=a.return}while(a!==null)}O_(r)}catch(k){t=k,Nt===r&&r!==null&&(Nt=r=r.return);continue}break}while(!0)}function P_(){var e=ph.current;return ph.current=fh,e===null?fh:e}function Pw(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),rr===null||!(Ps&268435455)&&!(_v&268435455)||Ia(rr,lr)}function mh(e,t){var r=We;We|=2;var n=P_();(rr!==e||lr!==t)&&(qo=null,ms(e,t));do try{iI();break}catch(o){C_(e,o)}while(!0);if(lw(),We=r,ph.current=n,Nt!==null)throw Error(ue(261));return rr=null,lr=0,Vt}function iI(){for(;Nt!==null;)A_(Nt)}function sI(){for(;Nt!==null&&!MD();)A_(Nt)}function A_(e){var t=E_(e.alternate,e,tn);e.memoizedProps=e.pendingProps,t===null?O_(e):Nt=t,ww.current=null}function O_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=eI(r,t),r!==null){r.flags&=32767,Nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,Nt=null;return}}else if(r=Z8(r,t,tn),r!==null){Nt=r;return}if(t=t.sibling,t!==null){Nt=t;return}Nt=t=e}while(t!==null);Vt===0&&(Vt=5)}function Hi(e,t,r){var n=et,o=$n.transition;try{$n.transition=null,et=1,lI(e,t,r,n)}finally{$n.transition=o,et=n}return null}function lI(e,t,r,n){do _l();while(Xa!==null);if(We&6)throw Error(ue(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(UD(e,a),e===rr&&(Nt=rr=null,lr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||kf||(kf=!0,T_(Xp,function(){return _l(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=$n.transition,$n.transition=null;var i=et;et=1;var l=We;We|=4,ww.current=null,rI(e,r),S_(r,e),O8(M0),Zp=!!T0,M0=T0=null,e.current=r,nI(r),$D(),We=l,et=i,$n.transition=a}else e.current=r;if(kf&&(kf=!1,Xa=e,vh=o),a=e.pendingLanes,a===0&&(ai=null),ID(r.stateNode),Kr(e,Ot()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(hh)throw hh=!1,e=J0,J0=null,e;return vh&1&&e.tag!==0&&_l(),a=e.pendingLanes,a&1?e===Z0?$u++:($u=0,Z0=e):$u=0,wi(),null}function _l(){if(Xa!==null){var e=lO(vh),t=$n.transition,r=et;try{if($n.transition=null,et=16>e?16:e,Xa===null)var n=!1;else{if(e=Xa,Xa=null,vh=0,We&6)throw Error(ue(331));var o=We;for(We|=4,be=e.current;be!==null;){var a=be,i=a.child;if(be.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(be=d;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:Tu(8,u,a)}var f=u.child;if(f!==null)f.return=u,be=f;else for(;be!==null;){u=be;var p=u.sibling,h=u.return;if(x_(u),u===d){be=null;break}if(p!==null){p.return=h,be=p;break}be=h}}}var g=a.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}be=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,be=i;else e:for(;be!==null;){if(a=be,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Tu(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,be=v;break e}be=a.return}}var S=e.current;for(be=S;be!==null;){i=be;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,be=b;else e:for(i=S;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ov(9,l)}}catch(k){Pt(l,l.return,k)}if(l===i){be=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,be=j;break e}be=l.return}}if(We=o,wi(),_o&&typeof _o.onPostCommitFiberRoot=="function")try{_o.onPostCommitFiberRoot(bv,e)}catch{}n=!0}return n}finally{et=r,$n.transition=t}}return!1}function Cj(e,t,r){t=Jl(r,t),t=l_(e,t,1),e=oi(e,t,1),t=Er(),e!==null&&(Md(e,1,t),Kr(e,t))}function Pt(e,t,r){if(e.tag===3)Cj(e,e,r);else for(;t!==null;){if(t.tag===3){Cj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ai===null||!ai.has(n))){e=Jl(r,e),e=c_(t,e,1),t=oi(t,e,1),e=Er(),t!==null&&(Md(t,1,e),Kr(t,e));break}}t=t.return}}function cI(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Er(),e.pingedLanes|=e.suspendedLanes&r,rr===e&&(lr&r)===r&&(Vt===4||Vt===3&&(lr&130023424)===lr&&500>Ot()-jw?ms(e,0):Sw|=r),Kr(e,t)}function __(e,t){t===0&&(e.mode&1?(t=hf,hf<<=1,!(hf&130023424)&&(hf=4194304)):t=1);var r=Er();e=la(e,t),e!==null&&(Md(e,t,r),Kr(e,r))}function uI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),__(e,r)}function dI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(t),__(e,r)}var E_;E_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Hr.current)Wr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wr=!1,J8(e,t,r);Wr=!!(e.flags&131072)}else Wr=!1,ht&&t.flags&1048576&&zO(t,ih,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Op(e,t),e=t.pendingProps;var o=Yl(t,xr.current);Ol(t,r),o=mw(null,t,n,e,o,r);var a=gw();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vr(n)?(a=!0,oh(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,dw(t),o.updater=Av,t.stateNode=o,o._reactInternals=t,B0(t,n,e,r),t=q0(null,t,n,!0,a,r)):(t.tag=0,ht&&a&&ow(t),kr(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Op(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=pI(n),e=Un(n,e),o){case 0:t=W0(null,t,n,e,r);break e;case 1:t=vj(null,t,n,e,r);break e;case 11:t=pj(null,t,n,e,r);break e;case 14:t=hj(null,t,n,Un(n.type,e),r);break e}throw Error(ue(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Un(n,o),W0(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Un(n,o),vj(e,t,n,o,r);case 3:e:{if(p_(t),e===null)throw Error(ue(387));n=t.pendingProps,a=t.memoizedState,o=a.element,FO(e,t),ch(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Jl(Error(ue(423)),t),t=mj(e,t,n,r,o);break e}else if(n!==o){o=Jl(Error(ue(424)),t),t=mj(e,t,n,r,o);break e}else for(ln=ni(t.stateNode.containerInfo.firstChild),cn=t,ht=!0,Kn=null,r=NO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ql(),n===o){t=ca(e,t,r);break e}kr(e,t,n,r)}t=t.child}return t;case 5:return BO(t),e===null&&N0(t),n=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,$0(n,o)?i=null:a!==null&&$0(n,a)&&(t.flags|=32),f_(e,t),kr(e,t,i,r),t.child;case 6:return e===null&&N0(t),null;case 13:return h_(e,t,r);case 4:return fw(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Gl(t,null,n,r):kr(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Un(n,o),pj(e,t,n,o,r);case 7:return kr(e,t,t.pendingProps,r),t.child;case 8:return kr(e,t,t.pendingProps.children,r),t.child;case 12:return kr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,st(sh,n._currentValue),n._currentValue=i,a!==null)if(ro(a.value,i)){if(a.children===o.children&&!Hr.current){t=ca(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ra(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),L0(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ue(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),L0(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}kr(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Ol(t,r),o=zn(o),n=n(o),t.flags|=1,kr(e,t,n,r),t.child;case 14:return n=t.type,o=Un(n,t.pendingProps),o=Un(n.type,o),hj(e,t,n,o,r);case 15:return u_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Un(n,o),Op(e,t),t.tag=1,Vr(n)?(e=!0,oh(t)):e=!1,Ol(t,r),s_(t,n,o),B0(t,n,o,r),q0(null,t,n,!0,e,r);case 19:return v_(e,t,r);case 22:return d_(e,t,r)}throw Error(ue(156,t.tag))};function T_(e,t){return oO(e,t)}function fI(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,t,r,n){return new fI(e,t,r,n)}function Aw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pI(e){if(typeof e=="function")return Aw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vb)return 11;if(e===Kb)return 14}return 2}function si(e,t){var r=e.alternate;return r===null?(r=Tn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Tp(e,t,r,n,o,a){var i=2;if(n=e,typeof e=="function")Aw(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case dl:return gs(r.children,o,a,t);case Hb:i=8,o|=8;break;case d0:return e=Tn(12,r,t,o|2),e.elementType=d0,e.lanes=a,e;case f0:return e=Tn(13,r,t,o),e.elementType=f0,e.lanes=a,e;case p0:return e=Tn(19,r,t,o),e.elementType=p0,e.lanes=a,e;case BA:return Ev(r,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case LA:i=10;break e;case FA:i=9;break e;case Vb:i=11;break e;case Kb:i=14;break e;case Ma:i=16,n=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=Tn(i,r,t,o),t.elementType=e,t.type=n,t.lanes=a,t}function gs(e,t,r,n){return e=Tn(7,e,n,t),e.lanes=r,e}function Ev(e,t,r,n){return e=Tn(22,e,n,t),e.elementType=BA,e.lanes=r,e.stateNode={isHidden:!1},e}function wg(e,t,r){return e=Tn(6,e,null,t),e.lanes=r,e}function Sg(e,t,r){return t=Tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hI(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rg(0),this.expirationTimes=rg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rg(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ow(e,t,r,n,o,a,i,l,c){return e=new hI(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Tn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dw(a),e}function vI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ul,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function M_(e){if(!e)return hi;e=e._reactInternals;e:{if(Is(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(Vr(r))return MO(e,r,t)}return t}function $_(e,t,r,n,o,a,i,l,c){return e=Ow(r,n,!0,e,o,a,i,l,c),e.context=M_(null),r=e.current,n=Er(),o=ii(r),a=ra(n,o),a.callback=t??null,oi(r,a,o),e.current.lanes=o,Md(e,o,n),Kr(e,n),e}function Tv(e,t,r,n){var o=t.current,a=Er(),i=ii(o);return r=M_(r),t.context===null?t.context=r:t.pendingContext=r,t=ra(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=oi(o,t,i),e!==null&&(to(e,o,i,a),Cp(e,o,i)),i}function gh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _w(e,t){Pj(e,t),(e=e.alternate)&&Pj(e,t)}function mI(){return null}var z_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ew(e){this._internalRoot=e}Mv.prototype.render=Ew.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));Tv(e,t,null,null)};Mv.prototype.unmount=Ew.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;As(function(){Tv(null,e,null,null)}),t[sa]=null}};function Mv(e){this._internalRoot=e}Mv.prototype.unstable_scheduleHydration=function(e){if(e){var t=dO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Da.length&&t!==0&&t<Da[r].priority;r++);Da.splice(r,0,e),r===0&&pO(e)}};function Tw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Aj(){}function gI(e,t,r,n,o){if(o){if(typeof n=="function"){var a=n;n=function(){var d=gh(i);a.call(d)}}var i=$_(t,n,e,0,null,!1,!1,"",Aj);return e._reactRootContainer=i,e[sa]=i.current,Xu(e.nodeType===8?e.parentNode:e),As(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var l=n;n=function(){var d=gh(c);l.call(d)}}var c=Ow(e,0,!1,null,null,!1,!1,"",Aj);return e._reactRootContainer=c,e[sa]=c.current,Xu(e.nodeType===8?e.parentNode:e),As(function(){Tv(t,c,r,n)}),c}function zv(e,t,r,n,o){var a=r._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var l=o;o=function(){var c=gh(i);l.call(c)}}Tv(t,i,e,o)}else i=gI(r,t,e,o,n);return gh(i)}cO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xu(t.pendingLanes);r!==0&&(Gb(t,r|1),Kr(t,Ot()),!(We&6)&&(Zl=Ot()+500,wi()))}break;case 13:As(function(){var n=la(e,1);if(n!==null){var o=Er();to(n,e,1,o)}}),_w(e,1)}};Xb=function(e){if(e.tag===13){var t=la(e,134217728);if(t!==null){var r=Er();to(t,e,134217728,r)}_w(e,134217728)}};uO=function(e){if(e.tag===13){var t=ii(e),r=la(e,t);if(r!==null){var n=Er();to(r,e,t,n)}_w(e,t)}};dO=function(){return et};fO=function(e,t){var r=et;try{return et=e,t()}finally{et=r}};j0=function(e,t,r){switch(t){case"input":if(m0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=kv(n);if(!o)throw Error(ue(90));WA(n),m0(n,o)}}}break;case"textarea":HA(e,r);break;case"select":t=r.value,t!=null&&kl(e,!!r.multiple,t,!1)}};JA=kw;ZA=As;var yI={usingClientEntryPoint:!1,Events:[zd,vl,kv,GA,XA,kw]},Bc={findFiberByHostInstance:Gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xI={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rO(e),e===null?null:e.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||mI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{bv=Cf.inject(xI),_o=Cf}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yI;gn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tw(t))throw Error(ue(200));return vI(e,t,null,r)};gn.createRoot=function(e,t){if(!Tw(e))throw Error(ue(299));var r=!1,n="",o=z_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ow(e,1,!1,null,null,r,!1,n,o),e[sa]=t.current,Xu(e.nodeType===8?e.parentNode:e),new Ew(t)};gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=rO(t),e=e===null?null:e.stateNode,e};gn.flushSync=function(e){return As(e)};gn.hydrate=function(e,t,r){if(!$v(t))throw Error(ue(200));return zv(null,e,t,!0,r)};gn.hydrateRoot=function(e,t,r){if(!Tw(e))throw Error(ue(405));var n=r!=null&&r.hydratedSources||null,o=!1,a="",i=z_;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=$_(t,null,e,1,r??null,o,!1,a,i),e[sa]=t.current,Xu(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Mv(t)};gn.render=function(e,t,r){if(!$v(t))throw Error(ue(200));return zv(null,e,t,!1,r)};gn.unmountComponentAtNode=function(e){if(!$v(e))throw Error(ue(40));return e._reactRootContainer?(As(function(){zv(null,null,e,!1,function(){e._reactRootContainer=null,e[sa]=null})}),!0):!1};gn.unstable_batchedUpdates=kw;gn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$v(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return zv(e,t,r,!1,n)};gn.version="18.3.1-next-f1338f8080-20240426";function D_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D_)}catch(e){console.error(e)}}D_(),DA.exports=gn;var Mw=DA.exports,I_,Oj=Mw;I_=Oj.createRoot,Oj.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(this,arguments)}var Ja;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ja||(Ja={}));const _j="popstate";function bI(e){e===void 0&&(e={});function t(n,o){let{pathname:a,search:i,hash:l}=n.location;return rx("",{pathname:a,search:i,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:yh(o)}return SI(t,r,null,e)}function Et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function R_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wI(){return Math.random().toString(36).substr(2,8)}function Ej(e,t){return{usr:e.state,key:e.key,idx:t}}function rx(e,t,r,n){return r===void 0&&(r=null),id({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hc(t):t,{state:r,key:t&&t.key||n||wI()})}function yh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function SI(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:a=!1}=n,i=o.history,l=Ja.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(id({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function f(){l=Ja.Pop;let y=u(),v=y==null?null:y-d;d=y,c&&c({action:l,location:x.location,delta:v})}function p(y,v){l=Ja.Push;let S=rx(x.location,y,v);d=u()+1;let b=Ej(S,d),j=x.createHref(S);try{i.pushState(b,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(j)}a&&c&&c({action:l,location:x.location,delta:1})}function h(y,v){l=Ja.Replace;let S=rx(x.location,y,v);d=u();let b=Ej(S,d),j=x.createHref(S);i.replaceState(b,"",j),a&&c&&c({action:l,location:x.location,delta:0})}function g(y){let v=o.location.origin!=="null"?o.location.origin:o.location.href,S=typeof y=="string"?y:yh(y);return S=S.replace(/ $/,"%20"),Et(v,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,v)}let x={get action(){return l},get location(){return e(o,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(_j,f),c=y,()=>{o.removeEventListener(_j,f),c=null}},createHref(y){return t(o,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:h,go(y){return i.go(y)}};return x}var Tj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tj||(Tj={}));function jI(e,t,r){return r===void 0&&(r="/"),kI(e,t,r)}function kI(e,t,r,n){let o=typeof t=="string"?hc(t):t,a=$w(o.pathname||"/",r);if(a==null)return null;let i=N_(e);CI(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=RI(a);l=zI(i[c],d)}return l}function N_(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Et(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=li([n,c.relativePath]),u=r.concat(c);a.children&&a.children.length>0&&(Et(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),N_(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:MI(d,a.index),routesMeta:u})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,i);else for(let c of L_(a.path))o(a,i,c)}),t}function L_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return o?[a,""]:[a];let i=L_(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),o&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function CI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$I(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const PI=/^:[\w-]+$/,AI=3,OI=2,_I=1,EI=10,TI=-2,Mj=e=>e==="*";function MI(e,t){let r=e.split("/"),n=r.length;return r.some(Mj)&&(n+=TI),t&&(n+=OI),r.filter(o=>!Mj(o)).reduce((o,a)=>o+(PI.test(a)?AI:a===""?_I:EI),n)}function $I(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function zI(e,t,r){let{routesMeta:n}=e,o={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=DI({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!f)return null;Object.assign(o,f.params),i.push({params:o,pathname:li([a,f.pathname]),pathnameBase:BI(li([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=li([a,f.pathnameBase]))}return i}function DI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=II(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:p,isOptional:h}=u;if(p==="*"){let x=l[f]||"";i=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[f];return h&&!g?d[p]=void 0:d[p]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:i,pattern:e}}function II(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),R_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function RI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return R_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $w(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function NI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?hc(e):e;return{pathname:r?r.startsWith("/")?r:LI(r,t):t,search:UI(n),hash:WI(o)}}function LI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function jg(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zw(e,t){let r=FI(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Dw(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=hc(e):(o=id({},e),Et(!o.pathname||!o.pathname.includes("?"),jg("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),jg("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),jg("#","search","hash",o)));let a=e===""||o.pathname==="",i=a?"/":o.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;o.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=NI(o,l),d=i&&i!=="/"&&i.endsWith("/"),u=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const li=e=>e.join("/").replace(/\/\/+/g,"/"),BI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),UI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const F_=["post","put","patch","delete"];new Set(F_);const HI=["get",...F_];new Set(HI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sd.apply(this,arguments)}const Iw=m.createContext(null),VI=m.createContext(null),Si=m.createContext(null),Dv=m.createContext(null),No=m.createContext({outlet:null,matches:[],isDataRoute:!1}),B_=m.createContext(null);function KI(e,t){let{relative:r}=t===void 0?{}:t;vc()||Et(!1);let{basename:n,navigator:o}=m.useContext(Si),{hash:a,pathname:i,search:l}=W_(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:li([n,i])),o.createHref({pathname:c,search:l,hash:a})}function vc(){return m.useContext(Dv)!=null}function ga(){return vc()||Et(!1),m.useContext(Dv).location}function U_(e){m.useContext(Si).static||m.useLayoutEffect(e)}function Kt(){let{isDataRoute:e}=m.useContext(No);return e?lR():YI()}function YI(){vc()||Et(!1);let e=m.useContext(Iw),{basename:t,future:r,navigator:n}=m.useContext(Si),{matches:o}=m.useContext(No),{pathname:a}=ga(),i=JSON.stringify(zw(o,r.v7_relativeSplatPath)),l=m.useRef(!1);return U_(()=>{l.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=Dw(d,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:li([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,i,a,e])}const QI=m.createContext(null);function GI(e){let t=m.useContext(No).outlet;return t&&m.createElement(QI.Provider,{value:e},t)}function mc(){let{matches:e}=m.useContext(No),t=e[e.length-1];return t?t.params:{}}function W_(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Si),{matches:o}=m.useContext(No),{pathname:a}=ga(),i=JSON.stringify(zw(o,n.v7_relativeSplatPath));return m.useMemo(()=>Dw(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function XI(e,t){return JI(e,t)}function JI(e,t,r,n){vc()||Et(!1);let{navigator:o}=m.useContext(Si),{matches:a}=m.useContext(No),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=ga(),u;if(t){var f;let y=typeof t=="string"?hc(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||Et(!1),u=y}else u=d;let p=u.pathname||"/",h=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=jI(e,{pathname:h}),x=nR(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:li([c,o.encodeLocation?o.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:li([c,o.encodeLocation?o.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&x?m.createElement(Dv.Provider,{value:{location:sd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ja.Pop}},x):x}function ZI(){let e=sR(),t=qI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:o},r):null,null)}const eR=m.createElement(ZI,null);class tR extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(No.Provider,{value:this.props.routeContext},m.createElement(B_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rR(e){let{routeContext:t,match:r,children:n}=e,o=m.useContext(Iw);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(No.Provider,{value:t},n)}function nR(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(o=r)==null?void 0:o.errors;if(l!=null){let u=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Et(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:p,errors:h}=r,g=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,f,p)=>{let h,g=!1,x=null,y=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||eR,c&&(d<0&&p===0?(cR("route-fallback"),g=!0,y=null):d===p&&(g=!0,y=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,p+1)),S=()=>{let b;return h?b=x:g?b=y:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,m.createElement(rR,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(tR,{location:r.location,revalidation:r.revalidation,component:x,error:h,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):S()},null)}var q_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(q_||{}),H_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(H_||{});function oR(e){let t=m.useContext(Iw);return t||Et(!1),t}function aR(e){let t=m.useContext(VI);return t||Et(!1),t}function iR(e){let t=m.useContext(No);return t||Et(!1),t}function V_(e){let t=iR(),r=t.matches[t.matches.length-1];return r.route.id||Et(!1),r.route.id}function sR(){var e;let t=m.useContext(B_),r=aR(),n=V_();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function lR(){let{router:e}=oR(q_.UseNavigateStable),t=V_(H_.UseNavigateStable),r=m.useRef(!1);return U_(()=>{r.current=!0}),m.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,sd({fromRouteId:t},a)))},[e,t])}const $j={};function cR(e,t,r){$j[e]||($j[e]=!0)}function uR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function K_(e){let{to:t,replace:r,state:n,relative:o}=e;vc()||Et(!1);let{future:a,static:i}=m.useContext(Si),{matches:l}=m.useContext(No),{pathname:c}=ga(),d=Kt(),u=Dw(t,zw(l,a.v7_relativeSplatPath),c,o==="path"),f=JSON.stringify(u);return m.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:o}),[d,f,o,r,n]),null}function Y_(e){return GI(e.context)}function xt(e){Et(!1)}function dR(e){let{basename:t="/",children:r=null,location:n,navigationType:o=Ja.Pop,navigator:a,static:i=!1,future:l}=e;vc()&&Et(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:a,static:i,future:sd({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=hc(n));let{pathname:u="/",search:f="",hash:p="",state:h=null,key:g="default"}=n,x=m.useMemo(()=>{let y=$w(u,c);return y==null?null:{location:{pathname:y,search:f,hash:p,state:h,key:g},navigationType:o}},[c,u,f,p,h,g,o]);return x==null?null:m.createElement(Si.Provider,{value:d},m.createElement(Dv.Provider,{children:r,value:x}))}function fR(e){let{children:t,location:r}=e;return XI(nx(t),r)}new Promise(()=>{});function nx(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,o)=>{if(!m.isValidElement(n))return;let a=[...t,o];if(n.type===m.Fragment){r.push.apply(r,nx(n.props.children,a));return}n.type!==xt&&Et(!1),!n.props.index||!n.props.children||Et(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=nx(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ox.apply(this,arguments)}function pR(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function hR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vR(e,t){return e.button===0&&(!t||t==="_self")&&!hR(e)}function ax(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(o=>[r,o]):[[r,n]])},[]))}function mR(e,t){let r=ax(e);return t&&t.forEach((n,o)=>{r.has(o)||t.getAll(o).forEach(a=>{r.append(o,a)})}),r}const gR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yR="6";try{window.__reactRouterVersion=yR}catch{}const xR="startTransition",zj=Kp[xR];function bR(e){let{basename:t,children:r,future:n,window:o}=e,a=m.useRef();a.current==null&&(a.current=bI({window:o,v5Compat:!0}));let i=a.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=m.useCallback(f=>{d&&zj?zj(()=>c(f)):c(f)},[c,d]);return m.useLayoutEffect(()=>i.listen(u),[i,u]),m.useEffect(()=>uR(n),[n]),m.createElement(dR,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const wR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rw=m.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:a,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,p=pR(t,gR),{basename:h}=m.useContext(Si),g,x=!1;if(typeof d=="string"&&SR.test(d)&&(g=d,wR))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),k=$w(j.pathname,h);j.origin===b.origin&&k!=null?d=k+j.search+j.hash:x=!0}catch{}let y=KI(d,{relative:o}),v=jR(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:o,viewTransition:f});function S(b){n&&n(b),b.defaultPrevented||v(b)}return m.createElement("a",ox({},p,{href:g||y,onClick:x||a?n:S,ref:r,target:c}))});var Dj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dj||(Dj={}));var Ij;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ij||(Ij={}));function jR(e,t){let{target:r,replace:n,state:o,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=Kt(),d=ga(),u=W_(e,{relative:i});return m.useCallback(f=>{if(vR(f,r)){f.preventDefault();let p=n!==void 0?n:yh(d)===yh(u);c(e,{replace:p,state:o,preventScrollReset:a,relative:i,viewTransition:l})}},[d,c,u,n,o,r,e,a,i,l])}function kR(e){let t=m.useRef(ax(e)),r=m.useRef(!1),n=ga(),o=m.useMemo(()=>mR(n.search,r.current?null:t.current),[n.search]),a=Kt(),i=m.useCallback((l,c)=>{const d=ax(typeof l=="function"?l(o):l);r.current=!0,a("?"+d,c)},[a,o]);return[o,i]}var gc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Os=typeof window>"u"||"Deno"in globalThis;function Cr(){}function CR(e,t){return typeof e=="function"?e(t):e}function ix(e){return typeof e=="number"&&e>=0&&e!==1/0}function Q_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ci(e,t){return typeof e=="function"?e(t):e}function Pn(e,t){return typeof e=="function"?e(t):e}function Rj(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Nw(i,t.options))return!1}else if(!ld(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||o&&o!==t.state.fetchStatus||a&&!a(t))}function Nj(e,t){const{exact:r,status:n,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(_s(t.options.mutationKey)!==_s(a))return!1}else if(!ld(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function Nw(e,t){return((t==null?void 0:t.queryKeyHashFn)||_s)(e)}function _s(e){return JSON.stringify(e,(t,r)=>sx(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function ld(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ld(e[r],t[r])):!1}function G_(e,t){if(e===t)return e;const r=Lj(e)&&Lj(t);if(r||sx(e)&&sx(t)){const n=r?e:Object.keys(e),o=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{},c=new Set(n);let d=0;for(let u=0;u<i;u++){const f=r?u:a[u];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,d++):(l[f]=G_(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&d++)}return o===i&&d===o?e:l}return t}function xh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Lj(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function sx(e){if(!Fj(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Fj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Fj(e){return Object.prototype.toString.call(e)==="[object Object]"}function PR(e){return new Promise(t=>{setTimeout(t,e)})}function lx(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?G_(e,t):t}function AR(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function OR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Lw=Symbol();function X_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Lw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function J_(e,t){return typeof e=="function"?e(...t):!!e}var ss,Fa,Dl,hA,_R=(hA=class extends gc{constructor(){super();Oe(this,ss);Oe(this,Fa);Oe(this,Dl);ye(this,Dl,t=>{if(!Os&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,Fa)||this.setEventListener(F(this,Dl))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,Fa))==null||t.call(this),ye(this,Fa,void 0))}setEventListener(t){var r;ye(this,Dl,t),(r=F(this,Fa))==null||r.call(this),ye(this,Fa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){F(this,ss)!==t&&(ye(this,ss,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof F(this,ss)=="boolean"?F(this,ss):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ss=new WeakMap,Fa=new WeakMap,Dl=new WeakMap,hA),Fw=new _R,Il,Ba,Rl,vA,ER=(vA=class extends gc{constructor(){super();Oe(this,Il,!0);Oe(this,Ba);Oe(this,Rl);ye(this,Rl,t=>{if(!Os&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,Ba)||this.setEventListener(F(this,Rl))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,Ba))==null||t.call(this),ye(this,Ba,void 0))}setEventListener(t){var r;ye(this,Rl,t),(r=F(this,Ba))==null||r.call(this),ye(this,Ba,t(this.setOnline.bind(this)))}setOnline(t){F(this,Il)!==t&&(ye(this,Il,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return F(this,Il)}},Il=new WeakMap,Ba=new WeakMap,Rl=new WeakMap,vA),bh=new ER;function cx(){let e,t;const r=new Promise((o,a)=>{e=o,t=a});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}function TR(e){return Math.min(1e3*2**e,3e4)}function Z_(e){return(e??"online")==="online"?bh.isOnline():!0}var eE=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function kg(e){return e instanceof eE}function tE(e){let t=!1,r=0,n=!1,o;const a=cx(),i=x=>{var y;n||(p(new eE(x)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Fw.isFocused()&&(e.networkMode==="always"||bh.isOnline())&&e.canRun(),u=()=>Z_(e.networkMode)&&e.canRun(),f=x=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,x),o==null||o(),a.resolve(x))},p=x=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,x),o==null||o(),a.reject(x))},h=()=>new Promise(x=>{var y;o=v=>{(n||d())&&x(v)},(y=e.onPause)==null||y.call(e)}).then(()=>{var x;o=void 0,n||(x=e.onContinue)==null||x.call(e)}),g=()=>{if(n)return;let x;const y=r===0?e.initialPromise:void 0;try{x=y??e.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(f).catch(v=>{var C;if(n)return;const S=e.retry??(Os?0:3),b=e.retryDelay??TR,j=typeof b=="function"?b(r,v):b,k=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,v);if(t||!k){p(v);return}r++,(C=e.onFail)==null||C.call(e,r,v),PR(j).then(()=>d()?void 0:h()).then(()=>{t?p(v):g()})})};return{promise:a,cancel:i,continue:()=>(o==null||o(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():h().then(g),a)}}var MR=e=>setTimeout(e,0);function $R(){let e=[],t=0,r=l=>{l()},n=l=>{l()},o=MR;const a=l=>{t?e.push(l):o(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&o(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{o=l}}}var Ht=$R(),ls,mA,rE=(mA=class{constructor(){Oe(this,ls)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ix(this.gcTime)&&ye(this,ls,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Os?1/0:5*60*1e3))}clearGcTimeout(){F(this,ls)&&(clearTimeout(F(this,ls)),ye(this,ls,void 0))}},ls=new WeakMap,mA),Nl,cs,Cn,us,pr,Ad,ds,Wn,Wo,gA,zR=(gA=class extends rE{constructor(t){super();Oe(this,Wn);Oe(this,Nl);Oe(this,cs);Oe(this,Cn);Oe(this,us);Oe(this,pr);Oe(this,Ad);Oe(this,ds);ye(this,ds,!1),ye(this,Ad,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,us,t.client),ye(this,Cn,F(this,us).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,Nl,DR(this.options)),this.state=t.state??F(this,Nl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,pr))==null?void 0:t.promise}setOptions(t){this.options={...F(this,Ad),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Cn).remove(this)}setData(t,r){const n=lx(this.state.data,t,this.options);return ze(this,Wn,Wo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ze(this,Wn,Wo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,o;const r=(n=F(this,pr))==null?void 0:n.promise;return(o=F(this,pr))==null||o.cancel(t),r?r.then(Cr).catch(Cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Nl))}isActive(){return this.observers.some(t=>Pn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ci(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Q_(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,pr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,pr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,Cn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(F(this,pr)&&(F(this,ds)?F(this,pr).cancel({revert:!0}):F(this,pr).cancelRetry()),this.scheduleGc()),F(this,Cn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ze(this,Wn,Wo).call(this,{type:"invalidate"})}fetch(t,r){var d,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,pr))return F(this,pr).continueRetry(),F(this,pr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(h=>h.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,o=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(ye(this,ds,!0),n.signal)})},a=()=>{const p=X_(this.options,r),g=(()=>{const x={client:F(this,us),queryKey:this.queryKey,meta:this.meta};return o(x),x})();return ye(this,ds,!1),this.options.persister?this.options.persister(p,g,this):p(g)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,us),state:this.state,fetchFn:a};return o(p),p})();(d=this.options.behavior)==null||d.onFetch(l,this),ye(this,cs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&ze(this,Wn,Wo).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=p=>{var h,g,x,y;kg(p)&&p.silent||ze(this,Wn,Wo).call(this,{type:"error",error:p}),kg(p)||((g=(h=F(this,Cn).config).onError)==null||g.call(h,p,this),(y=(x=F(this,Cn).config).onSettled)==null||y.call(x,this.state.data,p,this)),this.scheduleGc()};return ye(this,pr,tE({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var h,g,x,y;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(v){c(v);return}(g=(h=F(this,Cn).config).onSuccess)==null||g.call(h,p,this),(y=(x=F(this,Cn).config).onSettled)==null||y.call(x,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,h)=>{ze(this,Wn,Wo).call(this,{type:"failed",failureCount:p,error:h})},onPause:()=>{ze(this,Wn,Wo).call(this,{type:"pause"})},onContinue:()=>{ze(this,Wn,Wo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),F(this,pr).start()}},Nl=new WeakMap,cs=new WeakMap,Cn=new WeakMap,us=new WeakMap,pr=new WeakMap,Ad=new WeakMap,ds=new WeakMap,Wn=new WeakSet,Wo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...nE(n.data,this.options),fetchMeta:t.meta??null};case"success":return ye(this,cs,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return kg(o)&&o.revert&&F(this,cs)?{...F(this,cs),fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ht.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,Cn).notify({query:this,type:"updated",action:t})})},gA);function nE(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Z_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function DR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var go,yA,IR=(yA=class extends gc{constructor(t={}){super();Oe(this,go);this.config=t,ye(this,go,new Map)}build(t,r,n){const o=r.queryKey,a=r.queryHash??Nw(o,r);let i=this.get(a);return i||(i=new zR({client:t,queryKey:o,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){F(this,go).has(t.queryHash)||(F(this,go).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=F(this,go).get(t.queryHash);r&&(t.destroy(),r===t&&F(this,go).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,go).get(t)}getAll(){return[...F(this,go).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Rj(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Rj(t,n)):r}notify(t){Ht.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},go=new WeakMap,yA),yo,Sr,fs,xo,Ta,xA,RR=(xA=class extends rE{constructor(t){super();Oe(this,xo);Oe(this,yo);Oe(this,Sr);Oe(this,fs);this.mutationId=t.mutationId,ye(this,Sr,t.mutationCache),ye(this,yo,[]),this.state=t.state||oE(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,yo).includes(t)||(F(this,yo).push(t),this.clearGcTimeout(),F(this,Sr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,yo,F(this,yo).filter(r=>r!==t)),this.scheduleGc(),F(this,Sr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,yo).length||(this.state.status==="pending"?this.scheduleGc():F(this,Sr).remove(this))}continue(){var t;return((t=F(this,fs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,l,c,d,u,f,p,h,g,x,y,v,S,b,j,k,C,O,D;const r=()=>{ze(this,xo,Ta).call(this,{type:"continue"})};ye(this,fs,tE({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,K)=>{ze(this,xo,Ta).call(this,{type:"failed",failureCount:I,error:K})},onPause:()=>{ze(this,xo,Ta).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Sr).canRun(this)}));const n=this.state.status==="pending",o=!F(this,fs).canStart();try{if(n)r();else{ze(this,xo,Ta).call(this,{type:"pending",variables:t,isPaused:o}),await((i=(a=F(this,Sr).config).onMutate)==null?void 0:i.call(a,t,this));const K=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));K!==this.state.context&&ze(this,xo,Ta).call(this,{type:"pending",context:K,variables:t,isPaused:o})}const I=await F(this,fs).start();return await((u=(d=F(this,Sr).config).onSuccess)==null?void 0:u.call(d,I,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,t,this.state.context)),await((g=(h=F(this,Sr).config).onSettled)==null?void 0:g.call(h,I,null,this.state.variables,this.state.context,this)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,I,null,t,this.state.context)),ze(this,xo,Ta).call(this,{type:"success",data:I}),I}catch(I){try{throw await((S=(v=F(this,Sr).config).onError)==null?void 0:S.call(v,I,t,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,I,t,this.state.context)),await((C=(k=F(this,Sr).config).onSettled)==null?void 0:C.call(k,void 0,I,this.state.variables,this.state.context,this)),await((D=(O=this.options).onSettled)==null?void 0:D.call(O,void 0,I,t,this.state.context)),I}finally{ze(this,xo,Ta).call(this,{type:"error",error:I})}}finally{F(this,Sr).runNext(this)}}},yo=new WeakMap,Sr=new WeakMap,fs=new WeakMap,xo=new WeakSet,Ta=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ht.batch(()=>{F(this,yo).forEach(n=>{n.onMutationUpdate(t)}),F(this,Sr).notify({mutation:this,type:"updated",action:t})})},xA);function oE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ko,qn,Od,bA,NR=(bA=class extends gc{constructor(t={}){super();Oe(this,Ko);Oe(this,qn);Oe(this,Od);this.config=t,ye(this,Ko,new Set),ye(this,qn,new Map),ye(this,Od,0)}build(t,r,n){const o=new RR({mutationCache:this,mutationId:++lf(this,Od)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){F(this,Ko).add(t);const r=Pf(t);if(typeof r=="string"){const n=F(this,qn).get(r);n?n.push(t):F(this,qn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,Ko).delete(t)){const r=Pf(t);if(typeof r=="string"){const n=F(this,qn).get(r);if(n)if(n.length>1){const o=n.indexOf(t);o!==-1&&n.splice(o,1)}else n[0]===t&&F(this,qn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Pf(t);if(typeof r=="string"){const n=F(this,qn).get(r),o=n==null?void 0:n.find(a=>a.state.status==="pending");return!o||o===t}else return!0}runNext(t){var n;const r=Pf(t);if(typeof r=="string"){const o=(n=F(this,qn).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ht.batch(()=>{F(this,Ko).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,Ko).clear(),F(this,qn).clear()})}getAll(){return Array.from(F(this,Ko))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Nj(r,n))}findAll(t={}){return this.getAll().filter(r=>Nj(t,r))}notify(t){Ht.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ht.batch(()=>Promise.all(t.map(r=>r.continue().catch(Cr))))}},Ko=new WeakMap,qn=new WeakMap,Od=new WeakMap,bA);function Pf(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Bj(e){return{onFetch:(t,r)=>{var u,f,p,h,g;const n=t.options,o=(p=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,a=((h=t.state.data)==null?void 0:h.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},v=X_(t.options,t.fetchOptions),S=async(b,j,k)=>{if(x)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const O=(()=>{const X={client:t.client,queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};return y(X),X})(),D=await v(O),{maxPages:I}=t.options,K=k?OR:AR;return{pages:K(b.pages,D,I),pageParams:K(b.pageParams,j,I)}};if(o&&a.length){const b=o==="backward",j=b?LR:Uj,k={pages:a,pageParams:i},C=j(n,k);l=await S(k,C,b)}else{const b=e??a.length;do{const j=c===0?i[0]??n.initialPageParam:Uj(n,l);if(c>0&&j==null)break;l=await S(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var x,y;return(y=(x=t.options).persister)==null?void 0:y.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Uj(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function LR(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ct,Ua,Wa,Ll,Fl,qa,Bl,Ul,wA,FR=(wA=class{constructor(e={}){Oe(this,Ct);Oe(this,Ua);Oe(this,Wa);Oe(this,Ll);Oe(this,Fl);Oe(this,qa);Oe(this,Bl);Oe(this,Ul);ye(this,Ct,e.queryCache||new IR),ye(this,Ua,e.mutationCache||new NR),ye(this,Wa,e.defaultOptions||{}),ye(this,Ll,new Map),ye(this,Fl,new Map),ye(this,qa,0)}mount(){lf(this,qa)._++,F(this,qa)===1&&(ye(this,Bl,Fw.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Ct).onFocus())})),ye(this,Ul,bh.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Ct).onOnline())})))}unmount(){var e,t;lf(this,qa)._--,F(this,qa)===0&&((e=F(this,Bl))==null||e.call(this),ye(this,Bl,void 0),(t=F(this,Ul))==null||t.call(this),ye(this,Ul,void 0))}isFetching(e){return F(this,Ct).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,Ua).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,Ct).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=F(this,Ct).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ci(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return F(this,Ct).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=F(this,Ct).get(n.queryHash),a=o==null?void 0:o.state.data,i=CR(t,a);if(i!==void 0)return F(this,Ct).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ht.batch(()=>F(this,Ct).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,Ct).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=F(this,Ct);Ht.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=F(this,Ct);return Ht.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ht.batch(()=>F(this,Ct).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(Cr).catch(Cr)}invalidateQueries(e,t={}){return Ht.batch(()=>(F(this,Ct).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ht.batch(()=>F(this,Ct).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(Cr)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Cr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=F(this,Ct).build(this,t);return r.isStaleByTime(ci(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Cr).catch(Cr)}fetchInfiniteQuery(e){return e.behavior=Bj(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Cr).catch(Cr)}ensureInfiniteQueryData(e){return e.behavior=Bj(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bh.isOnline()?F(this,Ua).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Ct)}getMutationCache(){return F(this,Ua)}getDefaultOptions(){return F(this,Wa)}setDefaultOptions(e){ye(this,Wa,e)}setQueryDefaults(e,t){F(this,Ll).set(_s(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,Ll).values()],r={};return t.forEach(n=>{ld(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){F(this,Fl).set(_s(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,Fl).values()],r={};return t.forEach(n=>{ld(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,Wa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Nw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Lw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,Wa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,Ct).clear(),F(this,Ua).clear()}},Ct=new WeakMap,Ua=new WeakMap,Wa=new WeakMap,Ll=new WeakMap,Fl=new WeakMap,qa=new WeakMap,Bl=new WeakMap,Ul=new WeakMap,wA),Rr,Re,_d,jr,ps,Wl,Ha,Va,Ed,ql,Hl,hs,vs,Ka,Vl,Xe,wu,ux,dx,fx,px,hx,vx,mx,aE,SA,BR=(SA=class extends gc{constructor(t,r){super();Oe(this,Xe);Oe(this,Rr);Oe(this,Re);Oe(this,_d);Oe(this,jr);Oe(this,ps);Oe(this,Wl);Oe(this,Ha);Oe(this,Va);Oe(this,Ed);Oe(this,ql);Oe(this,Hl);Oe(this,hs);Oe(this,vs);Oe(this,Ka);Oe(this,Vl,new Set);this.options=r,ye(this,Rr,t),ye(this,Va,null),ye(this,Ha,cx()),this.options.experimental_prefetchInRender||F(this,Ha).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,Re).addObserver(this),Wj(F(this,Re),this.options)?ze(this,Xe,wu).call(this):this.updateResult(),ze(this,Xe,px).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gx(F(this,Re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gx(F(this,Re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ze(this,Xe,hx).call(this),ze(this,Xe,vx).call(this),F(this,Re).removeObserver(this)}setOptions(t){const r=this.options,n=F(this,Re);if(this.options=F(this,Rr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pn(this.options.enabled,F(this,Re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ze(this,Xe,mx).call(this),F(this,Re).setOptions(this.options),r._defaulted&&!xh(this.options,r)&&F(this,Rr).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,Re),observer:this});const o=this.hasListeners();o&&qj(F(this,Re),n,this.options,r)&&ze(this,Xe,wu).call(this),this.updateResult(),o&&(F(this,Re)!==n||Pn(this.options.enabled,F(this,Re))!==Pn(r.enabled,F(this,Re))||ci(this.options.staleTime,F(this,Re))!==ci(r.staleTime,F(this,Re)))&&ze(this,Xe,ux).call(this);const a=ze(this,Xe,dx).call(this);o&&(F(this,Re)!==n||Pn(this.options.enabled,F(this,Re))!==Pn(r.enabled,F(this,Re))||a!==F(this,Ka))&&ze(this,Xe,fx).call(this,a)}getOptimisticResult(t){const r=F(this,Rr).getQueryCache().build(F(this,Rr),t),n=this.createResult(r,t);return WR(this,n)&&(ye(this,jr,n),ye(this,Wl,this.options),ye(this,ps,F(this,Re).state)),n}getCurrentResult(){return F(this,jr)}trackResult(t,r){return new Proxy(t,{get:(n,o)=>(this.trackProp(o),r==null||r(o),Reflect.get(n,o))})}trackProp(t){F(this,Vl).add(t)}getCurrentQuery(){return F(this,Re)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=F(this,Rr).defaultQueryOptions(t),n=F(this,Rr).getQueryCache().build(F(this,Rr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ze(this,Xe,wu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,jr)))}createResult(t,r){var I;const n=F(this,Re),o=this.options,a=F(this,jr),i=F(this,ps),l=F(this,Wl),d=t!==n?t.state:F(this,_d),{state:u}=t;let f={...u},p=!1,h;if(r._optimisticResults){const K=this.hasListeners(),X=!K&&Wj(t,r),H=K&&qj(t,n,r,o);(X||H)&&(f={...f,...nE(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:y}=f;h=f.data;let v=!1;if(r.placeholderData!==void 0&&h===void 0&&y==="pending"){let K;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(K=a.data,v=!0):K=typeof r.placeholderData=="function"?r.placeholderData((I=F(this,Hl))==null?void 0:I.state.data,F(this,Hl)):r.placeholderData,K!==void 0&&(y="success",h=lx(a==null?void 0:a.data,K,r),p=!0)}if(r.select&&h!==void 0&&!v)if(a&&h===(i==null?void 0:i.data)&&r.select===F(this,Ed))h=F(this,ql);else try{ye(this,Ed,r.select),h=r.select(h),h=lx(a==null?void 0:a.data,h,r),ye(this,ql,h),ye(this,Va,null)}catch(K){ye(this,Va,K)}F(this,Va)&&(g=F(this,Va),h=F(this,ql),x=Date.now(),y="error");const S=f.fetchStatus==="fetching",b=y==="pending",j=y==="error",k=b&&S,C=h!==void 0,D={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:j,isInitialLoading:k,isLoading:k,data:h,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:S,isRefetching:S&&!b,isLoadingError:j&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:j&&C,isStale:Bw(t,r),refetch:this.refetch,promise:F(this,Ha),isEnabled:Pn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const K=T=>{D.status==="error"?T.reject(D.error):D.data!==void 0&&T.resolve(D.data)},X=()=>{const T=ye(this,Ha,D.promise=cx());K(T)},H=F(this,Ha);switch(H.status){case"pending":t.queryHash===n.queryHash&&K(H);break;case"fulfilled":(D.status==="error"||D.data!==H.value)&&X();break;case"rejected":(D.status!=="error"||D.error!==H.reason)&&X();break}}return D}updateResult(){const t=F(this,jr),r=this.createResult(F(this,Re),this.options);if(ye(this,ps,F(this,Re).state),ye(this,Wl,this.options),F(this,ps).data!==void 0&&ye(this,Hl,F(this,Re)),xh(r,t))return;ye(this,jr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!F(this,Vl).size)return!0;const i=new Set(a??F(this,Vl));return this.options.throwOnError&&i.add("error"),Object.keys(F(this,jr)).some(l=>{const c=l;return F(this,jr)[c]!==t[c]&&i.has(c)})};ze(this,Xe,aE).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ze(this,Xe,px).call(this)}},Rr=new WeakMap,Re=new WeakMap,_d=new WeakMap,jr=new WeakMap,ps=new WeakMap,Wl=new WeakMap,Ha=new WeakMap,Va=new WeakMap,Ed=new WeakMap,ql=new WeakMap,Hl=new WeakMap,hs=new WeakMap,vs=new WeakMap,Ka=new WeakMap,Vl=new WeakMap,Xe=new WeakSet,wu=function(t){ze(this,Xe,mx).call(this);let r=F(this,Re).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Cr)),r},ux=function(){ze(this,Xe,hx).call(this);const t=ci(this.options.staleTime,F(this,Re));if(Os||F(this,jr).isStale||!ix(t))return;const n=Q_(F(this,jr).dataUpdatedAt,t)+1;ye(this,hs,setTimeout(()=>{F(this,jr).isStale||this.updateResult()},n))},dx=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,Re)):this.options.refetchInterval)??!1},fx=function(t){ze(this,Xe,vx).call(this),ye(this,Ka,t),!(Os||Pn(this.options.enabled,F(this,Re))===!1||!ix(F(this,Ka))||F(this,Ka)===0)&&ye(this,vs,setInterval(()=>{(this.options.refetchIntervalInBackground||Fw.isFocused())&&ze(this,Xe,wu).call(this)},F(this,Ka)))},px=function(){ze(this,Xe,ux).call(this),ze(this,Xe,fx).call(this,ze(this,Xe,dx).call(this))},hx=function(){F(this,hs)&&(clearTimeout(F(this,hs)),ye(this,hs,void 0))},vx=function(){F(this,vs)&&(clearInterval(F(this,vs)),ye(this,vs,void 0))},mx=function(){const t=F(this,Rr).getQueryCache().build(F(this,Rr),this.options);if(t===F(this,Re))return;const r=F(this,Re);ye(this,Re,t),ye(this,_d,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},aE=function(t){Ht.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(F(this,jr))}),F(this,Rr).getQueryCache().notify({query:F(this,Re),type:"observerResultsUpdated"})})},SA);function UR(e,t){return Pn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Wj(e,t){return UR(e,t)||e.state.data!==void 0&&gx(e,t,t.refetchOnMount)}function gx(e,t,r){if(Pn(t.enabled,e)!==!1&&ci(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Bw(e,t)}return!1}function qj(e,t,r,n){return(e!==t||Pn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Bw(e,r)}function Bw(e,t){return Pn(t.enabled,e)!==!1&&e.isStaleByTime(ci(t.staleTime,e))}function WR(e,t){return!xh(e.getCurrentResult(),t)}var Ya,Qa,Nr,Yo,aa,Mp,yx,jA,qR=(jA=class extends gc{constructor(r,n){super();Oe(this,aa);Oe(this,Ya);Oe(this,Qa);Oe(this,Nr);Oe(this,Yo);ye(this,Ya,r),this.setOptions(n),this.bindMethods(),ze(this,aa,Mp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var o;const n=this.options;this.options=F(this,Ya).defaultMutationOptions(r),xh(this.options,n)||F(this,Ya).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,Nr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&_s(n.mutationKey)!==_s(this.options.mutationKey)?this.reset():((o=F(this,Nr))==null?void 0:o.state.status)==="pending"&&F(this,Nr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,Nr))==null||r.removeObserver(this)}onMutationUpdate(r){ze(this,aa,Mp).call(this),ze(this,aa,yx).call(this,r)}getCurrentResult(){return F(this,Qa)}reset(){var r;(r=F(this,Nr))==null||r.removeObserver(this),ye(this,Nr,void 0),ze(this,aa,Mp).call(this),ze(this,aa,yx).call(this)}mutate(r,n){var o;return ye(this,Yo,n),(o=F(this,Nr))==null||o.removeObserver(this),ye(this,Nr,F(this,Ya).getMutationCache().build(F(this,Ya),this.options)),F(this,Nr).addObserver(this),F(this,Nr).execute(r)}},Ya=new WeakMap,Qa=new WeakMap,Nr=new WeakMap,Yo=new WeakMap,aa=new WeakSet,Mp=function(){var n;const r=((n=F(this,Nr))==null?void 0:n.state)??oE();ye(this,Qa,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},yx=function(r){Ht.batch(()=>{var n,o,a,i,l,c,d,u;if(F(this,Yo)&&this.hasListeners()){const f=F(this,Qa).variables,p=F(this,Qa).context;(r==null?void 0:r.type)==="success"?((o=(n=F(this,Yo)).onSuccess)==null||o.call(n,r.data,f,p),(i=(a=F(this,Yo)).onSettled)==null||i.call(a,r.data,null,f,p)):(r==null?void 0:r.type)==="error"&&((c=(l=F(this,Yo)).onError)==null||c.call(l,r.error,f,p),(u=(d=F(this,Yo)).onSettled)==null||u.call(d,void 0,r.error,f,p))}this.listeners.forEach(f=>{f(F(this,Qa))})})},jA),iE=m.createContext(void 0),ji=e=>{const t=m.useContext(iE);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},HR=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(iE.Provider,{value:e,children:t})),sE=m.createContext(!1),VR=()=>m.useContext(sE);sE.Provider;function KR(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var YR=m.createContext(KR()),QR=()=>m.useContext(YR),GR=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},XR=e=>{m.useEffect(()=>{e.clearReset()},[e])},JR=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(o&&e.data===void 0||J_(r,[e.error,n])),ZR=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},eN=(e,t)=>e.isLoading&&e.isFetching&&!t,tN=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Hj=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function rN(e,t,r){var f,p,h,g,x;const n=VR(),o=QR(),a=ji(),i=a.defaultQueryOptions(e);(p=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",ZR(i),GR(i,o),XR(o);const l=!a.getQueryCache().get(i.queryHash),[c]=m.useState(()=>new t(a,i)),d=c.getOptimisticResult(i),u=!n&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(y=>{const v=u?c.subscribe(Ht.batchCalls(y)):Cr;return c.updateResult(),v},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(i)},[i,c]),tN(i,d))throw Hj(i,c,o);if(JR({result:d,errorResetBoundary:o,throwOnError:i.throwOnError,query:a.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;if((g=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,i,d),i.experimental_prefetchInRender&&!Os&&eN(d,n)){const y=l?Hj(i,c,o):(x=a.getQueryCache().get(i.queryHash))==null?void 0:x.promise;y==null||y.catch(Cr).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?d:c.trackResult(d)}function Or(e,t){return rN(e,BR)}function _t(e,t){const r=ji(),[n]=m.useState(()=>new qR(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const o=m.useSyncExternalStore(m.useCallback(i=>n.subscribe(Ht.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=m.useCallback((i,l)=>{n.mutate(i,l).catch(Cr)},[n]);if(o.error&&J_(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}let nN={data:""},oN=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||nN,aN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,iN=/\/\*[^]*?\*\/|  +/g,Vj=/\n+/g,Ra=(e,t)=>{let r="",n="",o="";for(let a in e){let i=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+i+";":n+=a[1]=="f"?Ra(i,a):a+"{"+Ra(i,a[1]=="k"?"":t)+"}":typeof i=="object"?n+=Ra(i,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):i!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Ra.p?Ra.p(a,i):a+":"+i+";")}return r+(t&&o?t+"{"+o+"}":o)+n},Lo={},lE=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+lE(e[r]);return t}return e},sN=(e,t,r,n,o)=>{let a=lE(e),i=Lo[a]||(Lo[a]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(a));if(!Lo[i]){let c=a!==e?e:(d=>{let u,f,p=[{}];for(;u=aN.exec(d.replace(iN,""));)u[4]?p.shift():u[3]?(f=u[3].replace(Vj," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][u[1]]=u[2].replace(Vj," ").trim();return p[0]})(e);Lo[i]=Ra(o?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Lo.g?Lo.g:null;return r&&(Lo.g=Lo[i]),((c,d,u,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Lo[i],t,n,l),i},lN=(e,t,r)=>e.reduce((n,o,a)=>{let i=t[a];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":Ra(l,""):l===!1?"":l}return n+o+(i??"")},"");function Iv(e){let t=this||{},r=e.call?e(t.p):e;return sN(r.unshift?r.raw?lN(r,[].slice.call(arguments,1),t.p):r.reduce((n,o)=>Object.assign(n,o&&o.call?o(t.p):o),{}):r,oN(t.target),t.g,t.o,t.k)}let cE,xx,bx;Iv.bind({g:1});let ua=Iv.bind({k:1});function cN(e,t,r,n){Ra.p=t,cE=e,xx=r,bx=n}function ki(e,t){let r=this||{};return function(){let n=arguments;function o(a,i){let l=Object.assign({},a),c=l.className||o.className;r.p=Object.assign({theme:xx&&xx()},l),r.o=/ *go\d+/.test(c),l.className=Iv.apply(r,n)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),bx&&d[0]&&bx(l),cE(d,l)}return o}}var uN=e=>typeof e=="function",wh=(e,t)=>uN(e)?e(t):e,dN=(()=>{let e=0;return()=>(++e).toString()})(),uE=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),fN=20,dE=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,fN)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:r}=t;return dE(e,{type:e.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},$p=[],Zi={toasts:[],pausedAt:void 0},Rs=e=>{Zi=dE(Zi,e),$p.forEach(t=>{t(Zi)})},pN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hN=(e={})=>{let[t,r]=m.useState(Zi),n=m.useRef(Zi);m.useEffect(()=>(n.current!==Zi&&r(Zi),$p.push(r),()=>{let a=$p.indexOf(r);a>-1&&$p.splice(a,1)}),[]);let o=t.toasts.map(a=>{var i,l,c;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((i=e[a.type])==null?void 0:i.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((l=e[a.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||pN[a.type],style:{...e.style,...(c=e[a.type])==null?void 0:c.style,...a.style}}});return{...t,toasts:o}},vN=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||dN()}),Id=e=>(t,r)=>{let n=vN(t,e,r);return Rs({type:2,toast:n}),n.id},Ar=(e,t)=>Id("blank")(e,t);Ar.error=Id("error");Ar.success=Id("success");Ar.loading=Id("loading");Ar.custom=Id("custom");Ar.dismiss=e=>{Rs({type:3,toastId:e})};Ar.remove=e=>Rs({type:4,toastId:e});Ar.promise=(e,t,r)=>{let n=Ar.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let a=t.success?wh(t.success,o):void 0;return a?Ar.success(a,{id:n,...r,...r==null?void 0:r.success}):Ar.dismiss(n),o}).catch(o=>{let a=t.error?wh(t.error,o):void 0;a?Ar.error(a,{id:n,...r,...r==null?void 0:r.error}):Ar.dismiss(n)}),e};var mN=(e,t)=>{Rs({type:1,toast:{id:e,height:t}})},gN=()=>{Rs({type:5,time:Date.now()})},zu=new Map,yN=1e3,xN=(e,t=yN)=>{if(zu.has(e))return;let r=setTimeout(()=>{zu.delete(e),Rs({type:4,toastId:e})},t);zu.set(e,r)},bN=e=>{let{toasts:t,pausedAt:r}=hN(e);m.useEffect(()=>{if(r)return;let a=Date.now(),i=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&Ar.dismiss(l.id);return}return setTimeout(()=>Ar.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=m.useCallback(()=>{r&&Rs({type:6,time:Date.now()})},[r]),o=m.useCallback((a,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=i||{},u=t.filter(h=>(h.position||d)===(a.position||d)&&h.height),f=u.findIndex(h=>h.id===a.id),p=u.filter((h,g)=>g<f&&h.visible).length;return u.filter(h=>h.visible).slice(...l?[p+1]:[0,p]).reduce((h,g)=>h+(g.height||0)+c,0)},[t]);return m.useEffect(()=>{t.forEach(a=>{if(a.dismissed)xN(a.id,a.removeDelay);else{let i=zu.get(a.id);i&&(clearTimeout(i),zu.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:mN,startPause:gN,endPause:n,calculateOffset:o}}},wN=ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,SN=ua`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jN=ua`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,kN=ki("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${SN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,CN=ua`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,PN=ki("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${CN} 1s linear infinite;
`,AN=ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ON=ua`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_N=ki("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ON} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,EN=ki("div")`
  position: absolute;
`,TN=ki("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,MN=ua`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$N=ki("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${MN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,zN=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?m.createElement($N,null,t):t:r==="blank"?null:m.createElement(TN,null,m.createElement(PN,{...n}),r!=="loading"&&m.createElement(EN,null,r==="error"?m.createElement(kN,{...n}):m.createElement(_N,{...n})))},DN=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,IN=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,RN="0%{opacity:0;} 100%{opacity:1;}",NN="0%{opacity:1;} 100%{opacity:0;}",LN=ki("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,FN=ki("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,BN=(e,t)=>{let r=e.includes("top")?1:-1,[n,o]=uE()?[RN,NN]:[DN(r),IN(r)];return{animation:t?`${ua(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ua(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},UN=m.memo(({toast:e,position:t,style:r,children:n})=>{let o=e.height?BN(e.position||t||"top-center",e.visible):{opacity:0},a=m.createElement(zN,{toast:e}),i=m.createElement(FN,{...e.ariaProps},wh(e.message,e));return m.createElement(LN,{className:e.className,style:{...o,...r,...e.style}},typeof n=="function"?n({icon:a,message:i}):m.createElement(m.Fragment,null,a,i))});cN(m.createElement);var WN=({id:e,className:t,style:r,onHeightUpdate:n,children:o})=>{let a=m.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return m.createElement("div",{ref:a,className:t,style:r},o)},qN=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:uE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...o}},HN=Iv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Af=16,VN=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:o,containerStyle:a,containerClassName:i})=>{let{toasts:l,handlers:c}=bN(r);return m.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Af,left:Af,right:Af,bottom:Af,pointerEvents:"none",...a},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let u=d.position||t,f=c.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),p=qN(u,f);return m.createElement(WN,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?HN:"",style:p},d.type==="custom"?wh(d.message,d):o?o(d):m.createElement(UN,{toast:d,position:u}))}))},q=Ar;function fE(e,t){return function(){return e.apply(t,arguments)}}const{toString:KN}=Object.prototype,{getPrototypeOf:Uw}=Object,{iterator:Rv,toStringTag:pE}=Symbol,Nv=(e=>t=>{const r=KN.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),no=e=>(e=e.toLowerCase(),t=>Nv(t)===e),Lv=e=>t=>typeof t===e,{isArray:yc}=Array,cd=Lv("undefined");function Rd(e){return e!==null&&!cd(e)&&e.constructor!==null&&!cd(e.constructor)&&Yr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const hE=no("ArrayBuffer");function YN(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&hE(e.buffer),t}const QN=Lv("string"),Yr=Lv("function"),vE=Lv("number"),Nd=e=>e!==null&&typeof e=="object",GN=e=>e===!0||e===!1,zp=e=>{if(Nv(e)!=="object")return!1;const t=Uw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(pE in e)&&!(Rv in e)},XN=e=>{if(!Nd(e)||Rd(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},JN=no("Date"),ZN=no("File"),eL=no("Blob"),tL=no("FileList"),rL=e=>Nd(e)&&Yr(e.pipe),nL=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Yr(e.append)&&((t=Nv(e))==="formdata"||t==="object"&&Yr(e.toString)&&e.toString()==="[object FormData]"))},oL=no("URLSearchParams"),[aL,iL,sL,lL]=["ReadableStream","Request","Response","Headers"].map(no),cL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ld(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),yc(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(Rd(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(n=0;n<i;n++)l=a[n],t.call(null,e[l],l,e)}}function mE(e,t){if(Rd(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const es=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gE=e=>!cd(e)&&e!==es;function wx(){const{caseless:e}=gE(this)&&this||{},t={},r=(n,o)=>{const a=e&&mE(t,o)||o;zp(t[a])&&zp(n)?t[a]=wx(t[a],n):zp(n)?t[a]=wx({},n):yc(n)?t[a]=n.slice():t[a]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Ld(arguments[n],r);return t}const uL=(e,t,r,{allOwnKeys:n}={})=>(Ld(t,(o,a)=>{r&&Yr(o)?e[a]=fE(o,r):e[a]=o},{allOwnKeys:n}),e),dL=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fL=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},pL=(e,t,r,n)=>{let o,a,i;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&Uw(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},hL=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},vL=e=>{if(!e)return null;if(yc(e))return e;let t=e.length;if(!vE(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},mL=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Uw(Uint8Array)),gL=(e,t)=>{const n=(e&&e[Rv]).call(e);let o;for(;(o=n.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},yL=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},xL=no("HTMLFormElement"),bL=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),Kj=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),wL=no("RegExp"),yE=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ld(r,(o,a)=>{let i;(i=t(o,a,e))!==!1&&(n[a]=i||o)}),Object.defineProperties(e,n)},SL=e=>{yE(e,(t,r)=>{if(Yr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Yr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},jL=(e,t)=>{const r={},n=o=>{o.forEach(a=>{r[a]=!0})};return yc(e)?n(e):n(String(e).split(t)),r},kL=()=>{},CL=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function PL(e){return!!(e&&Yr(e.append)&&e[pE]==="FormData"&&e[Rv])}const AL=e=>{const t=new Array(10),r=(n,o)=>{if(Nd(n)){if(t.indexOf(n)>=0)return;if(Rd(n))return n;if(!("toJSON"in n)){t[o]=n;const a=yc(n)?[]:{};return Ld(n,(i,l)=>{const c=r(i,o+1);!cd(c)&&(a[l]=c)}),t[o]=void 0,a}}return n};return r(e,0)},OL=no("AsyncFunction"),_L=e=>e&&(Nd(e)||Yr(e))&&Yr(e.then)&&Yr(e.catch),xE=((e,t)=>e?setImmediate:t?((r,n)=>(es.addEventListener("message",({source:o,data:a})=>{o===es&&a===r&&n.length&&n.shift()()},!1),o=>{n.push(o),es.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Yr(es.postMessage)),EL=typeof queueMicrotask<"u"?queueMicrotask.bind(es):typeof process<"u"&&process.nextTick||xE,TL=e=>e!=null&&Yr(e[Rv]),te={isArray:yc,isArrayBuffer:hE,isBuffer:Rd,isFormData:nL,isArrayBufferView:YN,isString:QN,isNumber:vE,isBoolean:GN,isObject:Nd,isPlainObject:zp,isEmptyObject:XN,isReadableStream:aL,isRequest:iL,isResponse:sL,isHeaders:lL,isUndefined:cd,isDate:JN,isFile:ZN,isBlob:eL,isRegExp:wL,isFunction:Yr,isStream:rL,isURLSearchParams:oL,isTypedArray:mL,isFileList:tL,forEach:Ld,merge:wx,extend:uL,trim:cL,stripBOM:dL,inherits:fL,toFlatObject:pL,kindOf:Nv,kindOfTest:no,endsWith:hL,toArray:vL,forEachEntry:gL,matchAll:yL,isHTMLForm:xL,hasOwnProperty:Kj,hasOwnProp:Kj,reduceDescriptors:yE,freezeMethods:SL,toObjectSet:jL,toCamelCase:bL,noop:kL,toFiniteNumber:CL,findKey:mE,global:es,isContextDefined:gE,isSpecCompliantForm:PL,toJSONObject:AL,isAsyncFn:OL,isThenable:_L,setImmediate:xE,asap:EL,isIterable:TL};function $e(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}te.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const bE=$e.prototype,wE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wE[e]={value:e}});Object.defineProperties($e,wE);Object.defineProperty(bE,"isAxiosError",{value:!0});$e.from=(e,t,r,n,o,a)=>{const i=Object.create(bE);return te.toFlatObject(e,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),$e.call(i,e.message,t,r,n,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const ML=null;function Sx(e){return te.isPlainObject(e)||te.isArray(e)}function SE(e){return te.endsWith(e,"[]")?e.slice(0,-2):e}function Yj(e,t,r){return e?e.concat(t).map(function(o,a){return o=SE(o),!r&&a?"["+o+"]":o}).join(r?".":""):t}function $L(e){return te.isArray(e)&&!e.some(Sx)}const zL=te.toFlatObject(te,{},null,function(t){return/^is[A-Z]/.test(t)});function Fv(e,t,r){if(!te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!te.isUndefined(y[x])});const n=r.metaTokens,o=r.visitor||u,a=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(t);if(!te.isFunction(o))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(te.isDate(g))return g.toISOString();if(te.isBoolean(g))return g.toString();if(!c&&te.isBlob(g))throw new $e("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(g)||te.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,x,y){let v=g;if(g&&!y&&typeof g=="object"){if(te.endsWith(x,"{}"))x=n?x:x.slice(0,-2),g=JSON.stringify(g);else if(te.isArray(g)&&$L(g)||(te.isFileList(g)||te.endsWith(x,"[]"))&&(v=te.toArray(g)))return x=SE(x),v.forEach(function(b,j){!(te.isUndefined(b)||b===null)&&t.append(i===!0?Yj([x],j,a):i===null?x:x+"[]",d(b))}),!1}return Sx(g)?!0:(t.append(Yj(y,x,a),d(g)),!1)}const f=[],p=Object.assign(zL,{defaultVisitor:u,convertValue:d,isVisitable:Sx});function h(g,x){if(!te.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(g),te.forEach(g,function(v,S){(!(te.isUndefined(v)||v===null)&&o.call(t,v,te.isString(S)?S.trim():S,x,p))===!0&&h(v,x?x.concat(S):[S])}),f.pop()}}if(!te.isObject(e))throw new TypeError("data must be an object");return h(e),t}function Qj(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ww(e,t){this._pairs=[],e&&Fv(e,this,t)}const jE=Ww.prototype;jE.append=function(t,r){this._pairs.push([t,r])};jE.toString=function(t){const r=t?function(n){return t.call(this,n,Qj)}:Qj;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function DL(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kE(e,t,r){if(!t)return e;const n=r&&r.encode||DL;te.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(o?a=o(t,r):a=te.isURLSearchParams(t)?t.toString():new Ww(t,r).toString(n),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Gj{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){te.forEach(this.handlers,function(n){n!==null&&t(n)})}}const CE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IL=typeof URLSearchParams<"u"?URLSearchParams:Ww,RL=typeof FormData<"u"?FormData:null,NL=typeof Blob<"u"?Blob:null,LL={isBrowser:!0,classes:{URLSearchParams:IL,FormData:RL,Blob:NL},protocols:["http","https","file","blob","url","data"]},qw=typeof window<"u"&&typeof document<"u",jx=typeof navigator=="object"&&navigator||void 0,FL=qw&&(!jx||["ReactNative","NativeScript","NS"].indexOf(jx.product)<0),BL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",UL=qw&&window.location.href||"http://localhost",WL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qw,hasStandardBrowserEnv:FL,hasStandardBrowserWebWorkerEnv:BL,navigator:jx,origin:UL},Symbol.toStringTag,{value:"Module"})),yr={...WL,...LL};function qL(e,t){return Fv(e,new yr.classes.URLSearchParams,{visitor:function(r,n,o,a){return yr.isNode&&te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function HL(e){return te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function VL(e){const t={},r=Object.keys(e);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],t[a]=e[a];return t}function PE(e){function t(r,n,o,a){let i=r[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=r.length;return i=!i&&te.isArray(o)?o.length:i,c?(te.hasOwnProp(o,i)?o[i]=[o[i],n]:o[i]=n,!l):((!o[i]||!te.isObject(o[i]))&&(o[i]=[]),t(r,n,o[i],a)&&te.isArray(o[i])&&(o[i]=VL(o[i])),!l)}if(te.isFormData(e)&&te.isFunction(e.entries)){const r={};return te.forEachEntry(e,(n,o)=>{t(HL(n),o,r,0)}),r}return null}function KL(e,t,r){if(te.isString(e))try{return(t||JSON.parse)(e),te.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Fd={transitional:CE,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=te.isObject(t);if(a&&te.isHTMLForm(t)&&(t=new FormData(t)),te.isFormData(t))return o?JSON.stringify(PE(t)):t;if(te.isArrayBuffer(t)||te.isBuffer(t)||te.isStream(t)||te.isFile(t)||te.isBlob(t)||te.isReadableStream(t))return t;if(te.isArrayBufferView(t))return t.buffer;if(te.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return qL(t,this.formSerializer).toString();if((l=te.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Fv(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),KL(t)):t}],transformResponse:[function(t){const r=this.transitional||Fd.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(te.isResponse(t)||te.isReadableStream(t))return t;if(t&&te.isString(t)&&(n&&!this.responseType||o)){const i=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?$e.from(l,$e.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yr.classes.FormData,Blob:yr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],e=>{Fd.headers[e]={}});const YL=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QL=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),r=i.substring(0,o).trim().toLowerCase(),n=i.substring(o+1).trim(),!(!r||t[r]&&YL[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Xj=Symbol("internals");function Uc(e){return e&&String(e).trim().toLowerCase()}function Dp(e){return e===!1||e==null?e:te.isArray(e)?e.map(Dp):String(e)}function GL(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const XL=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Cg(e,t,r,n,o){if(te.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!te.isString(t)){if(te.isString(n))return t.indexOf(n)!==-1;if(te.isRegExp(n))return n.test(t)}}function JL(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function ZL(e,t){const r=te.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,a,i){return this[n].call(this,t,o,a,i)},configurable:!0})})}let Qr=class{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function a(l,c,d){const u=Uc(c);if(!u)throw new Error("header name must be a non-empty string");const f=te.findKey(o,u);(!f||o[f]===void 0||d===!0||d===void 0&&o[f]!==!1)&&(o[f||c]=Dp(l))}const i=(l,c)=>te.forEach(l,(d,u)=>a(d,u,c));if(te.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(te.isString(t)&&(t=t.trim())&&!XL(t))i(QL(t),r);else if(te.isObject(t)&&te.isIterable(t)){let l={},c,d;for(const u of t){if(!te.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?te.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Uc(t),t){const n=te.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return GL(o);if(te.isFunction(r))return r.call(this,o,n);if(te.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Uc(t),t){const n=te.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Cg(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function a(i){if(i=Uc(i),i){const l=te.findKey(n,i);l&&(!r||Cg(n,n[l],l,r))&&(delete n[l],o=!0)}}return te.isArray(t)?t.forEach(a):a(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const a=r[n];(!t||Cg(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const r=this,n={};return te.forEach(this,(o,a)=>{const i=te.findKey(n,a);if(i){r[i]=Dp(o),delete r[a];return}const l=t?JL(a):String(a).trim();l!==a&&delete r[a],r[l]=Dp(o),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return te.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[Xj]=this[Xj]={accessors:{}}).accessors,o=this.prototype;function a(i){const l=Uc(i);n[l]||(ZL(o,i),n[l]=!0)}return te.isArray(t)?t.forEach(a):a(t),this}};Qr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Qr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});te.freezeMethods(Qr);function Pg(e,t){const r=this||Fd,n=t||r,o=Qr.from(n.headers);let a=n.data;return te.forEach(e,function(l){a=l.call(r,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function AE(e){return!!(e&&e.__CANCEL__)}function xc(e,t,r){$e.call(this,e??"canceled",$e.ERR_CANCELED,t,r),this.name="CanceledError"}te.inherits(xc,$e,{__CANCEL__:!0});function OE(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new $e("Request failed with status code "+r.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function eF(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function tF(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[a];i||(i=d),r[o]=c,n[o]=d;let f=a,p=0;for(;f!==o;)p+=r[f++],f=f%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),d-i<t)return;const h=u&&d-u;return h?Math.round(p*1e3/h):void 0}}function rF(e,t){let r=0,n=1e3/t,o,a;const i=(d,u=Date.now())=>{r=u,o=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=n?i(d,u):(o=d,a||(a=setTimeout(()=>{a=null,i(o)},n-f)))},()=>o&&i(o)]}const Sh=(e,t,r=3)=>{let n=0;const o=tF(50,250);return rF(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-n,d=o(c),u=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},Jj=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Zj=e=>(...t)=>te.asap(()=>e(...t)),nF=yr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,yr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(yr.origin),yr.navigator&&/(msie|trident)/i.test(yr.navigator.userAgent)):()=>!0,oF=yr.hasStandardBrowserEnv?{write(e,t,r,n,o,a){const i=[e+"="+encodeURIComponent(t)];te.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),te.isString(n)&&i.push("path="+n),te.isString(o)&&i.push("domain="+o),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function aF(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function iF(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function _E(e,t,r){let n=!aF(t);return e&&(n||r==!1)?iF(e,t):t}const ek=e=>e instanceof Qr?{...e}:e;function Es(e,t){t=t||{};const r={};function n(d,u,f,p){return te.isPlainObject(d)&&te.isPlainObject(u)?te.merge.call({caseless:p},d,u):te.isPlainObject(u)?te.merge({},u):te.isArray(u)?u.slice():u}function o(d,u,f,p){if(te.isUndefined(u)){if(!te.isUndefined(d))return n(void 0,d,f,p)}else return n(d,u,f,p)}function a(d,u){if(!te.isUndefined(u))return n(void 0,u)}function i(d,u){if(te.isUndefined(u)){if(!te.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,f){if(f in t)return n(d,u);if(f in e)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,f)=>o(ek(d),ek(u),f,!0)};return te.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||o,p=f(e[u],t[u],u);te.isUndefined(p)&&f!==l||(r[u]=p)}),r}const EE=e=>{const t=Es({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:i,auth:l}=t;t.headers=i=Qr.from(i),t.url=kE(_E(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(te.isFormData(r)){if(yr.hasStandardBrowserEnv||yr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[d,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...u].join("; "))}}if(yr.hasStandardBrowserEnv&&(n&&te.isFunction(n)&&(n=n(t)),n||n!==!1&&nF(t.url))){const d=o&&a&&oF.read(a);d&&i.set(o,d)}return t},sF=typeof XMLHttpRequest<"u",lF=sF&&function(e){return new Promise(function(r,n){const o=EE(e);let a=o.data;const i=Qr.from(o.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=o,u,f,p,h,g;function x(){h&&h(),g&&g(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(o.method.toUpperCase(),o.url,!0),y.timeout=o.timeout;function v(){if(!y)return;const b=Qr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:e,request:y};OE(function(O){r(O),x()},function(O){n(O),x()},k),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(n(new $e("Request aborted",$e.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new $e("Network Error",$e.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let j=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const k=o.transitional||CE;o.timeoutErrorMessage&&(j=o.timeoutErrorMessage),n(new $e(j,k.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,e,y)),y=null},a===void 0&&i.setContentType(null),"setRequestHeader"in y&&te.forEach(i.toJSON(),function(j,k){y.setRequestHeader(k,j)}),te.isUndefined(o.withCredentials)||(y.withCredentials=!!o.withCredentials),l&&l!=="json"&&(y.responseType=o.responseType),d&&([p,g]=Sh(d,!0),y.addEventListener("progress",p)),c&&y.upload&&([f,h]=Sh(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",h)),(o.cancelToken||o.signal)&&(u=b=>{y&&(n(!b||b.type?new xc(null,e,y):b),y.abort(),y=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const S=eF(o.url);if(S&&yr.protocols.indexOf(S)===-1){n(new $e("Unsupported protocol "+S+":",$e.ERR_BAD_REQUEST,e));return}y.send(a||null)})},cF=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,o;const a=function(d){if(!o){o=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof $e?u:new xc(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,a(new $e(`timeout ${t} of ms exceeded`,$e.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>te.asap(l),c}},uF=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},dF=async function*(e,t){for await(const r of fF(e))yield*uF(r,t)},fF=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},tk=(e,t,r,n)=>{const o=dF(e,t);let a=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await o.next();if(d){l(),c.close();return}let f=u.byteLength;if(r){let p=a+=f;r(p)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),o.return()}},{highWaterMark:2})},Bv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TE=Bv&&typeof ReadableStream=="function",pF=Bv&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ME=(e,...t)=>{try{return!!e(...t)}catch{return!1}},hF=TE&&ME(()=>{let e=!1;const t=new Request(yr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),rk=64*1024,kx=TE&&ME(()=>te.isReadableStream(new Response("").body)),jh={stream:kx&&(e=>e.body)};Bv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!jh[t]&&(jh[t]=te.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new $e(`Response type '${t}' is not supported`,$e.ERR_NOT_SUPPORT,n)})})})(new Response);const vF=async e=>{if(e==null)return 0;if(te.isBlob(e))return e.size;if(te.isSpecCompliantForm(e))return(await new Request(yr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(te.isArrayBufferView(e)||te.isArrayBuffer(e))return e.byteLength;if(te.isURLSearchParams(e)&&(e=e+""),te.isString(e))return(await pF(e)).byteLength},mF=async(e,t)=>{const r=te.toFiniteNumber(e.getContentLength());return r??vF(t)},gF=Bv&&(async e=>{let{url:t,method:r,data:n,signal:o,cancelToken:a,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:f="same-origin",fetchOptions:p}=EE(e);d=d?(d+"").toLowerCase():"text";let h=cF([o,a&&a.toAbortSignal()],i),g;const x=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(c&&hF&&r!=="get"&&r!=="head"&&(y=await mF(u,n))!==0){let k=new Request(t,{method:"POST",body:n,duplex:"half"}),C;if(te.isFormData(n)&&(C=k.headers.get("content-type"))&&u.setContentType(C),k.body){const[O,D]=Jj(y,Sh(Zj(c)));n=tk(k.body,rk,O,D)}}te.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;g=new Request(t,{...p,signal:h,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:v?f:void 0});let S=await fetch(g,p);const b=kx&&(d==="stream"||d==="response");if(kx&&(l||b&&x)){const k={};["status","statusText","headers"].forEach(I=>{k[I]=S[I]});const C=te.toFiniteNumber(S.headers.get("content-length")),[O,D]=l&&Jj(C,Sh(Zj(l),!0))||[];S=new Response(tk(S.body,rk,O,()=>{D&&D(),x&&x()}),k)}d=d||"text";let j=await jh[te.findKey(jh,d)||"text"](S,e);return!b&&x&&x(),await new Promise((k,C)=>{OE(k,C,{data:j,headers:Qr.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:g})})}catch(v){throw x&&x(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,e,g),{cause:v.cause||v}):$e.from(v,v&&v.code,e,g)}}),Cx={http:ML,xhr:lF,fetch:gF};te.forEach(Cx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const nk=e=>`- ${e}`,yF=e=>te.isFunction(e)||e===null||e===!1,$E={getAdapter:e=>{e=te.isArray(e)?e:[e];const{length:t}=e;let r,n;const o={};for(let a=0;a<t;a++){r=e[a];let i;if(n=r,!yF(r)&&(n=Cx[(i=String(r)).toLowerCase()],n===void 0))throw new $e(`Unknown adapter '${i}'`);if(n)break;o[i||"#"+a]=n}if(!n){const a=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(nk).join(`
`):" "+nk(a[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:Cx};function Ag(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xc(null,e)}function ok(e){return Ag(e),e.headers=Qr.from(e.headers),e.data=Pg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$E.getAdapter(e.adapter||Fd.adapter)(e).then(function(n){return Ag(e),n.data=Pg.call(e,e.transformResponse,n),n.headers=Qr.from(n.headers),n},function(n){return AE(n)||(Ag(e),n&&n.response&&(n.response.data=Pg.call(e,e.transformResponse,n.response),n.response.headers=Qr.from(n.response.headers))),Promise.reject(n)})}const zE="1.11.0",Uv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Uv[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ak={};Uv.transitional=function(t,r,n){function o(a,i){return"[Axios v"+zE+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,l)=>{if(t===!1)throw new $e(o(i," has been removed"+(r?" in "+r:"")),$e.ERR_DEPRECATED);return r&&!ak[i]&&(ak[i]=!0,console.warn(o(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,l):!0}};Uv.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function xF(e,t,r){if(typeof e!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const a=n[o],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new $e("option "+a+" must be "+c,$e.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new $e("Unknown option "+a,$e.ERR_BAD_OPTION)}}const Ip={assertOptions:xF,validators:Uv},lo=Ip.validators;let ys=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Gj,response:new Gj}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Es(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:a}=r;n!==void 0&&Ip.assertOptions(n,{silentJSONParsing:lo.transitional(lo.boolean),forcedJSONParsing:lo.transitional(lo.boolean),clarifyTimeoutError:lo.transitional(lo.boolean)},!1),o!=null&&(te.isFunction(o)?r.paramsSerializer={serialize:o}:Ip.assertOptions(o,{encode:lo.function,serialize:lo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ip.assertOptions(r,{baseUrl:lo.spelling("baseURL"),withXsrfToken:lo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&te.merge(a.common,a[r.method]);a&&te.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=Qr.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,f=0,p;if(!c){const g=[ok.bind(this),void 0];for(g.unshift(...l),g.push(...d),p=g.length,u=Promise.resolve(r);f<p;)u=u.then(g[f++],g[f++]);return u}p=l.length;let h=r;for(f=0;f<p;){const g=l[f++],x=l[f++];try{h=g(h)}catch(y){x.call(this,y);break}}try{u=ok.call(this,h)}catch(g){return Promise.reject(g)}for(f=0,p=d.length;f<p;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=Es(this.defaults,t);const r=_E(t.baseURL,t.url,t.allowAbsoluteUrls);return kE(r,t.params,t.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(t){ys.prototype[t]=function(r,n){return this.request(Es(n||{},{method:t,url:r,data:(n||{}).data}))}});te.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,l){return this.request(Es(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}ys.prototype[t]=r(),ys.prototype[t+"Form"]=r(!0)});let bF=class DE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const i=new Promise(l=>{n.subscribe(l),a=l}).then(o);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,l){n.reason||(n.reason=new xc(a,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new DE(function(o){t=o}),cancel:t}}};function wF(e){return function(r){return e.apply(null,r)}}function SF(e){return te.isObject(e)&&e.isAxiosError===!0}const Px={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Px).forEach(([e,t])=>{Px[t]=e});function IE(e){const t=new ys(e),r=fE(ys.prototype.request,t);return te.extend(r,ys.prototype,t,{allOwnKeys:!0}),te.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return IE(Es(e,o))},r}const Mt=IE(Fd);Mt.Axios=ys;Mt.CanceledError=xc;Mt.CancelToken=bF;Mt.isCancel=AE;Mt.VERSION=zE;Mt.toFormData=Fv;Mt.AxiosError=$e;Mt.Cancel=Mt.CanceledError;Mt.all=function(t){return Promise.all(t)};Mt.spread=wF;Mt.isAxiosError=SF;Mt.mergeConfig=Es;Mt.AxiosHeaders=Qr;Mt.formToJSON=e=>PE(te.isHTMLForm(e)?new FormData(e):e);Mt.getAdapter=$E.getAdapter;Mt.HttpStatusCode=Px;Mt.default=Mt;const{Axios:$pe,AxiosError:zpe,CanceledError:Dpe,isCancel:Ipe,CancelToken:Rpe,VERSION:Npe,all:Lpe,Cancel:Fpe,isAxiosError:Bpe,spread:Upe,toFormData:Wpe,AxiosHeaders:qpe,HttpStatusCode:Hpe,formToJSON:Vpe,getAdapter:Kpe,mergeConfig:Ype}=Mt,jF="",he=Mt.create({baseURL:jF,headers:{"Content-Type":"application/json"}});he.interceptors.request.use(e=>{var r;console.log("[API Request]",(r=e.method)==null?void 0:r.toUpperCase(),e.url);const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("[API Request Error]",e),Promise.reject(e)));he.interceptors.response.use(e=>{var t;return console.log("[API Response]",(t=e.config.method)==null?void 0:t.toUpperCase(),e.config.url,"Status:",e.status),e},e=>{var t,r,n,o,a;if(console.error("[API Response Error]",(r=(t=e.config)==null?void 0:t.method)==null?void 0:r.toUpperCase(),(n=e.config)==null?void 0:n.url,"Status:",(o=e.response)==null?void 0:o.status,"Error:",e.message),((a=e.response)==null?void 0:a.status)===401){const i=window.location.pathname;i!=="/login"&&i!=="/register"&&(localStorage.removeItem("token"),window.location.href="/login")}return Promise.reject(e)});const Ax={login:async(e,t)=>{console.log("API: Sending login request..."),console.log("[API Debug] Login URL:",he.defaults.baseURL+"/api/auth/login");const r=await he.post("/api/auth/login",{email:e,password:t});return console.log("API: Login response:",r.data),r.data},register:async e=>(await he.post("/api/auth/register",e)).data},Bd={getMe:async()=>(await he.get("/api/users/me")).data,getSubordinates:async()=>(await he.get("/api/users/subordinates")).data,getTeamMembers:async()=>(await he.get("/api/users/team")).data,getManagers:async()=>(await he.get("/api/users/managers")).data},an={getReports:async e=>(await he.get("/api/reports",{params:e})).data,getReport:async e=>(await he.get(`/api/reports/${e}`)).data,createReport:async e=>(await he.post("/api/reports",e)).data,updateReport:async(e,t)=>(await he.put(`/api/reports/${e}`,t)).data,deleteReport:async e=>(await he.delete(`/api/reports/${e}`)).data,updateReportStatus:async(e,t)=>(await he.put(`/api/reports/${e}/status`,{status:t})).data,getTeamReports:async(e={})=>(await he.get("/api/reports/team",{params:e})).data,generateSuggestions:async e=>(await he.post(`/api/reports/${e}/generate-suggestions`)).data},Qo={startHearing:async(e={})=>(await he.post("/api/ai/hearing/start",e)).data,submitAnswer:async e=>(await he.post("/api/ai/hearing/answer",e)).data,correctText:async e=>(await he.post("/api/ai/correct-text",{text:e})).data,correctReportText:async e=>(await he.post("/api/ai/correct-report",{text:e})).data,startMeetingNotes:async e=>(await he.post("/api/ai/hearing/meeting",e)).data,getSession:async e=>(await he.get(`/api/ai/hearing/session/${e}`)).data,getSuggestions:async e=>(await he.post("/api/ai/hearing/suggestions",e)).data},ik={uploadFile:async e=>(await he.post("/api/upload/file",e,{headers:{"Content-Type":"multipart/form-data"}})).data,processFile:async(e,t)=>(await he.post("/api/upload/process",{fileId:e,type:t})).data},kh={getPersonalAnalytics:async(e=30)=>(await he.get(`/api/analytics/personal?period=${e}`)).data,getPersonalIssues:async(e=30)=>(await he.get(`/api/analytics/personal/issues?period=${e}`)).data,getTeamAnalytics:async(e=30,t=[])=>{const r=new URLSearchParams({period:e});return t.length>0&&t.forEach(o=>r.append("userIds",o)),(await he.get(`/api/analytics/team?${r}`)).data},getTeamIssues:async(e=30,t=[])=>{const r=new URLSearchParams({period:e});return t.length>0&&t.forEach(o=>r.append("userIds",o)),(await he.get(`/api/analytics/team/issues?${r}`)).data}},cl={testConnection:async()=>(await he.get("/api/dynamics365/test")).data,getAccounts:async(e=50)=>(await he.get(`/api/dynamics365/accounts?limit=${e}`)).data,getOpportunities:async(e=null,t=50)=>{const r=new URLSearchParams({limit:t});return e&&r.append("accountId",e),(await he.get(`/api/dynamics365/opportunities?${r}`)).data},getActivities:async(e=null,t=50)=>{const r=new URLSearchParams({limit:t});return e&&r.append("regardingObjectId",e),(await he.get(`/api/dynamics365/activities?${r}`)).data},getNotes:async(e=null,t=50)=>{const r=new URLSearchParams({limit:t});return e&&r.append("regardingObjectId",e),(await he.get(`/api/dynamics365/notes?${r}`)).data},getMeetings:async(e=null,t=50)=>{const r=new URLSearchParams({limit:t});return e&&r.append("regardingObjectId",e),(await he.get(`/api/dynamics365/meetings?${r}`)).data},syncReport:async e=>(await he.post("/api/dynamics365/sync-report",e)).data},qs={testConnection:async()=>(await he.post("/api/crm/test-connection",{crmType:"salesforce",config:{useOAuth:!0}})).data,getAccounts:async(e=50)=>(await he.get(`/api/crm/salesforce/accounts?limit=${e}`)).data,getOpportunities:async(e=null,t=50)=>{const r=new URLSearchParams({limit:t});return e&&r.append("accountId",e),(await he.get(`/api/crm/salesforce/opportunities?${r}`)).data},getActivities:async(e=null,t=50)=>{const r=new URLSearchParams({limit:t});return e&&r.append("regardingObjectId",e),(await he.get(`/api/crm/salesforce/activities?${r}`)).data},getNotes:async(e=null,t=50)=>{const r=new URLSearchParams({limit:t});return e&&r.append("regardingObjectId",e),(await he.get(`/api/crm/salesforce/notes?${r}`)).data},getMeetings:async(e=null,t=50)=>{const r=new URLSearchParams({limit:t});return e&&r.append("regardingObjectId",e),(await he.get(`/api/crm/salesforce/meetings?${r}`)).data},syncReport:async e=>(await he.post("/api/crm/salesforce/sync-report",e)).data},bo={getAll:async()=>(await he.get("/api/hearing-settings")).data,get:async e=>(await he.get(`/api/hearing-settings/${e}`)).data,getDefault:async()=>(await he.get("/api/hearing-settings/default")).data,create:async e=>(await he.post("/api/hearing-settings",e)).data,update:async(e,t)=>(await he.put(`/api/hearing-settings/${e}`,t)).data,delete:async e=>(await he.delete(`/api/hearing-settings/${e}`)).data,createSession:async e=>(await he.post("/api/hearing-settings/sessions",e)).data,getSessions:async(e=10,t=0)=>(await he.get(`/api/hearing-settings/sessions?limit=${e}&offset=${t}`)).data},Za={getStatus:async()=>(await he.get("/api/oauth/status")).data,dynamics365:{authorize:async()=>(await he.get("/api/oauth/dynamics365/authorize")).data,logout:async()=>(await he.delete("/api/oauth/dynamics365")).data},salesforce:{authorize:async()=>(await he.get("/api/oauth/salesforce/authorize")).data,logout:async()=>(await he.delete("/api/oauth/salesforce")).data}},Of={getDetail:async e=>(await he.get(`/api/tags/${e}/detail`)).data,fetchInfo:async(e,t=!1)=>(await he.post(`/api/tags/${e}/fetch-info`,{force:t})).data,deleteWebInfo:async e=>(await he.delete(`/api/tags/${e}/web-info`)).data,getReports:async(e,t=50,r=0)=>(await he.get(`/api/tags/${e}/reports?limit=${t}&offset=${r}`)).data},wo={syncReport:async(e,t,r,n)=>(await he.post(`/api/crm-integration/reports/${e}/sync`,{crmType:t,action:r,crmData:n})).data,getCRMMapping:async e=>(await he.get(`/api/crm-integration/reports/${e}/crm-mapping`)).data,getSyncHistory:async(e=null,t=50)=>{const r=new URLSearchParams;return e&&r.append("reportId",e),r.append("limit",t),(await he.get(`/api/crm-integration/sync-history?${r}`)).data},checkAuthStatus:async()=>(await he.get("/api/crm-auth/check-auth")).data,searchCRM:async(e,t)=>(await he.post("/api/crm-auth/search",{searchTerm:e,crmType:t})).data,getRecentOpportunities:async(e="salesforce")=>(await he.get("/api/crm-integration/recent-opportunities",{params:{crmType:e}})).data,removeMapping:async(e,t)=>(await he.delete(`/api/crm-integration/reports/${e}/crm-mapping/${t}`)).data,updateMappingPriority:async(e,t,r)=>(await he.put(`/api/crm-integration/reports/${e}/crm-mapping/${t}/priority`,{priority:r})).data},RE=m.createContext(null),oo=()=>{const e=m.useContext(RE);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},kF=({children:e})=>{const[t,r]=m.useState(null),[n,o]=m.useState(!0);m.useEffect(()=>{localStorage.getItem("token")?a():o(!1)},[]);const a=async()=>{try{const u=await Bd.getMe();r(u)}catch(u){console.error("Failed to load user:",u),localStorage.removeItem("token")}finally{o(!1)}},d={user:t,loading:n,login:async(u,f)=>{var p,h,g;try{console.log("AuthContext: Starting login...");const x=await Ax.login(u,f);return console.log("AuthContext: Login response received:",x),localStorage.setItem("token",x.token),r(x.user),await new Promise(y=>setTimeout(y,100)),q.success("ログインしました"),{success:!0}}catch(x){console.error("AuthContext: Login error:",x);const y=((h=(p=x.response)==null?void 0:p.data)==null?void 0:h.error)||"ログインに失敗しました",v=((g=x.response)==null?void 0:g.status)===401;return v?q(S=>s.jsxs("div",{children:[s.jsx("p",{style:{marginBottom:"8px",fontWeight:"600"},children:"ログインに失敗しました"}),s.jsx("p",{style:{fontSize:"14px",marginBottom:"12px"},children:"アカウントが存在しない可能性があります"}),s.jsx("button",{onClick:()=>{q.dismiss(S.id),window.location.href="/register"},style:{backgroundColor:"#8B5CF6",color:"white",padding:"6px 16px",borderRadius:"6px",border:"none",fontSize:"14px",fontWeight:"600",cursor:"pointer",marginRight:"8px"},children:"新規登録へ"}),s.jsx("button",{onClick:()=>q.dismiss(S.id),style:{backgroundColor:"#E5E7EB",color:"#4B5563",padding:"6px 16px",borderRadius:"6px",border:"none",fontSize:"14px",cursor:"pointer"},children:"閉じる"})]}),{duration:8e3,style:{maxWidth:"400px"}}):q.error(y),{success:!1,error:y,isAuthError:v}}},register:async u=>{var f,p;try{const h=await Ax.register(u);return localStorage.setItem("token",h.token),r(h.user),q.success("アカウントを作成しました"),{success:!0}}catch(h){const g=((p=(f=h.response)==null?void 0:f.data)==null?void 0:p.error)||"登録に失敗しました";return q.error(g),{success:!1,error:g}}},logout:()=>{localStorage.removeItem("token"),r(null),window.location.href="/login"},isAuthenticated:!!t,isManager:(t==null?void 0:t.role)==="manager"};return s.jsx(RE.Provider,{value:d,children:e})};var Ud=e=>e.type==="checkbox",ts=e=>e instanceof Date,Pr=e=>e==null;const NE=e=>typeof e=="object";var Tt=e=>!Pr(e)&&!Array.isArray(e)&&NE(e)&&!ts(e),CF=e=>Tt(e)&&e.target?Ud(e.target)?e.target.checked:e.target.value:e,PF=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,AF=(e,t)=>e.has(PF(t)),OF=e=>{const t=e.constructor&&e.constructor.prototype;return Tt(t)&&t.hasOwnProperty("isPrototypeOf")},Hw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Hw&&(e instanceof Blob||n))&&(r||Tt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!OF(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=Jt(e[o]));else return e;return t}var Wv=e=>/^\w*$/.test(e),It=e=>e===void 0,Vw=e=>Array.isArray(e)?e.filter(Boolean):[],Kw=e=>Vw(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ce=(e,t,r)=>{if(!t||!Tt(e))return r;const n=(Wv(t)?[t]:Kw(t)).reduce((o,a)=>Pr(o)?o:o[a],e);return It(n)||n===e?It(e[t])?r:e[t]:n},mo=e=>typeof e=="boolean",pt=(e,t,r)=>{let n=-1;const o=Wv(t)?[t]:Kw(t),a=o.length,i=a-1;for(;++n<a;){const l=o[n];let c=r;if(n!==i){const d=e[l];c=Tt(d)||Array.isArray(d)?d:isNaN(+o[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const sk={BLUR:"blur",FOCUS_OUT:"focusout"},Gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_F=Le.createContext(null);_F.displayName="HookFormContext";var EF=(e,t,r,n=!0)=>{const o={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(o,a,{get:()=>{const i=a;return t._proxyFormState[i]!==Gn.all&&(t._proxyFormState[i]=!n||Gn.all),e[i]}});return o};const TF=typeof window<"u"?Le.useLayoutEffect:Le.useEffect;var Ao=e=>typeof e=="string",MF=(e,t,r,n,o)=>Ao(e)?(n&&t.watch.add(e),Ce(r,e,o)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Ce(r,a))):(n&&(t.watchAll=!0),r),Ox=e=>Pr(e)||!NE(e);function Na(e,t,r=new WeakSet){if(Ox(e)||Ox(t))return e===t;if(ts(e)&&ts(t))return e.getTime()===t.getTime();const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const i=e[a];if(!o.includes(a))return!1;if(a!=="ref"){const l=t[a];if(ts(i)&&ts(l)||Tt(i)&&Tt(l)||Array.isArray(i)&&Array.isArray(l)?!Na(i,l,r):i!==l)return!1}}return!0}var $F=(e,t,r,n,o)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:o||!0}}:{},Du=e=>Array.isArray(e)?e:[e],lk=()=>{let e=[];return{get observers(){return e},next:o=>{for(const a of e)a.next&&a.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(a=>a!==o)}}),unsubscribe:()=>{e=[]}}},Lr=e=>Tt(e)&&!Object.keys(e).length,Yw=e=>e.type==="file",Xn=e=>typeof e=="function",Ch=e=>{if(!Hw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},LE=e=>e.type==="select-multiple",Qw=e=>e.type==="radio",zF=e=>Qw(e)||Ud(e),Og=e=>Ch(e)&&e.isConnected;function DF(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=It(e)?n++:e[t[n++]];return e}function IF(e){for(const t in e)if(e.hasOwnProperty(t)&&!It(e[t]))return!1;return!0}function zt(e,t){const r=Array.isArray(t)?t:Wv(t)?[t]:Kw(t),n=r.length===1?e:DF(e,r),o=r.length-1,a=r[o];return n&&delete n[a],o!==0&&(Tt(n)&&Lr(n)||Array.isArray(n)&&IF(n))&&zt(e,r.slice(0,-1)),e}var FE=e=>{for(const t in e)if(Xn(e[t]))return!0;return!1};function Ph(e,t={}){const r=Array.isArray(e);if(Tt(e)||r)for(const n in e)Array.isArray(e[n])||Tt(e[n])&&!FE(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ph(e[n],t[n])):Pr(e[n])||(t[n]=!0);return t}function BE(e,t,r){const n=Array.isArray(e);if(Tt(e)||n)for(const o in e)Array.isArray(e[o])||Tt(e[o])&&!FE(e[o])?It(t)||Ox(r[o])?r[o]=Array.isArray(e[o])?Ph(e[o],[]):{...Ph(e[o])}:BE(e[o],Pr(t)?{}:t[o],r[o]):r[o]=!Na(e[o],t[o]);return r}var Wc=(e,t)=>BE(e,t,Ph(t));const ck={value:!1,isValid:!1},uk={value:!0,isValid:!0};var UE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!It(e[0].attributes.value)?It(e[0].value)||e[0].value===""?uk:{value:e[0].value,isValid:!0}:uk:ck}return ck},WE=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>It(e)?e:t?e===""?NaN:e&&+e:r&&Ao(e)?new Date(e):n?n(e):e;const dk={isValid:!1,value:null};var qE=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,dk):dk;function fk(e){const t=e.ref;return Yw(t)?t.files:Qw(t)?qE(e.refs).value:LE(t)?[...t.selectedOptions].map(({value:r})=>r):Ud(t)?UE(e.refs).value:WE(It(t.value)?e.ref.value:t.value,e)}var RF=(e,t,r,n)=>{const o={};for(const a of e){const i=Ce(t,a);i&&pt(o,a,i._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:n}},Ah=e=>e instanceof RegExp,qc=e=>It(e)?e:Ah(e)?e.source:Tt(e)?Ah(e.value)?e.value.source:e.value:e,pk=e=>({isOnSubmit:!e||e===Gn.onSubmit,isOnBlur:e===Gn.onBlur,isOnChange:e===Gn.onChange,isOnAll:e===Gn.all,isOnTouch:e===Gn.onTouched});const hk="AsyncFunction";var NF=e=>!!e&&!!e.validate&&!!(Xn(e.validate)&&e.validate.constructor.name===hk||Tt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===hk)),LF=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),vk=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Iu=(e,t,r,n)=>{for(const o of r||Object.keys(e)){const a=Ce(e,o);if(a){const{_f:i,...l}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],o)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Iu(l,t))break}else if(Tt(l)&&Iu(l,t))break}}};function mk(e,t,r){const n=Ce(e,r);if(n||Wv(r))return{error:n,name:r};const o=r.split(".");for(;o.length;){const a=o.join("."),i=Ce(t,a),l=Ce(e,a);if(i&&!Array.isArray(i)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};o.pop()}return{name:r}}var FF=(e,t,r,n)=>{r(e);const{name:o,...a}=e;return Lr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!n||Gn.all))},BF=(e,t,r)=>!e||!t||e===t||Du(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),UF=(e,t,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(t||e):(r?n.isOnBlur:o.isOnBlur)?!e:(r?n.isOnChange:o.isOnChange)?e:!0,WF=(e,t)=>!Vw(Ce(e,t)).length&&zt(e,t),qF=(e,t,r)=>{const n=Du(Ce(e,r));return pt(n,"root",t[r]),pt(e,r,n),e},Rp=e=>Ao(e);function gk(e,t,r="validate"){if(Rp(e)||Array.isArray(e)&&e.every(Rp)||mo(e)&&!e)return{type:r,message:Rp(e)?e:"",ref:t}}var Hs=e=>Tt(e)&&!Ah(e)?e:{value:e,message:""},yk=async(e,t,r,n,o,a)=>{const{ref:i,refs:l,required:c,maxLength:d,minLength:u,min:f,max:p,pattern:h,validate:g,name:x,valueAsNumber:y,mount:v}=e._f,S=Ce(r,x);if(!v||t.has(x))return{};const b=l?l[0]:i,j=H=>{o&&b.reportValidity&&(b.setCustomValidity(mo(H)?"":H||""),b.reportValidity())},k={},C=Qw(i),O=Ud(i),D=C||O,I=(y||Yw(i))&&It(i.value)&&It(S)||Ch(i)&&i.value===""||S===""||Array.isArray(S)&&!S.length,K=$F.bind(null,x,n,k),X=(H,T,R,G=Fo.maxLength,Q=Fo.minLength)=>{const se=H?T:R;k[x]={type:H?G:Q,message:se,ref:i,...K(H?G:Q,se)}};if(a?!Array.isArray(S)||!S.length:c&&(!D&&(I||Pr(S))||mo(S)&&!S||O&&!UE(l).isValid||C&&!qE(l).isValid)){const{value:H,message:T}=Rp(c)?{value:!!c,message:c}:Hs(c);if(H&&(k[x]={type:Fo.required,message:T,ref:b,...K(Fo.required,T)},!n))return j(T),k}if(!I&&(!Pr(f)||!Pr(p))){let H,T;const R=Hs(p),G=Hs(f);if(!Pr(S)&&!isNaN(S)){const Q=i.valueAsNumber||S&&+S;Pr(R.value)||(H=Q>R.value),Pr(G.value)||(T=Q<G.value)}else{const Q=i.valueAsDate||new Date(S),se=V=>new Date(new Date().toDateString()+" "+V),re=i.type=="time",$=i.type=="week";Ao(R.value)&&S&&(H=re?se(S)>se(R.value):$?S>R.value:Q>new Date(R.value)),Ao(G.value)&&S&&(T=re?se(S)<se(G.value):$?S<G.value:Q<new Date(G.value))}if((H||T)&&(X(!!H,R.message,G.message,Fo.max,Fo.min),!n))return j(k[x].message),k}if((d||u)&&!I&&(Ao(S)||a&&Array.isArray(S))){const H=Hs(d),T=Hs(u),R=!Pr(H.value)&&S.length>+H.value,G=!Pr(T.value)&&S.length<+T.value;if((R||G)&&(X(R,H.message,T.message),!n))return j(k[x].message),k}if(h&&!I&&Ao(S)){const{value:H,message:T}=Hs(h);if(Ah(H)&&!S.match(H)&&(k[x]={type:Fo.pattern,message:T,ref:i,...K(Fo.pattern,T)},!n))return j(T),k}if(g){if(Xn(g)){const H=await g(S,r),T=gk(H,b);if(T&&(k[x]={...T,...K(Fo.validate,T.message)},!n))return j(T.message),k}else if(Tt(g)){let H={};for(const T in g){if(!Lr(H)&&!n)break;const R=gk(await g[T](S,r),b,T);R&&(H={...R,...K(T,R.message)},j(R.message),n&&(k[x]=H))}if(!Lr(H)&&(k[x]={ref:b,...H},!n))return k}}return j(!0),k};const HF={mode:Gn.onSubmit,reValidateMode:Gn.onChange,shouldFocusError:!0};function VF(e={}){let t={...HF,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Xn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},o=Tt(t.defaultValues)||Tt(t.values)?Jt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Jt(o),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const p={array:lk(),state:lk()},h=t.criteriaMode===Gn.all,g=A=>_=>{clearTimeout(d),d=setTimeout(A,_)},x=async A=>{if(!t.disabled&&(u.isValid||f.isValid||A)){const _=t.resolver?Lr((await O()).errors):await I(n,!0);_!==r.isValid&&p.state.next({isValid:_})}},y=(A,_)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((A||Array.from(l.mount)).forEach(W=>{W&&(_?pt(r.validatingFields,W,_):zt(r.validatingFields,W))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Lr(r.validatingFields)}))},v=(A,_=[],W,N,Y=!0,J=!0)=>{if(N&&W&&!t.disabled){if(i.action=!0,J&&Array.isArray(Ce(n,A))){const z=W(Ce(n,A),N.argA,N.argB);Y&&pt(n,A,z)}if(J&&Array.isArray(Ce(r.errors,A))){const z=W(Ce(r.errors,A),N.argA,N.argB);Y&&pt(r.errors,A,z),WF(r.errors,A)}if((u.touchedFields||f.touchedFields)&&J&&Array.isArray(Ce(r.touchedFields,A))){const z=W(Ce(r.touchedFields,A),N.argA,N.argB);Y&&pt(r.touchedFields,A,z)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Wc(o,a)),p.state.next({name:A,isDirty:X(A,_),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pt(a,A,_)},S=(A,_)=>{pt(r.errors,A,_),p.state.next({errors:r.errors})},b=A=>{r.errors=A,p.state.next({errors:r.errors,isValid:!1})},j=(A,_,W,N)=>{const Y=Ce(n,A);if(Y){const J=Ce(a,A,It(W)?Ce(o,A):W);It(J)||N&&N.defaultChecked||_?pt(a,A,_?J:fk(Y._f)):R(A,J),i.mount&&x()}},k=(A,_,W,N,Y)=>{let J=!1,z=!1;const L={name:A};if(!t.disabled){if(!W||N){(u.isDirty||f.isDirty)&&(z=r.isDirty,r.isDirty=L.isDirty=X(),J=z!==L.isDirty);const P=Na(Ce(o,A),_);z=!!Ce(r.dirtyFields,A),P?zt(r.dirtyFields,A):pt(r.dirtyFields,A,!0),L.dirtyFields=r.dirtyFields,J=J||(u.dirtyFields||f.dirtyFields)&&z!==!P}if(W){const P=Ce(r.touchedFields,A);P||(pt(r.touchedFields,A,W),L.touchedFields=r.touchedFields,J=J||(u.touchedFields||f.touchedFields)&&P!==W)}J&&Y&&p.state.next(L)}return J?L:{}},C=(A,_,W,N)=>{const Y=Ce(r.errors,A),J=(u.isValid||f.isValid)&&mo(_)&&r.isValid!==_;if(t.delayError&&W?(c=g(()=>S(A,W)),c(t.delayError)):(clearTimeout(d),c=null,W?pt(r.errors,A,W):zt(r.errors,A)),(W?!Na(Y,W):Y)||!Lr(N)||J){const z={...N,...J&&mo(_)?{isValid:_}:{},errors:r.errors,name:A};r={...r,...z},p.state.next(z)}},O=async A=>{y(A,!0);const _=await t.resolver(a,t.context,RF(A||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(A),_},D=async A=>{const{errors:_}=await O(A);if(A)for(const W of A){const N=Ce(_,W);N?pt(r.errors,W,N):zt(r.errors,W)}else r.errors=_;return _},I=async(A,_,W={valid:!0})=>{for(const N in A){const Y=A[N];if(Y){const{_f:J,...z}=Y;if(J){const L=l.array.has(J.name),P=Y._f&&NF(Y._f);P&&u.validatingFields&&y([N],!0);const E=await yk(Y,l.disabled,a,h,t.shouldUseNativeValidation&&!_,L);if(P&&u.validatingFields&&y([N]),E[J.name]&&(W.valid=!1,_))break;!_&&(Ce(E,J.name)?L?qF(r.errors,E,J.name):pt(r.errors,J.name,E[J.name]):zt(r.errors,J.name))}!Lr(z)&&await I(z,_,W)}}return W.valid},K=()=>{for(const A of l.unMount){const _=Ce(n,A);_&&(_._f.refs?_._f.refs.every(W=>!Og(W)):!Og(_._f.ref))&&ke(A)}l.unMount=new Set},X=(A,_)=>!t.disabled&&(A&&_&&pt(a,A,_),!Na(V(),o)),H=(A,_,W)=>MF(A,l,{...i.mount?a:It(_)?o:Ao(A)?{[A]:_}:_},W,_),T=A=>Vw(Ce(i.mount?a:o,A,t.shouldUnregister?Ce(o,A,[]):[])),R=(A,_,W={})=>{const N=Ce(n,A);let Y=_;if(N){const J=N._f;J&&(!J.disabled&&pt(a,A,WE(_,J)),Y=Ch(J.ref)&&Pr(_)?"":_,LE(J.ref)?[...J.ref.options].forEach(z=>z.selected=Y.includes(z.value)):J.refs?Ud(J.ref)?J.refs.forEach(z=>{(!z.defaultChecked||!z.disabled)&&(Array.isArray(Y)?z.checked=!!Y.find(L=>L===z.value):z.checked=Y===z.value||!!Y)}):J.refs.forEach(z=>z.checked=z.value===Y):Yw(J.ref)?J.ref.value="":(J.ref.value=Y,J.ref.type||p.state.next({name:A,values:Jt(a)})))}(W.shouldDirty||W.shouldTouch)&&k(A,Y,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&$(A)},G=(A,_,W)=>{for(const N in _){if(!_.hasOwnProperty(N))return;const Y=_[N],J=A+"."+N,z=Ce(n,J);(l.array.has(A)||Tt(Y)||z&&!z._f)&&!ts(Y)?G(J,Y,W):R(J,Y,W)}},Q=(A,_,W={})=>{const N=Ce(n,A),Y=l.array.has(A),J=Jt(_);pt(a,A,J),Y?(p.array.next({name:A,values:Jt(a)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&W.shouldDirty&&p.state.next({name:A,dirtyFields:Wc(o,a),isDirty:X(A,J)})):N&&!N._f&&!Pr(J)?G(A,J,W):R(A,J,W),vk(A,l)&&p.state.next({...r,name:A}),p.state.next({name:i.mount?A:void 0,values:Jt(a)})},se=async A=>{i.mount=!0;const _=A.target;let W=_.name,N=!0;const Y=Ce(n,W),J=P=>{N=Number.isNaN(P)||ts(P)&&isNaN(P.getTime())||Na(P,Ce(a,W,P))},z=pk(t.mode),L=pk(t.reValidateMode);if(Y){let P,E;const B=_.type?fk(Y._f):CF(A),oe=A.type===sk.BLUR||A.type===sk.FOCUS_OUT,le=!LF(Y._f)&&!t.resolver&&!Ce(r.errors,W)&&!Y._f.deps||UF(oe,Ce(r.touchedFields,W),r.isSubmitted,L,z),ne=vk(W,l,oe);pt(a,W,B),oe?(!_||!_.readOnly)&&(Y._f.onBlur&&Y._f.onBlur(A),c&&c(0)):Y._f.onChange&&Y._f.onChange(A);const de=k(W,B,oe),Ae=!Lr(de)||ne;if(!oe&&p.state.next({name:W,type:A.type,values:Jt(a)}),le)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?oe&&x():oe||x()),Ae&&p.state.next({name:W,...ne?{}:de});if(!oe&&ne&&p.state.next({...r}),t.resolver){const{errors:fe}=await O([W]);if(J(B),N){const Ue=mk(r.errors,n,W),Me=mk(fe,n,Ue.name||W);P=Me.error,W=Me.name,E=Lr(fe)}}else y([W],!0),P=(await yk(Y,l.disabled,a,h,t.shouldUseNativeValidation))[W],y([W]),J(B),N&&(P?E=!1:(u.isValid||f.isValid)&&(E=await I(n,!0)));N&&(Y._f.deps&&$(Y._f.deps),C(W,E,P,de))}},re=(A,_)=>{if(Ce(r.errors,_)&&A.focus)return A.focus(),1},$=async(A,_={})=>{let W,N;const Y=Du(A);if(t.resolver){const J=await D(It(A)?A:Y);W=Lr(J),N=A?!Y.some(z=>Ce(J,z)):W}else A?(N=(await Promise.all(Y.map(async J=>{const z=Ce(n,J);return await I(z&&z._f?{[J]:z}:z)}))).every(Boolean),!(!N&&!r.isValid)&&x()):N=W=await I(n);return p.state.next({...!Ao(A)||(u.isValid||f.isValid)&&W!==r.isValid?{}:{name:A},...t.resolver||!A?{isValid:W}:{},errors:r.errors}),_.shouldFocus&&!N&&Iu(n,re,A?Y:l.mount),N},V=A=>{const _={...i.mount?a:o};return It(A)?_:Ao(A)?Ce(_,A):A.map(W=>Ce(_,W))},U=(A,_)=>({invalid:!!Ce((_||r).errors,A),isDirty:!!Ce((_||r).dirtyFields,A),error:Ce((_||r).errors,A),isValidating:!!Ce(r.validatingFields,A),isTouched:!!Ce((_||r).touchedFields,A)}),M=A=>{A&&Du(A).forEach(_=>zt(r.errors,_)),p.state.next({errors:A?r.errors:{}})},ee=(A,_,W)=>{const N=(Ce(n,A,{_f:{}})._f||{}).ref,Y=Ce(r.errors,A)||{},{ref:J,message:z,type:L,...P}=Y;pt(r.errors,A,{...P,..._,ref:N}),p.state.next({name:A,errors:r.errors,isValid:!1}),W&&W.shouldFocus&&N&&N.focus&&N.focus()},ae=(A,_)=>Xn(A)?p.state.subscribe({next:W=>"values"in W&&A(H(void 0,_),W)}):H(A,_,!0),pe=A=>p.state.subscribe({next:_=>{BF(A.name,_.name,A.exact)&&FF(_,A.formState||u,Qe,A.reRenderRoot)&&A.callback({values:{...a},...r,..._,defaultValues:o})}}).unsubscribe,ge=A=>(i.mount=!0,f={...f,...A.formState},pe({...A,formState:f})),ke=(A,_={})=>{for(const W of A?Du(A):l.mount)l.mount.delete(W),l.array.delete(W),_.keepValue||(zt(n,W),zt(a,W)),!_.keepError&&zt(r.errors,W),!_.keepDirty&&zt(r.dirtyFields,W),!_.keepTouched&&zt(r.touchedFields,W),!_.keepIsValidating&&zt(r.validatingFields,W),!t.shouldUnregister&&!_.keepDefaultValue&&zt(o,W);p.state.next({values:Jt(a)}),p.state.next({...r,..._.keepDirty?{isDirty:X()}:{}}),!_.keepIsValid&&x()},Te=({disabled:A,name:_})=>{(mo(A)&&i.mount||A||l.disabled.has(_))&&(A?l.disabled.add(_):l.disabled.delete(_))},ce=(A,_={})=>{let W=Ce(n,A);const N=mo(_.disabled)||mo(t.disabled);return pt(n,A,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:A}},name:A,mount:!0,..._}}),l.mount.add(A),W?Te({disabled:mo(_.disabled)?_.disabled:t.disabled,name:A}):j(A,!0,_.value),{...N?{disabled:_.disabled||t.disabled}:{},...t.progressive?{required:!!_.required,min:qc(_.min),max:qc(_.max),minLength:qc(_.minLength),maxLength:qc(_.maxLength),pattern:qc(_.pattern)}:{},name:A,onChange:se,onBlur:se,ref:Y=>{if(Y){ce(A,_),W=Ce(n,A);const J=It(Y.value)&&Y.querySelectorAll&&Y.querySelectorAll("input,select,textarea")[0]||Y,z=zF(J),L=W._f.refs||[];if(z?L.find(P=>P===J):J===W._f.ref)return;pt(n,A,{_f:{...W._f,...z?{refs:[...L.filter(Og),J,...Array.isArray(Ce(o,A))?[{}]:[]],ref:{type:J.type,name:A}}:{ref:J}}}),j(A,!1,void 0,J)}else W=Ce(n,A,{}),W._f&&(W._f.mount=!1),(t.shouldUnregister||_.shouldUnregister)&&!(AF(l.array,A)&&i.action)&&l.unMount.add(A)}}},me=()=>t.shouldFocusError&&Iu(n,re,l.mount),ve=A=>{mo(A)&&(p.state.next({disabled:A}),Iu(n,(_,W)=>{const N=Ce(n,W);N&&(_.disabled=N._f.disabled||A,Array.isArray(N._f.refs)&&N._f.refs.forEach(Y=>{Y.disabled=N._f.disabled||A}))},0,!1))},ie=(A,_)=>async W=>{let N;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let Y=Jt(a);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:J,values:z}=await O();r.errors=J,Y=Jt(z)}else await I(n);if(l.disabled.size)for(const J of l.disabled)zt(Y,J);if(zt(r.errors,"root"),Lr(r.errors)){p.state.next({errors:{}});try{await A(Y,W)}catch(J){N=J}}else _&&await _({...r.errors},W),me(),setTimeout(me);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lr(r.errors)&&!N,submitCount:r.submitCount+1,errors:r.errors}),N)throw N},Be=(A,_={})=>{Ce(n,A)&&(It(_.defaultValue)?Q(A,Jt(Ce(o,A))):(Q(A,_.defaultValue),pt(o,A,Jt(_.defaultValue))),_.keepTouched||zt(r.touchedFields,A),_.keepDirty||(zt(r.dirtyFields,A),r.isDirty=_.defaultValue?X(A,Jt(Ce(o,A))):X()),_.keepError||(zt(r.errors,A),u.isValid&&x()),p.state.next({...r}))},_e=(A,_={})=>{const W=A?Jt(A):o,N=Jt(W),Y=Lr(A),J=Y?o:N;if(_.keepDefaultValues||(o=W),!_.keepValues){if(_.keepDirtyValues){const z=new Set([...l.mount,...Object.keys(Wc(o,a))]);for(const L of Array.from(z))Ce(r.dirtyFields,L)?pt(J,L,Ce(a,L)):Q(L,Ce(J,L))}else{if(Hw&&It(A))for(const z of l.mount){const L=Ce(n,z);if(L&&L._f){const P=Array.isArray(L._f.refs)?L._f.refs[0]:L._f.ref;if(Ch(P)){const E=P.closest("form");if(E){E.reset();break}}}}if(_.keepFieldsRef)for(const z of l.mount)Q(z,Ce(J,z));else n={}}a=t.shouldUnregister?_.keepDefaultValues?Jt(o):{}:Jt(J),p.array.next({values:{...J}}),p.state.next({values:{...J}})}l={mount:_.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!_.keepIsValid||!!_.keepDirtyValues,i.watch=!!t.shouldUnregister,p.state.next({submitCount:_.keepSubmitCount?r.submitCount:0,isDirty:Y?!1:_.keepDirty?r.isDirty:!!(_.keepDefaultValues&&!Na(A,o)),isSubmitted:_.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Y?{}:_.keepDirtyValues?_.keepDefaultValues&&a?Wc(o,a):r.dirtyFields:_.keepDefaultValues&&A?Wc(o,A):_.keepDirty?r.dirtyFields:{},touchedFields:_.keepTouched?r.touchedFields:{},errors:_.keepErrors?r.errors:{},isSubmitSuccessful:_.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Se=(A,_)=>_e(Xn(A)?A(a):A,_),De=(A,_={})=>{const W=Ce(n,A),N=W&&W._f;if(N){const Y=N.refs?N.refs[0]:N.ref;Y.focus&&(Y.focus(),_.shouldSelect&&Xn(Y.select)&&Y.select())}},Qe=A=>{r={...r,...A}},Ut={control:{register:ce,unregister:ke,getFieldState:U,handleSubmit:ie,setError:ee,_subscribe:pe,_runSchema:O,_focusError:me,_getWatch:H,_getDirty:X,_setValid:x,_setFieldArray:v,_setDisabledField:Te,_setErrors:b,_getFieldArray:T,_reset:_e,_resetDefaultValues:()=>Xn(t.defaultValues)&&t.defaultValues().then(A=>{Se(A,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:ve,_subjects:p,_proxyFormState:u,get _fields(){return n},get _formValues(){return a},get _state(){return i},set _state(A){i=A},get _defaultValues(){return o},get _names(){return l},set _names(A){l=A},get _formState(){return r},get _options(){return t},set _options(A){t={...t,...A}}},subscribe:ge,trigger:$,register:ce,handleSubmit:ie,watch:ae,setValue:Q,getValues:V,reset:Se,resetField:Be,clearErrors:M,unregister:ke,setError:ee,setFocus:De,getFieldState:U};return{...Ut,formControl:Ut}}function HE(e={}){const t=Le.useRef(void 0),r=Le.useRef(void 0),[n,o]=Le.useState({isDirty:!1,isValidating:!1,isLoading:Xn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Xn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Xn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=VF(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,TF(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>o({...a._formState}),reRenderRoot:!0});return o(l=>({...l,isReady:!0})),a._formState.isReady=!0,i},[a]),Le.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Le.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),Le.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),Le.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Le.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==n.isDirty&&a._subjects.state.next({isDirty:i})}},[a,n.isDirty]),Le.useEffect(()=>{e.values&&!Na(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,o(i=>({...i}))):a._resetDefaultValues()},[a,e.values]),Le.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=EF(n,a),t.current}function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_x.apply(null,arguments)}function KF(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function YF(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var QF=function(){function e(r){var n=this;this._insertTag=function(o){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(o,a),n.tags.push(o)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(YF(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=KF(o);try{a.insertRule(n,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},e}(),fr="-ms-",Oh="-moz-",Ke="-webkit-",VE="comm",Gw="rule",Xw="decl",GF="@import",KE="@keyframes",XF="@layer",JF=Math.abs,qv=String.fromCharCode,ZF=Object.assign;function e7(e,t){return sr(e,0)^45?(((t<<2^sr(e,0))<<2^sr(e,1))<<2^sr(e,2))<<2^sr(e,3):0}function YE(e){return e.trim()}function t7(e,t){return(e=t.exec(e))?e[0]:e}function Ye(e,t,r){return e.replace(t,r)}function Ex(e,t){return e.indexOf(t)}function sr(e,t){return e.charCodeAt(t)|0}function ud(e,t,r){return e.slice(t,r)}function So(e){return e.length}function Jw(e){return e.length}function _f(e,t){return t.push(e),e}function r7(e,t){return e.map(t).join("")}var Hv=1,ec=1,QE=0,Gr=0,Rt=0,bc="";function Vv(e,t,r,n,o,a,i){return{value:e,root:t,parent:r,type:n,props:o,children:a,line:Hv,column:ec,length:i,return:""}}function Hc(e,t){return ZF(Vv("",null,null,"",null,null,0),e,{length:-e.length},t)}function n7(){return Rt}function o7(){return Rt=Gr>0?sr(bc,--Gr):0,ec--,Rt===10&&(ec=1,Hv--),Rt}function un(){return Rt=Gr<QE?sr(bc,Gr++):0,ec++,Rt===10&&(ec=1,Hv++),Rt}function To(){return sr(bc,Gr)}function Np(){return Gr}function Wd(e,t){return ud(bc,e,t)}function dd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function GE(e){return Hv=ec=1,QE=So(bc=e),Gr=0,[]}function XE(e){return bc="",e}function Lp(e){return YE(Wd(Gr-1,Tx(e===91?e+2:e===40?e+1:e)))}function a7(e){for(;(Rt=To())&&Rt<33;)un();return dd(e)>2||dd(Rt)>3?"":" "}function i7(e,t){for(;--t&&un()&&!(Rt<48||Rt>102||Rt>57&&Rt<65||Rt>70&&Rt<97););return Wd(e,Np()+(t<6&&To()==32&&un()==32))}function Tx(e){for(;un();)switch(Rt){case e:return Gr;case 34:case 39:e!==34&&e!==39&&Tx(Rt);break;case 40:e===41&&Tx(e);break;case 92:un();break}return Gr}function s7(e,t){for(;un()&&e+Rt!==57;)if(e+Rt===84&&To()===47)break;return"/*"+Wd(t,Gr-1)+"*"+qv(e===47?e:un())}function l7(e){for(;!dd(To());)un();return Wd(e,Gr)}function c7(e){return XE(Fp("",null,null,null,[""],e=GE(e),0,[0],e))}function Fp(e,t,r,n,o,a,i,l,c){for(var d=0,u=0,f=i,p=0,h=0,g=0,x=1,y=1,v=1,S=0,b="",j=o,k=a,C=n,O=b;y;)switch(g=S,S=un()){case 40:if(g!=108&&sr(O,f-1)==58){Ex(O+=Ye(Lp(S),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:O+=Lp(S);break;case 9:case 10:case 13:case 32:O+=a7(g);break;case 92:O+=i7(Np()-1,7);continue;case 47:switch(To()){case 42:case 47:_f(u7(s7(un(),Np()),t,r),c);break;default:O+="/"}break;case 123*x:l[d++]=So(O)*v;case 125*x:case 59:case 0:switch(S){case 0:case 125:y=0;case 59+u:v==-1&&(O=Ye(O,/\f/g,"")),h>0&&So(O)-f&&_f(h>32?bk(O+";",n,r,f-1):bk(Ye(O," ","")+";",n,r,f-2),c);break;case 59:O+=";";default:if(_f(C=xk(O,t,r,d,u,o,l,b,j=[],k=[],f),a),S===123)if(u===0)Fp(O,t,C,C,j,a,f,l,k);else switch(p===99&&sr(O,3)===110?100:p){case 100:case 108:case 109:case 115:Fp(e,C,C,n&&_f(xk(e,C,C,0,0,o,l,b,o,j=[],f),k),o,k,f,l,n?j:k);break;default:Fp(O,C,C,C,[""],k,0,l,k)}}d=u=h=0,x=v=1,b=O="",f=i;break;case 58:f=1+So(O),h=g;default:if(x<1){if(S==123)--x;else if(S==125&&x++==0&&o7()==125)continue}switch(O+=qv(S),S*x){case 38:v=u>0?1:(O+="\f",-1);break;case 44:l[d++]=(So(O)-1)*v,v=1;break;case 64:To()===45&&(O+=Lp(un())),p=To(),u=f=So(b=O+=l7(Np())),S++;break;case 45:g===45&&So(O)==2&&(x=0)}}return a}function xk(e,t,r,n,o,a,i,l,c,d,u){for(var f=o-1,p=o===0?a:[""],h=Jw(p),g=0,x=0,y=0;g<n;++g)for(var v=0,S=ud(e,f+1,f=JF(x=i[g])),b=e;v<h;++v)(b=YE(x>0?p[v]+" "+S:Ye(S,/&\f/g,p[v])))&&(c[y++]=b);return Vv(e,t,r,o===0?Gw:l,c,d,u)}function u7(e,t,r){return Vv(e,t,r,VE,qv(n7()),ud(e,2,-2),0)}function bk(e,t,r,n){return Vv(e,t,r,Xw,ud(e,0,n),ud(e,n+1,-1),n)}function El(e,t){for(var r="",n=Jw(e),o=0;o<n;o++)r+=t(e[o],o,e,t)||"";return r}function d7(e,t,r,n){switch(e.type){case XF:if(e.children.length)break;case GF:case Xw:return e.return=e.return||e.value;case VE:return"";case KE:return e.return=e.value+"{"+El(e.children,n)+"}";case Gw:e.value=e.props.join(",")}return So(r=El(e.children,n))?e.return=e.value+"{"+r+"}":""}function f7(e){var t=Jw(e);return function(r,n,o,a){for(var i="",l=0;l<t;l++)i+=e[l](r,n,o,a)||"";return i}}function p7(e){return function(t){t.root||(t=t.return)&&e(t)}}function JE(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var h7=function(t,r,n){for(var o=0,a=0;o=a,a=To(),o===38&&a===12&&(r[n]=1),!dd(a);)un();return Wd(t,Gr)},v7=function(t,r){var n=-1,o=44;do switch(dd(o)){case 0:o===38&&To()===12&&(r[n]=1),t[n]+=h7(Gr-1,r,n);break;case 2:t[n]+=Lp(o);break;case 4:if(o===44){t[++n]=To()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=qv(o)}while(o=un());return t},m7=function(t,r){return XE(v7(GE(t),r))},wk=new WeakMap,g7=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!wk.get(n))&&!o){wk.set(t,!0);for(var a=[],i=m7(r,a),l=n.props,c=0,d=0;c<i.length;c++)for(var u=0;u<l.length;u++,d++)t.props[d]=a[c]?i[c].replace(/&\f/g,l[u]):l[u]+" "+i[c]}}},y7=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function ZE(e,t){switch(e7(e,t)){case 5103:return Ke+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+e+Oh+e+fr+e+e;case 6828:case 4268:return Ke+e+fr+e+e;case 6165:return Ke+e+fr+"flex-"+e+e;case 5187:return Ke+e+Ye(e,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+fr+"flex-$1$2")+e;case 5443:return Ke+e+fr+"flex-item-"+Ye(e,/flex-|-self/,"")+e;case 4675:return Ke+e+fr+"flex-line-pack"+Ye(e,/align-content|flex-|-self/,"")+e;case 5548:return Ke+e+fr+Ye(e,"shrink","negative")+e;case 5292:return Ke+e+fr+Ye(e,"basis","preferred-size")+e;case 6060:return Ke+"box-"+Ye(e,"-grow","")+Ke+e+fr+Ye(e,"grow","positive")+e;case 4554:return Ke+Ye(e,/([^-])(transform)/g,"$1"+Ke+"$2")+e;case 6187:return Ye(Ye(Ye(e,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),e,"")+e;case 5495:case 3959:return Ye(e,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Ye(Ye(e,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+fr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+e+e;case 4095:case 3583:case 4068:case 2532:return Ye(e,/(.+)-inline(.+)/,Ke+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(So(e)-1-t>6)switch(sr(e,t+1)){case 109:if(sr(e,t+4)!==45)break;case 102:return Ye(e,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+Oh+(sr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ex(e,"stretch")?ZE(Ye(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(sr(e,t+1)!==115)break;case 6444:switch(sr(e,So(e)-3-(~Ex(e,"!important")&&10))){case 107:return Ye(e,":",":"+Ke)+e;case 101:return Ye(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ke+(sr(e,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+fr+"$2box$3")+e}break;case 5936:switch(sr(e,t+11)){case 114:return Ke+e+fr+Ye(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ke+e+fr+Ye(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ke+e+fr+Ye(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ke+e+fr+e+e}return e}var x7=function(t,r,n,o){if(t.length>-1&&!t.return)switch(t.type){case Xw:t.return=ZE(t.value,t.length);break;case KE:return El([Hc(t,{value:Ye(t.value,"@","@"+Ke)})],o);case Gw:if(t.length)return r7(t.props,function(a){switch(t7(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return El([Hc(t,{props:[Ye(a,/:(read-\w+)/,":"+Oh+"$1")]})],o);case"::placeholder":return El([Hc(t,{props:[Ye(a,/:(plac\w+)/,":"+Ke+"input-$1")]}),Hc(t,{props:[Ye(a,/:(plac\w+)/,":"+Oh+"$1")]}),Hc(t,{props:[Ye(a,/:(plac\w+)/,fr+"input-$1")]})],o)}return""})}},b7=[x7],w7=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var o=t.stylisPlugins||b7,a={},i,l=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),v=1;v<y.length;v++)a[y[v]]=!0;l.push(x)});var c,d=[g7,y7];{var u,f=[d7,p7(function(x){u.insert(x)})],p=f7(d.concat(o,f)),h=function(y){return El(c7(y),p)};c=function(y,v,S,b){u=S,h(y?y+"{"+v.styles+"}":v.styles),b&&(g.inserted[v.name]=!0)}}var g={key:r,sheet:new QF({key:r,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:c};return g.sheet.hydrate(l),g},S7=!0;function j7(e,t,r){var n="";return r.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(n+=o+" ")}),n}var e5=function(t,r,n){var o=t.key+"-"+r.name;(n===!1||S7===!1)&&t.registered[o]===void 0&&(t.registered[o]=r.styles)},k7=function(t,r,n){e5(t,r,n);var o=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var a=r;do t.insert(r===a?"."+o:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function C7(e){for(var t=0,r,n=0,o=e.length;o>=4;++n,o-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var P7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},A7=/[A-Z]|^ms/g,O7=/_EMO_([^_]+?)_([^]*?)_EMO_/g,t5=function(t){return t.charCodeAt(1)===45},Sk=function(t){return t!=null&&typeof t!="boolean"},_g=JE(function(e){return t5(e)?e:e.replace(A7,"-$&").toLowerCase()}),jk=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(O7,function(n,o,a){return jo={name:o,styles:a,next:jo},o})}return P7[t]!==1&&!t5(t)&&typeof r=="number"&&r!==0?r+"px":r};function fd(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var o=r;if(o.anim===1)return jo={name:o.name,styles:o.styles,next:jo},o.name;var a=r;if(a.styles!==void 0){var i=a.next;if(i!==void 0)for(;i!==void 0;)jo={name:i.name,styles:i.styles,next:jo},i=i.next;var l=a.styles+";";return l}return _7(e,t,r)}case"function":{if(e!==void 0){var c=jo,d=r(e);return jo=c,fd(e,t,d)}break}}var u=r;if(t==null)return u;var f=t[u];return f!==void 0?f:u}function _7(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=fd(e,t,r[o])+";";else for(var a in r){var i=r[a];if(typeof i!="object"){var l=i;t!=null&&t[l]!==void 0?n+=a+"{"+t[l]+"}":Sk(l)&&(n+=_g(a)+":"+jk(a,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&(t==null||t[i[0]]===void 0))for(var c=0;c<i.length;c++)Sk(i[c])&&(n+=_g(a)+":"+jk(a,i[c])+";");else{var d=fd(e,t,i);switch(a){case"animation":case"animationName":{n+=_g(a)+":"+d+";";break}default:n+=a+"{"+d+"}"}}}return n}var kk=/label:\s*([^\s;{]+)\s*(;|$)/g,jo;function E7(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,o="";jo=void 0;var a=e[0];if(a==null||a.raw===void 0)n=!1,o+=fd(r,t,a);else{var i=a;o+=i[0]}for(var l=1;l<e.length;l++)if(o+=fd(r,t,e[l]),n){var c=a;o+=c[l]}kk.lastIndex=0;for(var d="",u;(u=kk.exec(o))!==null;)d+="-"+u[1];var f=C7(o)+d;return{name:f,styles:o,next:jo}}var T7=function(t){return t()},M7=Kp.useInsertionEffect?Kp.useInsertionEffect:!1,$7=M7||T7,r5=m.createContext(typeof HTMLElement<"u"?w7({key:"css"}):null);r5.Provider;var z7=function(t){return m.forwardRef(function(r,n){var o=m.useContext(r5);return t(r,o,n)})},D7=m.createContext({}),I7=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,R7=JE(function(e){return I7.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),N7=R7,L7=function(t){return t!=="theme"},Ck=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?N7:L7},Pk=function(t,r,n){var o;if(r){var a=r.shouldForwardProp;o=t.__emotion_forwardProp&&a?function(i){return t.__emotion_forwardProp(i)&&a(i)}:a}return typeof o!="function"&&n&&(o=t.__emotion_forwardProp),o},F7=function(t){var r=t.cache,n=t.serialized,o=t.isStringTag;return e5(r,n,o),$7(function(){return k7(r,n,o)}),null},B7=function e(t,r){var n=t.__emotion_real===t,o=n&&t.__emotion_base||t,a,i;r!==void 0&&(a=r.label,i=r.target);var l=Pk(t,r,n),c=l||Ck(o),d=!c("as");return function(){var u=arguments,f=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&f.push("label:"+a+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{var p=u[0];f.push(p[0]);for(var h=u.length,g=1;g<h;g++)f.push(u[g],p[g])}var x=z7(function(y,v,S){var b=d&&y.as||o,j="",k=[],C=y;if(y.theme==null){C={};for(var O in y)C[O]=y[O];C.theme=m.useContext(D7)}typeof y.className=="string"?j=j7(v.registered,k,y.className):y.className!=null&&(j=y.className+" ");var D=E7(f.concat(k),v.registered,C);j+=v.key+"-"+D.name,i!==void 0&&(j+=" "+i);var I=d&&l===void 0?Ck(b):c,K={};for(var X in y)d&&X==="as"||I(X)&&(K[X]=y[X]);return K.className=j,S&&(K.ref=S),m.createElement(m.Fragment,null,m.createElement(F7,{cache:v,serialized:D,isStringTag:typeof b=="string"}),m.createElement(b,K))});return x.displayName=a!==void 0?a:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=o,x.__emotion_styles=f,x.__emotion_forwardProp=l,Object.defineProperty(x,"toString",{value:function(){return"."+i}}),x.withComponent=function(y,v){var S=e(y,_x({},r,v,{shouldForwardProp:Pk(x,v,!0)}));return S.apply(void 0,f)},x}},U7=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],w=B7.bind(null);U7.forEach(function(e){w[e]=w(e)});const W7=w.div`
  min-height: 100vh;
  min-height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-background);
  padding: var(--space-4);
  position: relative;
  overflow: hidden;

  /* Architectural grid background */
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      linear-gradient(rgba(0,0,0,0.015) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,0,0,0.015) 1px, transparent 1px);
    background-size: var(--space-7) var(--space-7);
    pointer-events: none;
    z-index: 0;
  }

  @media (max-width: 768px) {
    padding: var(--space-3);
  }
`,q7=w.div`
  background-color: white;
  padding: var(--space-6);
  border-radius: var(--radius-none);
  border: 2px solid var(--color-border);
  box-shadow: var(--shadow-structure);
  width: 100%;
  max-width: 450px;
  position: relative;
  z-index: 1;
  
  /* Removed excessive corner details */

  @media (max-width: 768px) {
    padding: var(--space-7);
    max-width: 100%;
    margin: 0 auto;
    
    &::before,
    &::after {
      width: 16px;
      height: 16px;
    }
  }

  @media (max-width: 480px) {
    padding: var(--space-6);
  }
  
  @media (max-width: 400px) {
    padding: var(--space-5);
    max-width: calc(100vw - var(--space-6));
  }
`,H7=w.div`
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: var(--space-5);
  position: relative;

  @media (max-width: 768px) {
    margin-bottom: var(--space-3);
  }
`,V7=w.div`
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: var(--space-3);
  position: relative;
  overflow: hidden;
  
  img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  @media (max-width: 768px) {
    width: 72px;
    height: 72px;
    margin-bottom: var(--space-2);
  }
`,K7=w.h1`
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-thin);
  text-align: center;
  margin-bottom: var(--space-2);
  color: var(--color-accent);
  letter-spacing: -0.025em;
  line-height: var(--line-height-compressed);
  position: relative;
  
  /* Removed excessive underline accent */

  @media (max-width: 768px) {
    font-size: 2rem;
    font-weight: var(--font-weight-regular);
    
    &::after {
      width: 60px;
    }
  }

  @media (max-width: 480px) {
    font-size: 1.75rem;
    font-weight: var(--font-weight-regular);
    
    &::after {
      width: 50px;
    }
  }
`,Y7=w.p`
  text-align: center;
  color: var(--color-text-secondary);
  font-size: var(--font-size-body);
  margin-bottom: var(--space-5);
  line-height: var(--line-height-comfortable);
  font-weight: var(--font-weight-regular);

  @media (max-width: 768px) {
    font-size: var(--font-size-body);
    margin-bottom: var(--space-6);
  }
`,Q7=w.form`
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
`,Ak=w.div`
  position: relative;
  display: flex;
  flex-direction: column;
`,Ok=w.label`
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  margin-bottom: var(--space-2);
  transition: color 0.2s ease;
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,_k=w.div`
  position: relative;
`,G7=w.button`
  position: absolute;
  right: var(--space-4);
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: var(--color-text-secondary);
  cursor: pointer;
  padding: var(--space-2);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: color 0.2s ease;
  -webkit-tap-highlight-color: transparent;

  &:hover {
    color: var(--color-accent);
  }

  &:focus {
    outline: none;
    color: var(--color-accent);
  }

  svg {
    width: 20px;
    height: 20px;
  }
`,Ek=w.input`
  width: 100%;
  padding: var(--space-5) var(--space-5);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-body);
  background-color: var(--color-background);
  transition: all 0.2s ease-in-out;
  color: var(--color-text-primary);
  font-family: inherit;
  font-weight: var(--font-weight-regular);
  -webkit-appearance: none;
  -webkit-tap-highlight-color: transparent;
  position: relative;
  height: 52px;

  /* オートフィル時の背景色を白に固定 */
  &:-webkit-autofill,
  &:-webkit-autofill:hover,
  &:-webkit-autofill:focus,
  &:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px white inset !important;
    -webkit-text-fill-color: var(--color-text-primary) !important;
    background-color: var(--color-background) !important;
  }

  &::placeholder {
    color: var(--color-text-tertiary);
    transition: opacity 0.2s ease;
  }

  &:focus {
    outline: none;
    border-color: var(--color-accent);
    background-color: var(--color-background);
    box-shadow: var(--shadow-focused);
    
    &::placeholder {
      opacity: 0.6;
    }
  }

  &:disabled {
    background-color: var(--color-surface-alt);
    cursor: not-allowed;
    opacity: 0.7;
  }

  @media (max-width: 768px) {
    padding: var(--space-5) var(--space-4);
    height: 48px;
  }
`,Tk=w.div`
  color: var(--color-error);
  font-size: var(--font-size-small);
  margin-top: var(--space-2);
  font-weight: var(--font-weight-medium);
  line-height: var(--line-height-standard);
`,X7=w.button`
  background-color: var(--color-accent);
  color: var(--color-text-inverse);
  padding: var(--space-5) var(--space-6);
  border: 2px solid var(--color-accent);
  border-radius: var(--radius-none);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  margin-top: var(--space-3);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  position: relative;
  box-shadow: var(--shadow-elevation);
  -webkit-tap-highlight-color: transparent;

  &:hover:not(:disabled) {
    background-color: var(--color-accent-hover);
    border-color: var(--color-accent-hover);
    transform: translateY(-1px);
    box-shadow: var(--shadow-structure);
  }

  &:active:not(:disabled) {
    transform: translateY(0);
  }

  &:disabled {
    background-color: var(--color-text-tertiary);
    border-color: var(--color-text-tertiary);
    cursor: not-allowed;
    transform: none;
    box-shadow: var(--shadow-paper);
  }
  
  /* Removed excessive corner accent */

  @media (max-width: 768px) {
    padding: var(--space-5) var(--space-5);
    font-size: var(--font-size-small);
  }
`,J7=w.div`
  margin-top: var(--space-5);
  padding: var(--space-4);
  background-color: var(--color-accent-light);
  border-radius: var(--radius-none);
  border: 2px solid var(--color-accent);
  border-left: 6px solid var(--color-accent);
  position: relative;
  
  /* Removed excessive corner detail */

  @media (max-width: 768px) {
    margin-top: var(--space-6);
    padding: var(--space-4);
  }
`,Z7=w.h3`
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  color: var(--color-accent);
  margin-bottom: var(--space-3);
  text-transform: uppercase;
  letter-spacing: 0.08em;

  @media (max-width: 768px) {
    font-size: var(--font-size-micro);
  }
`,Mk=w.div`
  font-size: var(--font-size-small);
  color: var(--color-text-primary);
  margin-bottom: var(--space-2);
  padding: var(--space-3) var(--space-4);
  background-color: var(--color-background);
  border-radius: var(--radius-none);
  font-family: 'JetBrains Mono', 'SF Mono', 'Monaco', 'Consolas', monospace;
  font-weight: var(--font-weight-medium);
  transition: all 0.2s ease;
  cursor: pointer;
  user-select: all;
  border: 1px solid var(--color-border);
  position: relative;
  word-break: break-all;

  &:hover {
    background-color: var(--color-surface);
    border-color: var(--color-accent);
    transform: translateY(-1px);
  }
  
  /* Removed excessive corner accent */

  &:last-child {
    margin-bottom: 0;
  }

  @media (max-width: 768px) {
    font-size: var(--font-size-micro);
    padding: var(--space-3) var(--space-3);
  }
  
  @media (max-width: 400px) {
    font-size: 11px;
    padding: var(--space-2) var(--space-3);
  }
`,eB=w.div`
  height: 1px;
  background: var(--color-border);
  margin: var(--space-6) 0;
  position: relative;
  
  /* Removed excessive accent elements */

  @media (max-width: 768px) {
    margin: var(--space-5) 0;
  }
`,tB=w.div`
  text-align: center;
  font-size: var(--font-size-body);
  color: var(--color-text-secondary);
  line-height: var(--line-height-standard);

  @media (max-width: 768px) {
    font-size: var(--font-size-small);
  }
`,rB=w.button`
  color: var(--color-accent);
  text-decoration: none;
  font-weight: var(--font-weight-medium);
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  font-size: inherit;
  transition: all 0.2s ease;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  position: relative;
  -webkit-tap-highlight-color: transparent;

  &:hover {
    color: var(--color-accent-hover);
    
    &::after {
      width: 100%;
    }
  }
  
  /* Simplified underline - only on hover */
  &::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 1px;
    background-color: var(--color-accent-hover);
    transition: width 0.2s ease;
  }

  &:active {
    transform: translateY(1px);
  }
`,nB=()=>{const e=Kt(),{login:t}=oo(),{register:r,handleSubmit:n,formState:{errors:o,isSubmitting:a}}=HE(),[i,l]=Le.useState(!1),[c,d]=Le.useState(!1),u=async p=>{try{console.log("Attempting login with:",p.email);const h=await t(p.email,p.password);console.log("Login result:",h),h.success?(console.log("Login successful, navigating to home..."),e("/",{replace:!0})):(console.error("Login failed:",h.error),h.isAuthError&&(l(!0),setTimeout(()=>l(!1),5e3)))}catch(h){console.error("Login error caught:",h)}},f=()=>{e("/register")};return s.jsx(W7,{children:s.jsxs(q7,{children:[s.jsx(H7,{children:s.jsx(V7,{children:s.jsx("img",{src:"/logo.png",alt:"にっぽ係長"})})}),s.jsx(K7,{children:"にっぽ係長"}),s.jsx(Y7,{children:"営業日報をAIでスマートに管理"}),s.jsxs(Q7,{onSubmit:n(u),noValidate:!0,children:[s.jsxs(Ak,{children:[s.jsx(Ok,{htmlFor:"email",children:"メールアドレス"}),s.jsx(_k,{children:s.jsx(Ek,{id:"email",type:"email",placeholder:"your.email@example.com",...r("email",{required:"メールアドレスを入力してください",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"有効なメールアドレスを入力してください"}}),disabled:a})}),o.email&&s.jsx(Tk,{children:o.email.message})]}),s.jsxs(Ak,{children:[s.jsx(Ok,{htmlFor:"password",children:"パスワード"}),s.jsxs(_k,{children:[s.jsx(Ek,{id:"password",type:c?"text":"password",placeholder:"パスワードを入力",...r("password",{required:"パスワードを入力してください",minLength:{value:6,message:"パスワードは6文字以上である必要があります"}}),disabled:a,style:{paddingRight:"calc(var(--space-5) + 40px)"}}),s.jsx(G7,{type:"button",onClick:()=>d(!c),tabIndex:-1,"aria-label":c?"パスワードを隠す":"パスワードを表示",children:c?s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),s.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),o.password&&s.jsx(Tk,{children:o.password.message})]}),s.jsx(X7,{type:"submit",disabled:a,children:a?"ログイン中...":"ログイン"})]}),i&&s.jsxs("div",{style:{marginTop:"var(--space-5)",padding:"var(--space-5)",backgroundColor:"var(--color-accent-light)",border:"2px solid var(--color-accent)",borderLeft:"6px solid var(--color-accent)",borderRadius:"var(--radius-none)",textAlign:"center",animation:"fadeIn 0.3s ease-in",position:"relative"},children:[s.jsx("style",{children:`
                @keyframes fadeIn {
                  from { opacity: 0; transform: translateY(-10px); }
                  to { opacity: 1; transform: translateY(0); }
                }
              `}),s.jsx("div",{style:{content:'""',position:"absolute",top:"-2px",right:"-2px",width:"10px",height:"10px",borderTop:"2px solid var(--color-accent)",borderRight:"2px solid var(--color-accent)"}}),s.jsx("p",{style:{color:"var(--color-accent)",fontSize:"var(--font-size-small)",marginBottom:"var(--space-2)",fontWeight:"var(--font-weight-bold)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"アカウントが見つかりませんでした"}),s.jsx("p",{style:{color:"var(--color-text-secondary)",fontSize:"var(--font-size-small)",marginBottom:"var(--space-4)",lineHeight:"var(--line-height-standard)"},children:"新規登録してにっぽ係長を始めましょう！"}),s.jsx("button",{onClick:f,style:{backgroundColor:"var(--color-accent)",color:"var(--color-text-inverse)",padding:"var(--space-3) var(--space-5)",borderRadius:"var(--radius-none)",border:"2px solid var(--color-accent)",fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-bold)",cursor:"pointer",transition:"all 0.2s ease-in-out",boxShadow:"var(--shadow-elevation)",textTransform:"uppercase",letterSpacing:"0.05em"},onMouseOver:p=>{p.target.style.backgroundColor="var(--color-accent)",p.target.style.borderColor="var(--color-accent)",p.target.style.transform="translateY(-1px)",p.target.style.boxShadow="var(--shadow-structure)"},onMouseOut:p=>{p.target.style.backgroundColor="var(--color-accent)",p.target.style.borderColor="var(--color-accent)",p.target.style.transform="translateY(0)",p.target.style.boxShadow="var(--shadow-elevation)"},children:"新規登録ページへ →"})]}),s.jsxs(J7,{children:[s.jsx(Z7,{children:"デモアカウント"}),s.jsx(Mk,{children:"マネージャー: yamada@example.com / password123"}),s.jsx(Mk,{children:"営業担当者: tanaka@example.com / password123"})]}),s.jsx(eB,{}),s.jsxs(tB,{children:["アカウントをお持ちでない方は"," ",s.jsx(rB,{onClick:f,children:"新規登録"})]})]})})},Ur={getAll:async(e=null,t=100)=>{var r,n;console.log("[tagAPI.getAll] Called with category:",e,"limit:",t);try{const o=new URLSearchParams;e&&o.append("category",e),o.append("limit",t);const a=`/api/tags?${o.toString()}`;console.log("[tagAPI.getAll] Requesting:",a);const i=await he.get(a);return console.log("[tagAPI.getAll] Response:",i.data),i.data.tags||[]}catch(o){return console.error("[tagAPI.getAll] Error fetching all tags:",o),console.error("[tagAPI.getAll] Error details:",{message:o.message,response:(r=o.response)==null?void 0:r.data,status:(n=o.response)==null?void 0:n.status}),[]}},getPopular:async(e=20)=>{var t,r;console.log("[tagAPI.getPopular] Called with limit:",e);try{const n=`/api/tags/popular?limit=${e}`;console.log("[tagAPI.getPopular] Requesting:",n);const o=await he.get(n);return console.log("[tagAPI.getPopular] Response:",o.data),o.data.tags||[]}catch(n){return console.error("[tagAPI.getPopular] Error fetching popular tags:",n),console.error("[tagAPI.getPopular] Error details:",{message:n.message,response:(t=n.response)==null?void 0:t.data,status:(r=n.response)==null?void 0:r.status}),[]}},getByReportId:async e=>{try{return(await he.get(`/api/tags/report/${e}`)).data.tags||[]}catch(t){return console.error("Error fetching report tags:",t),[]}},searchReports:async(e,t=null)=>{const r=new URLSearchParams;return r.append("tagIds",Array.isArray(e)?e.join(","):e),t&&r.append("userId",t),(await he.get(`/api/tags/search?${r.toString()}`)).data.reports},addToReport:async(e,t)=>{console.log("[tagAPI.addToReport] Adding tag:",{reportId:e,tagId:t});try{const r=await he.post(`/api/reports/${e}/tags`,{tagId:t});return console.log("[tagAPI.addToReport] Response:",r.data),r.data}catch(r){throw console.error("[tagAPI.addToReport] Error:",r),r}},removeFromReport:async(e,t)=>{console.log("[tagAPI.removeFromReport] Removing tag:",{reportId:e,tagId:t});try{const r=await he.delete(`/api/reports/${e}/tags/${t}`);return console.log("[tagAPI.removeFromReport] Response:",r.data),r.data}catch(r){throw console.error("[tagAPI.removeFromReport] Error:",r),r}},getStats:async(e=30)=>(await he.get(`/api/tags/stats?period=${e}`)).data.stats,createTag:async e=>{var t,r;console.log("[tagAPI.createTag] Creating tag:",e);try{const n=await he.post("/api/tags",e);return console.log("[tagAPI.createTag] Response:",n.data),n.data}catch(n){throw console.error("[tagAPI.createTag] Error creating tag:",n),console.error("[tagAPI.createTag] Error details:",{message:n.message,response:(t=n.response)==null?void 0:t.data,status:(r=n.response)==null?void 0:r.status}),n}},updateTag:async(e,t)=>(await he.put(`/api/tags/${e}`,t)).data,deleteTag:async e=>(await he.delete(`/api/tags/${e}`)).data,mergeTags:async(e,t)=>(await he.post("/api/tags/merge",{sourceTagIds:e,targetTagId:t})).data};function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function $o(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function jt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function br(e){jt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||_h(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function oB(e,t){jt(2,arguments);var r=br(e),n=$o(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var o=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var i=a.getDate();return o>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),o),r)}function aB(e,t){jt(2,arguments);var r=br(e).getTime(),n=$o(t);return new Date(r+n)}var iB={};function Kv(){return iB}function Mx(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Eh(e){jt(1,arguments);var t=br(e);return t.setHours(0,0,0,0),t}var sB=864e5;function lB(e,t){jt(2,arguments);var r=Eh(e),n=Eh(t),o=r.getTime()-Mx(r),a=n.getTime()-Mx(n);return Math.round((o-a)/sB)}var n5=6e4,o5=36e5;function cB(e){return jt(1,arguments),e instanceof Date||_h(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function uB(e){if(jt(1,arguments),!cB(e)&&typeof e!="number")return!1;var t=br(e);return!isNaN(Number(t))}function $k(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function zk(e,t){jt(2,arguments);var r=br(e),n=br(t),o=$k(r,n),a=Math.abs(lB(r,n));r.setDate(r.getDate()-o*a);var i=+($k(r,n)===-o),l=o*(a-i);return l===0?0:l}function Ef(e){jt(1,arguments);var t=br(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Tf(e){jt(1,arguments);var t=br(e);return t.setDate(1),t.setHours(0,0,0,0),t}function dB(e,t){jt(2,arguments);var r=$o(t);return aB(e,-r)}var fB=864e5;function pB(e){jt(1,arguments);var t=br(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),o=r-n;return Math.floor(o/fB)+1}function Th(e){jt(1,arguments);var t=1,r=br(e),n=r.getUTCDay(),o=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-o),r.setUTCHours(0,0,0,0),r}function a5(e){jt(1,arguments);var t=br(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var o=Th(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var i=Th(a);return t.getTime()>=o.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function hB(e){jt(1,arguments);var t=a5(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Th(r);return n}var vB=6048e5;function mB(e){jt(1,arguments);var t=br(e),r=Th(t).getTime()-hB(t).getTime();return Math.round(r/vB)+1}function Mh(e,t){var r,n,o,a,i,l,c,d;jt(1,arguments);var u=Kv(),f=$o((r=(n=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=br(e),h=p.getUTCDay(),g=(h<f?7:0)+h-f;return p.setUTCDate(p.getUTCDate()-g),p.setUTCHours(0,0,0,0),p}function i5(e,t){var r,n,o,a,i,l,c,d;jt(1,arguments);var u=br(e),f=u.getUTCFullYear(),p=Kv(),h=$o((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&n!==void 0?n:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,h),g.setUTCHours(0,0,0,0);var x=Mh(g,t),y=new Date(0);y.setUTCFullYear(f,0,h),y.setUTCHours(0,0,0,0);var v=Mh(y,t);return u.getTime()>=x.getTime()?f+1:u.getTime()>=v.getTime()?f:f-1}function gB(e,t){var r,n,o,a,i,l,c,d;jt(1,arguments);var u=Kv(),f=$o((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&o!==void 0?o:u.firstWeekContainsDate)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1),p=i5(e,t),h=new Date(0);h.setUTCFullYear(p,0,f),h.setUTCHours(0,0,0,0);var g=Mh(h,t);return g}var yB=6048e5;function xB(e,t){jt(1,arguments);var r=br(e),n=Mh(r,t).getTime()-gB(r,t).getTime();return Math.round(n/yB)+1}function Je(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Ca={y:function(t,r){var n=t.getUTCFullYear(),o=n>0?n:1-n;return Je(r==="yy"?o%100:o,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Je(n+1,2)},d:function(t,r){return Je(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Je(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Je(t.getUTCHours(),r.length)},m:function(t,r){return Je(t.getUTCMinutes(),r.length)},s:function(t,r){return Je(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,o=t.getUTCMilliseconds(),a=Math.floor(o*Math.pow(10,n-3));return Je(a,r.length)}},Vs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bB={G:function(t,r,n){var o=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var o=t.getUTCFullYear(),a=o>0?o:1-o;return n.ordinalNumber(a,{unit:"year"})}return Ca.y(t,r)},Y:function(t,r,n,o){var a=i5(t,o),i=a>0?a:1-a;if(r==="YY"){var l=i%100;return Je(l,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):Je(i,r.length)},R:function(t,r){var n=a5(t);return Je(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Je(n,r.length)},Q:function(t,r,n){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return Je(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,r,n){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return Je(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,r,n){var o=t.getUTCMonth();switch(r){case"M":case"MM":return Ca.M(t,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(t,r,n){var o=t.getUTCMonth();switch(r){case"L":return String(o+1);case"LL":return Je(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(t,r,n,o){var a=xB(t,o);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Je(a,r.length)},I:function(t,r,n){var o=mB(t);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):Je(o,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ca.d(t,r)},D:function(t,r,n){var o=pB(t);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):Je(o,r.length)},E:function(t,r,n){var o=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(t,r,n,o){var a=t.getUTCDay(),i=(a-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return Je(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,o){var a=t.getUTCDay(),i=(a-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return Je(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){var o=t.getUTCDay(),a=o===0?7:o;switch(r){case"i":return String(a);case"ii":return Je(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(t,r,n){var o=t.getUTCHours(),a=o/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){var o=t.getUTCHours(),a;switch(o===12?a=Vs.noon:o===0?a=Vs.midnight:a=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){var o=t.getUTCHours(),a;switch(o>=17?a=Vs.evening:o>=12?a=Vs.afternoon:o>=4?a=Vs.morning:a=Vs.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return Ca.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ca.H(t,r)},K:function(t,r,n){var o=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):Je(o,r.length)},k:function(t,r,n){var o=t.getUTCHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):Je(o,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ca.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ca.s(t,r)},S:function(t,r){return Ca.S(t,r)},X:function(t,r,n,o){var a=o._originalDate||t,i=a.getTimezoneOffset();if(i===0)return"Z";switch(r){case"X":return Ik(i);case"XXXX":case"XX":return Vi(i);case"XXXXX":case"XXX":default:return Vi(i,":")}},x:function(t,r,n,o){var a=o._originalDate||t,i=a.getTimezoneOffset();switch(r){case"x":return Ik(i);case"xxxx":case"xx":return Vi(i);case"xxxxx":case"xxx":default:return Vi(i,":")}},O:function(t,r,n,o){var a=o._originalDate||t,i=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Dk(i,":");case"OOOO":default:return"GMT"+Vi(i,":")}},z:function(t,r,n,o){var a=o._originalDate||t,i=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Dk(i,":");case"zzzz":default:return"GMT"+Vi(i,":")}},t:function(t,r,n,o){var a=o._originalDate||t,i=Math.floor(a.getTime()/1e3);return Je(i,r.length)},T:function(t,r,n,o){var a=o._originalDate||t,i=a.getTime();return Je(i,r.length)}};function Dk(e,t){var r=e>0?"-":"+",n=Math.abs(e),o=Math.floor(n/60),a=n%60;if(a===0)return r+String(o);var i=t;return r+String(o)+i+Je(a,2)}function Ik(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Je(Math.abs(e)/60,2)}return Vi(e,t)}function Vi(e,t){var r=t||"",n=e>0?"-":"+",o=Math.abs(e),a=Je(Math.floor(o/60),2),i=Je(o%60,2);return n+a+r+i}var Rk=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},s5=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},wB=function(t,r){var n=t.match(/(P+)(p+)?/)||[],o=n[1],a=n[2];if(!a)return Rk(t,r);var i;switch(o){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",Rk(o,r)).replace("{{time}}",s5(a,r))},SB={p:s5,P:wB},jB=["D","DD"],kB=["YY","YYYY"];function CB(e){return jB.indexOf(e)!==-1}function PB(e){return kB.indexOf(e)!==-1}function Nk(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var AB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OB=function(t,r,n){var o,a=AB[t];return typeof a=="string"?o=a:r===1?o=a.one:o=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function Tl(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var _B={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},MB={date:Tl({formats:_B,defaultWidth:"full"}),time:Tl({formats:EB,defaultWidth:"full"}),dateTime:Tl({formats:TB,defaultWidth:"full"})},$B={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zB=function(t,r,n,o){return $B[t]};function Co(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",o;if(n==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,i=r!=null&&r.width?String(r.width):a;o=e.formattingValues[i]||e.formattingValues[a]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return o[d]}}var DB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},LB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},BB=function(t,r){var n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},UB={ordinalNumber:BB,era:Co({values:DB,defaultWidth:"wide"}),quarter:Co({values:IB,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Co({values:RB,defaultWidth:"wide"}),day:Co({values:NB,defaultWidth:"wide"}),dayPeriod:Co({values:LB,defaultWidth:"wide",formattingValues:FB,defaultFormattingWidth:"wide"})};function Po(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;var i=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?qB(l,function(f){return f.test(i)}):WB(l,function(f){return f.test(i)}),d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;var u=t.slice(i.length);return{value:d,rest:u}}}function WB(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function qB(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function l5(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var o=n[0],a=t.match(e.parsePattern);if(!a)return null;var i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;var l=t.slice(o.length);return{value:i,rest:l}}}var HB=/^(\d+)(th|st|nd|rd)?/i,VB=/\d+/i,KB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YB={any:[/^b/i,/^(a|c)/i]},QB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GB={any:[/1/i,/2/i,/3/i,/4/i]},XB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},e9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},t9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},r9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},n9={ordinalNumber:l5({matchPattern:HB,parsePattern:VB,valueCallback:function(t){return parseInt(t,10)}}),era:Po({matchPatterns:KB,defaultMatchWidth:"wide",parsePatterns:YB,defaultParseWidth:"any"}),quarter:Po({matchPatterns:QB,defaultMatchWidth:"wide",parsePatterns:GB,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Po({matchPatterns:XB,defaultMatchWidth:"wide",parsePatterns:JB,defaultParseWidth:"any"}),day:Po({matchPatterns:ZB,defaultMatchWidth:"wide",parsePatterns:e9,defaultParseWidth:"any"}),dayPeriod:Po({matchPatterns:t9,defaultMatchWidth:"any",parsePatterns:r9,defaultParseWidth:"any"})},o9={code:"en-US",formatDistance:OB,formatLong:MB,formatRelative:zB,localize:UB,match:n9,options:{weekStartsOn:0,firstWeekContainsDate:1}},a9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,s9=/^'([^]*?)'?$/,l9=/''/g,c9=/[a-zA-Z]/;function rn(e,t,r){var n,o,a,i,l,c,d,u,f,p,h,g,x,y,v,S,b,j;jt(2,arguments);var k=String(t),C=Kv(),O=(n=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:C.locale)!==null&&n!==void 0?n:o9,D=$o((a=(i=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(d=r.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&i!==void 0?i:(f=C.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=$o((h=(g=(x=(y=r==null?void 0:r.weekStartsOn)!==null&&y!==void 0?y:r==null||(v=r.locale)===null||v===void 0||(S=v.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&x!==void 0?x:C.weekStartsOn)!==null&&g!==void 0?g:(b=C.locale)===null||b===void 0||(j=b.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&h!==void 0?h:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!O.localize)throw new RangeError("locale must contain localize property");if(!O.formatLong)throw new RangeError("locale must contain formatLong property");var K=br(e);if(!uB(K))throw new RangeError("Invalid time value");var X=Mx(K),H=dB(K,X),T={firstWeekContainsDate:D,weekStartsOn:I,locale:O,_originalDate:K},R=k.match(i9).map(function(G){var Q=G[0];if(Q==="p"||Q==="P"){var se=SB[Q];return se(G,O.formatLong)}return G}).join("").match(a9).map(function(G){if(G==="''")return"'";var Q=G[0];if(Q==="'")return u9(G);var se=bB[Q];if(se)return!(r!=null&&r.useAdditionalWeekYearTokens)&&PB(G)&&Nk(G,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&CB(G)&&Nk(G,t,String(e)),se(H,G,O.localize,T);if(Q.match(c9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return G}).join("");return R}function u9(e){var t=e.match(s9);return t?t[1].replace(l9,"'"):e}function Ks(e,t){var r;jt(1,arguments);var n=$o((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=h9(e),a;if(o.date){var i=v9(o.date,n);a=m9(i.restDateString,i.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var l=a.getTime(),c=0,d;if(o.time&&(c=g9(o.time),isNaN(c)))return new Date(NaN);if(o.timezone){if(d=y9(o.timezone),isNaN(d))return new Date(NaN)}else{var u=new Date(l+c),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(l+c+d)}var Mf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},d9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,f9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,p9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function h9(e){var t={},r=e.split(Mf.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Mf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Mf.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var o=Mf.timezone.exec(n);o?(t.time=n.replace(o[1],""),t.timezone=o[1]):t.time=n}return t}function v9(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var o=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?o:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function m9(e,t){if(t===null)return new Date(NaN);var r=e.match(d9);if(!r)return new Date(NaN);var n=!!r[4],o=Vc(r[1]),a=Vc(r[2])-1,i=Vc(r[3]),l=Vc(r[4]),c=Vc(r[5])-1;if(n)return j9(t,l,c)?x9(t,l,c):new Date(NaN);var d=new Date(0);return!w9(t,a,i)||!S9(t,o)?new Date(NaN):(d.setUTCFullYear(t,a,Math.max(o,i)),d)}function Vc(e){return e?parseInt(e):1}function g9(e){var t=e.match(f9);if(!t)return NaN;var r=Eg(t[1]),n=Eg(t[2]),o=Eg(t[3]);return k9(r,n,o)?r*o5+n*n5+o*1e3:NaN}function Eg(e){return e&&parseFloat(e.replace(",","."))||0}function y9(e){if(e==="Z")return 0;var t=e.match(p9);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return C9(n,o)?r*(n*o5+o*n5):NaN}function x9(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var o=n.getUTCDay()||7,a=(t-1)*7+r+1-o;return n.setUTCDate(n.getUTCDate()+a),n}var b9=[31,null,31,30,31,30,31,31,30,31,30,31];function c5(e){return e%400===0||e%4===0&&e%100!==0}function w9(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(b9[t]||(c5(e)?29:28))}function S9(e,t){return t>=1&&t<=(c5(e)?366:365)}function j9(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function k9(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function C9(e,t){return t>=0&&t<=59}function Lk(e,t){jt(2,arguments);var r=$o(t);return oB(e,-r)}var P9={lessThanXSeconds:{one:"1秒未満",other:"{{count}}秒未満",oneWithSuffix:"約1秒",otherWithSuffix:"約{{count}}秒"},xSeconds:{one:"1秒",other:"{{count}}秒"},halfAMinute:"30秒",lessThanXMinutes:{one:"1分未満",other:"{{count}}分未満",oneWithSuffix:"約1分",otherWithSuffix:"約{{count}}分"},xMinutes:{one:"1分",other:"{{count}}分"},aboutXHours:{one:"約1時間",other:"約{{count}}時間"},xHours:{one:"1時間",other:"{{count}}時間"},xDays:{one:"1日",other:"{{count}}日"},aboutXWeeks:{one:"約1週間",other:"約{{count}}週間"},xWeeks:{one:"1週間",other:"{{count}}週間"},aboutXMonths:{one:"約1か月",other:"約{{count}}か月"},xMonths:{one:"1か月",other:"{{count}}か月"},aboutXYears:{one:"約1年",other:"約{{count}}年"},xYears:{one:"1年",other:"{{count}}年"},overXYears:{one:"1年以上",other:"{{count}}年以上"},almostXYears:{one:"1年近く",other:"{{count}}年近く"}},A9=function(t,r,n){n=n||{};var o,a=P9[t];return typeof a=="string"?o=a:r===1?n.addSuffix&&a.oneWithSuffix?o=a.oneWithSuffix:o=a.one:n.addSuffix&&a.otherWithSuffix?o=a.otherWithSuffix.replace("{{count}}",String(r)):o=a.other.replace("{{count}}",String(r)),n.addSuffix?n.comparison&&n.comparison>0?o+"後":o+"前":o},O9={full:"y年M月d日EEEE",long:"y年M月d日",medium:"y/MM/dd",short:"y/MM/dd"},_9={full:"H時mm分ss秒 zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},E9={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},T9={date:Tl({formats:O9,defaultWidth:"full"}),time:Tl({formats:_9,defaultWidth:"full"}),dateTime:Tl({formats:E9,defaultWidth:"full"})},M9={lastWeek:"先週のeeeeのp",yesterday:"昨日のp",today:"今日のp",tomorrow:"明日のp",nextWeek:"翌週のeeeeのp",other:"P"},$9=function(t,r,n,o){return M9[t]},z9={narrow:["BC","AC"],abbreviated:["紀元前","西暦"],wide:["紀元前","西暦"]},D9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["第1四半期","第2四半期","第3四半期","第4四半期"]},I9={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},R9={narrow:["日","月","火","水","木","金","土"],short:["日","月","火","水","木","金","土"],abbreviated:["日","月","火","水","木","金","土"],wide:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},N9={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},L9={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},F9=function(t,r){var n=Number(t),o=String(r==null?void 0:r.unit);switch(o){case"year":return"".concat(n,"年");case"quarter":return"第".concat(n,"四半期");case"month":return"".concat(n,"月");case"week":return"第".concat(n,"週");case"date":return"".concat(n,"日");case"hour":return"".concat(n,"時");case"minute":return"".concat(n,"分");case"second":return"".concat(n,"秒");default:return"".concat(n)}},B9={ordinalNumber:F9,era:Co({values:z9,defaultWidth:"wide"}),quarter:Co({values:D9,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:Co({values:I9,defaultWidth:"wide"}),day:Co({values:R9,defaultWidth:"wide"}),dayPeriod:Co({values:N9,defaultWidth:"wide",formattingValues:L9,defaultFormattingWidth:"wide"})},U9=/^第?\d+(年|四半期|月|週|日|時|分|秒)?/i,W9=/\d+/i,q9={narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^(紀元[前後]|西暦)/i,wide:/^(紀元[前後]|西暦)/i},H9={narrow:[/^B/i,/^A/i],any:[/^(紀元前)/i,/^(西暦|紀元後)/i]},V9={narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^第[1234一二三四１２３４]四半期/i},K9={any:[/(1|一|１)/i,/(2|二|２)/i,/(3|三|３)/i,/(4|四|４)/i]},Y9={narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])月/i,wide:/^([123456789]|1[012])月/i},Q9={any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},G9={narrow:/^[日月火水木金土]/,short:/^[日月火水木金土]/,abbreviated:/^[日月火水木金土]/,wide:/^[日月火水木金土]曜日/},X9={any:[/^日/,/^月/,/^火/,/^水/,/^木/,/^金/,/^土/]},J9={any:/^(AM|PM|午前|午後|正午|深夜|真夜中|夜|朝)/i},Z9={any:{am:/^(A|午前)/i,pm:/^(P|午後)/i,midnight:/^深夜|真夜中/i,noon:/^正午/i,morning:/^朝/i,afternoon:/^午後/i,evening:/^夜/i,night:/^深夜/i}},eU={ordinalNumber:l5({matchPattern:U9,parsePattern:W9,valueCallback:function(t){return parseInt(t,10)}}),era:Po({matchPatterns:q9,defaultMatchWidth:"wide",parsePatterns:H9,defaultParseWidth:"any"}),quarter:Po({matchPatterns:V9,defaultMatchWidth:"wide",parsePatterns:K9,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Po({matchPatterns:Y9,defaultMatchWidth:"wide",parsePatterns:Q9,defaultParseWidth:"any"}),day:Po({matchPatterns:G9,defaultMatchWidth:"wide",parsePatterns:X9,defaultParseWidth:"any"}),dayPeriod:Po({matchPatterns:J9,defaultMatchWidth:"any",parsePatterns:Z9,defaultParseWidth:"any"})},Vo={code:"ja",formatDistance:A9,formatLong:T9,formatRelative:$9,localize:B9,match:eU,options:{weekStartsOn:0,firstWeekContainsDate:1}};const tU=w.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  padding: var(--space-4);
  
  @media (max-width: 768px) {
    padding: var(--space-2);
  }
  
  @media (max-width: 480px) {
    padding: 0;
    padding-top: 88px;
    align-items: flex-start;
  }
`,rU=w.div`
  background-color: var(--color-background);
  border: 1px solid rgba(0, 0, 0, 0.08);
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08), 0 4px 12px rgba(0, 0, 0, 0.04);
  max-width: 800px;
  width: 100%;
  max-height: 80vh;
  overflow: hidden;
  padding: 0;
  position: relative;
  margin: auto;
  display: flex;
  flex-direction: column;

  @media (max-width: 768px) {
    max-height: 85vh;
    max-width: calc(100% - 2 * var(--space-2));
    border-radius: 8px;
  }

  @media (max-width: 480px) {
    max-height: calc(100vh - 88px);
    width: 100%;
    max-width: 100%;
    margin: 0;
    border-radius: 0;
    border: none;
    border-top: 1px solid var(--color-border);
  }
`,nU=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-6) var(--space-6);
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
  flex-shrink: 0;
  background: linear-gradient(to bottom, var(--color-background), rgba(250, 250, 250, 0.5));
  
  @media (max-width: 768px) {
    padding: var(--space-4) var(--space-5);
  }
  
  @media (max-width: 480px) {
    position: sticky;
    top: 0;
    z-index: 10;
    padding: var(--space-4);
    border-bottom: 1px solid var(--color-border);
  }
`,oU=w.h2`
  font-size: calc(var(--font-size-large) * 1.1);
  font-weight: 500;
  color: var(--color-text-primary);
  margin: 0;
  letter-spacing: -0.02em;
  
  @media (max-width: 480px) {
    font-size: var(--font-size-body);
    font-weight: var(--font-weight-medium);
  }
`,aU=w.button`
  background: none;
  border: none;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border-radius: 50%;
  transition: all 0.15s ease;
  color: rgba(0, 0, 0, 0.4);
  font-size: 20px;
  line-height: 1;
  font-weight: 300;

  &:hover {
    background-color: rgba(0, 0, 0, 0.06);
    color: rgba(0, 0, 0, 0.7);
    transform: rotate(90deg);
  }
  
  @media (max-width: 480px) {
    width: 40px;
    height: 40px;
    font-size: 28px;
  }
`,iU=w.div`
  display: flex;
  gap: 0;
  margin-bottom: var(--space-6);
  border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  background-color: rgba(0, 0, 0, 0.02);
  
  @media (max-width: 480px) {
    gap: var(--space-2);
    margin-bottom: var(--space-4);
  }
`,Fk=w.button`
  background: ${e=>e.active?"var(--color-background)":"transparent"};
  border: none;
  border-bottom: ${e=>e.active?"2px solid var(--color-primary)":"2px solid transparent"};
  padding: var(--space-4) var(--space-6);
  font-size: var(--font-size-small);
  font-weight: ${e=>e.active?"500":"400"};
  color: ${e=>e.active?"var(--color-primary)":"rgba(0, 0, 0, 0.6)"};
  cursor: pointer;
  position: relative;
  transition: all 0.2s ease;
  white-space: nowrap;
  margin-bottom: -1px;

  &:hover:not(:disabled) {
    background: ${e=>e.active?"var(--color-background)":"rgba(0, 0, 0, 0.03)"};
    color: ${e=>e.active?"var(--color-primary)":"var(--color-text-primary)"};
  }
  
  @media (max-width: 480px) {
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-micro);
  }
`,sU=w.textarea`
  width: 100%;
  min-height: 300px;
  padding: var(--space-5);
  border: 1px solid rgba(0, 0, 0, 0.12);
  border-radius: 8px;
  font-size: var(--font-size-small);
  font-family: inherit;
  resize: vertical;
  background-color: rgba(255, 255, 255, 0.8);
  color: var(--color-text-primary);
  transition: all 0.2s ease;
  line-height: 1.6;

  &:focus {
    outline: none;
    border-color: var(--color-primary);
    background-color: var(--color-background);
    box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.1);
  }

  &::placeholder {
    color: rgba(0, 0, 0, 0.4);
    font-style: italic;
  }
  
  @media (max-width: 768px) {
    margin: 0 var(--space-4);
    width: calc(100% - 2 * var(--space-4));
    min-height: 200px;
  }
  
  @media (max-width: 480px) {
    margin: 0 var(--space-3);
    width: calc(100% - 2 * var(--space-3));
    min-height: 150px;
    margin-bottom: calc(80px + var(--space-4));
  }
`,lU=w.div`
  border: 2px dashed rgba(0, 0, 0, 0.15);
  border-radius: 12px;
  padding: var(--space-8);
  text-align: center;
  background: linear-gradient(135deg, rgba(250, 250, 250, 0.5), rgba(245, 245, 245, 0.3));
  transition: all 0.3s ease;
  cursor: pointer;
  position: relative;

  &:hover {
    border-color: var(--color-primary);
    background: linear-gradient(135deg, rgba(var(--color-primary-rgb), 0.05), rgba(var(--color-primary-rgb), 0.02));
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  }

  input[type="file"] {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 0;
    cursor: pointer;
  }
  
  @media (max-width: 768px) {
    margin: 0 var(--space-4);
    padding: var(--space-6);
  }
  
  @media (max-width: 480px) {
    margin: 0 var(--space-3);
    padding: var(--space-4);
    margin-bottom: calc(80px + var(--space-4));
  }
`,cU=w.div`
  width: 64px;
  height: 64px;
  margin: 0 auto var(--space-4);
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-primary);
  border-radius: 50%;
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: inherit;
    opacity: 0.2;
    transform: scale(1.2);
  }
  
  &::after {
    content: '↑';
    color: white;
    font-size: 24px;
    font-weight: bold;
    position: relative;
    z-index: 1;
  }
`,uU=w.p`
  font-size: var(--font-size-body);
  font-weight: 500;
  color: var(--color-text-primary);
  margin: 0 0 var(--space-2) 0;
`,dU=w.p`
  font-size: var(--font-size-micro);
  color: rgba(0, 0, 0, 0.5);
  margin: 0;
  line-height: 1.5;
`,fU=w.div`
  display: flex;
  gap: var(--space-4);
  justify-content: flex-end;
  padding: var(--space-5) var(--space-6);
  border-top: 1px solid rgba(0, 0, 0, 0.06);
  flex-shrink: 0;
  background: linear-gradient(to top, var(--color-background), rgba(250, 250, 250, 0.5));
  
  @media (max-width: 768px) {
    padding: var(--space-4);
  }
  
  @media (max-width: 480px) {
    position: sticky;
    bottom: 0;
    padding: var(--space-3);
    flex-direction: column-reverse;
    gap: var(--space-2);
    box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
  }
`,pU=w.button`
  background: var(--color-primary);
  color: white;
  border: none;
  padding: var(--space-3) var(--space-7);
  font-size: var(--font-size-small);
  font-weight: 500;
  border-radius: 24px;
  cursor: pointer;
  transition: all 0.3s ease;
  letter-spacing: 0.02em;
  min-height: 44px;
  box-shadow: 0 2px 8px rgba(var(--color-primary-rgb), 0.3);

  &:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(var(--color-primary-rgb), 0.4);
  }
  
  &:active:not(:disabled) {
    transform: translateY(0);
  }

  &:disabled {
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.15));
    cursor: not-allowed;
    box-shadow: none;
  }
  
  @media (max-width: 480px) {
    width: 100%;
    padding: var(--space-3) var(--space-4);
  }
`,hU=w.button`
  background-color: transparent;
  color: rgba(0, 0, 0, 0.6);
  border: 1px solid rgba(0, 0, 0, 0.2);
  padding: var(--space-3) var(--space-6);
  font-size: var(--font-size-small);
  font-weight: 400;
  border-radius: 24px;
  cursor: pointer;
  transition: all 0.3s ease;
  letter-spacing: 0.02em;
  min-height: 44px;

  &:hover {
    background-color: rgba(0, 0, 0, 0.05);
    border-color: rgba(0, 0, 0, 0.3);
    color: var(--color-text-primary);
  }
  
  @media (max-width: 480px) {
    width: 100%;
    padding: var(--space-3) var(--space-4);
  }
`,vU=w.div`
  margin-top: var(--space-4);
  padding: var(--space-4);
  background: linear-gradient(135deg, rgba(0, 100, 200, 0.05), rgba(0, 150, 250, 0.02));
  border: 1px solid rgba(0, 100, 200, 0.15);
  border-radius: 8px;
  font-size: var(--font-size-small);
  color: var(--color-text-primary);
  display: flex;
  justify-content: space-between;
  align-items: center;
`;w.div`
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: var(--space-4);
  
  @media (max-width: 480px) {
    padding: var(--space-3);
    padding-bottom: calc(80px + var(--space-4));
  }
`;const mU=w.button`
  background: none;
  border: none;
  color: rgba(200, 50, 50, 0.8);
  cursor: pointer;
  font-size: var(--font-size-micro);
  padding: var(--space-2) var(--space-3);
  border-radius: 4px;
  transition: all 0.2s ease;

  &:hover {
    background-color: rgba(200, 50, 50, 0.1);
    color: var(--color-error);
  }
`,gU=({isOpen:e,onClose:t,onSubmit:r})=>{const[n,o]=m.useState("text"),[a,i]=m.useState(""),[l,c]=m.useState(null),[d,u]=m.useState(!1),f=g=>{const x=g.target.files[0];if(x){if(!["application/pdf","text/plain","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","audio/mpeg","audio/wav","audio/mp3","audio/m4a","audio/ogg"].includes(x.type)){q.error("PDF、テキスト、Word文書、または音声ファイル（MP3、WAV、M4A）をアップロードしてください");return}if(x.size>50*1024*1024){q.error("ファイルサイズは50MB以下にしてください");return}c(x),q.success(`ファイル「${x.name}」をアップロードしました`)}},p=()=>{c(null)},h=async()=>{if(n==="text"&&!a.trim()){q.error("議事録を入力してください");return}if(n==="file"&&!l){q.error("ファイルをアップロードしてください");return}u(!0);try{if(n==="text")await r({type:"text",content:a});else{const g=new FormData;g.append("file",l),g.append("type","file");const x={type:"file",formData:g,fileName:l.name,fileType:l.type};await r(x)}}catch(g){console.error("Submit error:",g),q.error("エラーが発生しました")}finally{u(!1)}};return e?s.jsx(tU,{onClick:t,children:s.jsxs(rU,{onClick:g=>g.stopPropagation(),children:[s.jsxs(nU,{children:[s.jsx(oU,{children:"議事録から日報作成"}),s.jsx(aU,{onClick:t,children:"×"})]}),s.jsxs(iU,{children:[s.jsx(Fk,{active:n==="text",onClick:()=>o("text"),children:"テキスト入力"}),s.jsx(Fk,{active:n==="file",onClick:()=>o("file"),children:"ファイルアップロード"})]}),n==="text"?s.jsx("div",{children:s.jsx(sU,{value:a,onChange:g=>i(g.target.value),placeholder:`議事録をここに貼り付けてください。

例：
2025年8月5日 14:00-15:00
場所：ABC建設本社会議室
参加者：田中（営業）、山田部長、ABC建設工事部長、設計課長

議題：新社屋建設プロジェクトについて
- BIMを活用した設計提案
- 予算：約5000万円
- 工期：2025年10月〜2026年3月
- 次回打ち合わせ：8月12日

課題：
- 工期が非常にタイト
- 資材価格の高騰への対応検討`})}):s.jsxs("div",{children:[s.jsxs(lU,{children:[s.jsx("input",{type:"file",accept:".pdf,.txt,.docx,.doc,.mp3,.wav,.m4a,.ogg",onChange:f}),s.jsx(cU,{}),s.jsx(uU,{children:"ファイルをアップロード"}),s.jsxs(dU,{children:["PDF、Word、テキスト、音声ファイル対応",s.jsx("br",{}),"最大 50MB まで"]})]}),l&&s.jsxs(vU,{children:[s.jsxs("span",{children:[l.name," (",(l.size/1024/1024).toFixed(2)," MB)"]}),s.jsx(mU,{onClick:p,children:"削除"})]})]}),s.jsxs(fU,{children:[s.jsx(hU,{onClick:t,children:"キャンセル"}),s.jsx(pU,{onClick:h,disabled:d||(n==="text"?!a.trim():!l),children:d?"処理中...":"AIヒアリング開始"})]})]})}):null},yU=w.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  padding: var(--space-4);
  
  @media (max-width: 768px) {
    padding: var(--space-2);
  }
  
  @media (max-width: 480px) {
    padding: 0;
    padding-top: 88px;
    align-items: flex-start;
  }
`,xU=w.div`
  background-color: var(--color-background);
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
  max-width: 600px;
  width: 100%;
  max-height: 80vh;
  overflow: hidden;
  padding: 0;
  position: relative;
  margin: auto;
  display: flex;
  flex-direction: column;

  @media (max-width: 768px) {
    max-height: 85vh;
    max-width: calc(100% - 2 * var(--space-2));
    border-radius: 8px;
  }

  @media (max-width: 480px) {
    max-height: calc(100vh - 88px);
    width: 100%;
    max-width: 100%;
    margin: 0;
    border-radius: 0;
    border: none;
    border-top: 1px solid var(--color-border);
  }
`,bU=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-5) var(--space-6);
  border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  flex-shrink: 0;
  background-color: var(--color-background);
  
  @media (max-width: 768px) {
    padding: var(--space-4) var(--space-5);
  }
  
  @media (max-width: 480px) {
    position: sticky;
    top: 0;
    z-index: 10;
    padding: var(--space-4);
    border-bottom: 1px solid var(--color-border);
  }
`,wU=w.h2`
  font-size: var(--font-size-large);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
  letter-spacing: -0.01em;

  @media (max-width: 480px) {
    font-size: var(--font-size-body);
    font-weight: var(--font-weight-medium);
  }
`,SU=w.button`
  background: none;
  border: none;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border-radius: 6px;
  transition: all 0.2s ease;
  color: var(--color-text-tertiary);
  font-size: 24px;
  line-height: 1;

  &:hover {
    background-color: rgba(0, 0, 0, 0.05);
    color: var(--color-text-primary);
  }

  @media (max-width: 480px) {
    width: 40px;
    height: 40px;
    font-size: 28px;
  }
`,Kc=w.div`
  margin-bottom: var(--space-5);
  
  @media (max-width: 768px) {
    padding: 0 var(--space-4);
  }
  
  @media (max-width: 480px) {
    margin-bottom: var(--space-4);
    padding: 0 var(--space-3);
    
    &:last-of-type {
      margin-bottom: calc(80px + var(--space-4));
    }
  }
`,Yc=w.label`
  display: block;
  margin-bottom: var(--space-2);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
`,Bk=w.select`
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-family: inherit;
  background-color: var(--color-surface);
  color: var(--color-text-primary);
  transition: border-color 0.2s ease;

  &:focus {
    outline: none;
    border-color: var(--color-primary);
  }

  &:disabled {
    background-color: var(--color-surface-alt);
    cursor: not-allowed;
    opacity: 0.6;
  }
`,jU=w.div`
  display: flex;
  gap: var(--space-4);
  justify-content: flex-end;
  padding: var(--space-4);
  border-top: 2px solid var(--color-border);
  flex-shrink: 0;
  background-color: var(--color-background);
  
  @media (max-width: 768px) {
    padding: var(--space-4);
  }
  
  @media (max-width: 480px) {
    position: sticky;
    bottom: 0;
    padding: var(--space-3);
    flex-direction: column-reverse;
    gap: var(--space-2);
    box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
  }
`,kU=w.button`
  background-color: var(--color-primary);
  color: var(--color-text-inverse);
  border: 2px solid var(--color-primary);
  padding: var(--space-3) var(--space-6);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  min-height: 44px;

  &:hover:not(:disabled) {
    background-color: var(--color-accent);
    border-color: var(--color-accent);
    transform: translateY(-1px);
  }

  &:disabled {
    background-color: var(--color-text-tertiary);
    border-color: var(--color-text-tertiary);
    cursor: not-allowed;
  }
  
  @media (max-width: 480px) {
    width: 100%;
    padding: var(--space-3) var(--space-4);
  }
`,CU=w.button`
  background-color: var(--color-background);
  color: var(--color-text-primary);
  border: 2px solid var(--color-border);
  padding: var(--space-3) var(--space-6);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  min-height: 44px;

  &:hover {
    background-color: var(--color-surface);
    border-color: var(--color-primary);
    color: var(--color-primary);
  }
  
  @media (max-width: 480px) {
    width: 100%;
    padding: var(--space-3) var(--space-4);
  }
`,Qc=w.div`
  text-align: center;
  color: var(--color-text-secondary);
  font-size: var(--font-size-small);
  padding: var(--space-4);
`,PU=w.div`
  display: flex;
  gap: var(--space-2);
  margin-bottom: var(--space-4);
  border-bottom: 2px solid var(--color-border);
`,$f=w.button`
  background: none;
  border: none;
  padding: var(--space-3) var(--space-4);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: ${e=>e.active?"var(--color-primary)":"var(--color-text-secondary)"};
  border-bottom: 3px solid ${e=>e.active?"var(--color-primary)":"transparent"};
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    color: var(--color-primary);
    background-color: var(--color-surface);
  }
`,Tg=w.div`
  max-height: 300px;
  overflow-y: auto;
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  padding: var(--space-2);
`,Mg=w.div`
  padding: var(--space-3);
  margin-bottom: var(--space-2);
  background-color: ${e=>e.selected?"var(--color-primary-bg)":"var(--color-surface)"};
  border: 2px solid ${e=>e.selected?"var(--color-primary)":"var(--color-border)"};
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    border-color: var(--color-primary);
  }
  
  &:last-child {
    margin-bottom: 0;
  }
`,$g=w.h4`
  margin: 0 0 var(--space-2) 0;
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
`,zg=w.p`
  margin: 0;
  font-size: var(--font-size-micro);
  color: var(--color-text-secondary);
  line-height: var(--line-height-comfortable);
  white-space: pre-wrap;
`,Dg=w.div`
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
`,Ig=w.input`
  margin-top: 2px;
  cursor: pointer;
`,AU=w.div`
  background-color: var(--color-surface-alt);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  padding: var(--space-4);
  margin-bottom: var(--space-4);
  text-align: center;
  
  @media (max-width: 768px) {
    margin: 0 var(--space-4) var(--space-4);
  }
  
  @media (max-width: 480px) {
    margin: 0 var(--space-3) var(--space-3);
  }
`,Uk=w.button`
  background-color: #0078d4;
  color: white;
  border: 2px solid #0078d4;
  padding: var(--space-3) var(--space-6);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin: 0 auto;

  &:hover:not(:disabled) {
    background-color: #005a9e;
    border-color: #005a9e;
    transform: translateY(-1px);
  }

  &:disabled {
    background-color: var(--color-text-tertiary);
    border-color: var(--color-text-tertiary);
    cursor: not-allowed;
  }
`,OU=w.p`
  font-size: var(--font-size-micro);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-3);
  line-height: var(--line-height-comfortable);
`,_U=w.div`
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: var(--space-4);
  
  @media (max-width: 480px) {
    padding: var(--space-3);
    padding-bottom: calc(80px + var(--space-4));
  }
`,EU=({isOpen:e,onClose:t,onSubmit:r})=>{var Ut;const[n,o]=m.useState([]),[a,i]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState([]),[f,p]=m.useState([]),[h,g]=m.useState(""),[x,y]=m.useState(""),[v,S]=m.useState([]),[b,j]=m.useState([]),[k,C]=m.useState([]),[O,D]=m.useState("basic"),[I,K]=m.useState(!1),[X,H]=m.useState(!1),[T,R]=m.useState(!1),[G,Q]=m.useState(!1),[se,re]=m.useState(!1),[$,V]=m.useState(!1),[U,M]=m.useState(!1),[ee,ae]=m.useState(!1),[pe,ge]=m.useState(null),[ke,Te]=m.useState("update");m.useEffect(()=>{if(e){console.log("Dynamics365Modal opened, checking auth status...");const A=localStorage.getItem("oauth_auth_success"),_=localStorage.getItem("oauth_auth_timestamp");A==="dynamics365_auth_success"&&Date.now()-parseInt(_||"0")<1e4&&(console.log("🎉 Dynamics 365 auth success detected from localStorage"),localStorage.removeItem("oauth_auth_success"),localStorage.removeItem("oauth_auth_timestamp"),ce()),sessionStorage.getItem("authInProgress")==="dynamics365"?(console.log("📱 Returning from mobile auth"),sessionStorage.removeItem("authInProgress"),sessionStorage.removeItem("authReturnUrl"),ae(!0),setTimeout(()=>{ce().then(()=>{ae(!1)})},1e3)):ce()}},[e]),m.useEffect(()=>{const A=()=>{e&&ee&&(console.log("Window focused while authenticating, checking Dynamics 365 auth status..."),setTimeout(()=>{ce()},500))};return window.addEventListener("focus",A),()=>{window.removeEventListener("focus",A)}},[e,ee]),m.useEffect(()=>{console.log("Dynamics 365 isAuthenticated changed:",U),U&&(console.log("Dynamics 365 is authenticated, loading accounts..."),ie())},[U]),m.useEffect(()=>{console.log("Dynamics 365 AuthStatus changed:",pe)},[pe]);const ce=async()=>{var _;if(!localStorage.getItem("token")){console.error("No JWT token found"),M(!1),ge(null);return}try{const W=await Za.getStatus();if(W){const N=W;console.log("Dynamics 365 auth status check result:",N);const Y=(_=N.tokens)==null?void 0:_.dynamics365,J=(Y==null?void 0:Y.authenticated)||!1;console.log("🔍 Dynamics 365 auth check result:",{isAuth:J,dynamics365Auth:Y}),J?(console.log("✅ Dynamics 365 is authenticated:",Y),M(!0),ge(Y),setTimeout(()=>{console.log("🚀 Loading Dynamics 365 accounts after auth confirmation..."),ie()},200)):(console.log("❌ Dynamics 365 is not authenticated"),M(!1),ge(null),o([]),i([]))}}catch(W){console.error("Failed to check Dynamics 365 auth status:",W),M(!1),ge(null)}},me=async()=>{try{const A=await Za.dynamics365.logout();A&&A.success?(q.success("Dynamics 365認証を解除しました"),M(!1),ge(null),o([]),i([]),g(""),y(""),ce()):q.error("認証解除に失敗しました")}catch(A){console.error("OAuth logout error:",A),q.error("認証解除に失敗しました")}},ve=async()=>{if(U){q.info("既にDynamics 365に認証済みです");return}if(!localStorage.getItem("token")){q.error("認証トークンが見つかりません。再ログインしてください。"),window.location.href="/login";return}ae(!0);try{const _=await Za.dynamics365.authorize();if(_&&_.success){const W=navigator.userAgent;console.log("User-Agent:",W);const N=/iPhone|iPod|Android/i.test(W)&&!/iPad/i.test(W),Y=/iPad/i.test(W)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;if(console.log("Device detection:",{isMobile:N,isIPad:Y,platform:navigator.platform,touchPoints:navigator.maxTouchPoints}),N&&!Y){console.log("📱 Mobile device detected, redirecting in same window"),sessionStorage.setItem("authReturnUrl",window.location.href),sessionStorage.setItem("authInProgress","dynamics365"),window.location.href=_.authUrl;return}else{console.log("🌐 Opening Dynamics 365 OAuth in new window/tab");let z=window.open("","dynamics365_auth","width=600,height=700,left=100,top=100,toolbar=no,location=yes,directories=no,status=yes,menubar=no,scrollbars=yes,resizable=yes");if(!z||z.closed||typeof z.closed>"u"){if(console.error("Popup blocked - trying fallback method"),z=window.open(_.authUrl,"_blank"),!z){q.error("ポップアップがブロックされました。ブラウザの設定を確認してください。"),ae(!1);return}}else z.location.href=_.authUrl;let L=0;const P=90;let E=!1;const B=setInterval(()=>{z.closed&&(console.log("認証ウィンドウが閉じられました"),clearInterval(B),clearInterval(oe),E||setTimeout(async()=>{console.log("Window closed, checking final auth status...");const le=await ce();U||(ae(!1),console.log("No auth detected after window close"))},1e3))},1e3),oe=setInterval(async()=>{var le;L++,console.log(`🔄 Polling Dynamics 365 auth status (${L}/${P})...`);try{const ne=await Za.getStatus();if(ne){const de=(le=ne.tokens)==null?void 0:le.dynamics365;if(de!=null&&de.authenticated){console.log("✅ Dynamics 365 authentication detected via polling!"),E=!0,clearInterval(oe),clearInterval(B),ae(!1),M(!0),ge(de),q.success("✅ Dynamics 365認証が完了しました！"),setTimeout(()=>{ie()},100);return}}}catch(ne){console.error("Auth status polling error:",ne)}L>=P&&(console.log("⏰ Auth polling timeout reached"),clearInterval(oe),clearInterval(B),ae(!1),q.error("認証の確認がタイムアウトしました。再度お試しください。"))},2e3)}}else throw new Error("Failed to get authorization URL")}catch(_){console.error("OAuth login failed:",_),q.error("Dynamics 365認証に失敗しました"),ae(!1)}};m.useEffect(()=>{h?(Be(h),_e(h),Se(h),De(h)):(i([]),c([]),u([]),p([]),y(""),S([]),j([]),C([]))},[h]);const ie=async()=>{K(!0);try{const A=await cl.getAccounts(100);A.success?o(A.accounts):q.error("取引先企業の取得に失敗しました")}catch(A){console.error("Load accounts error:",A),q.error("取引先企業の取得に失敗しました")}finally{K(!1)}},Be=async A=>{H(!0);try{const _=await cl.getOpportunities(A,50);_.success?i(_.opportunities):q.error("商談の取得に失敗しました")}catch(_){console.error("Load opportunities error:",_),q.error("商談の取得に失敗しました")}finally{H(!1)}},_e=async A=>{R(!0);try{const _=await cl.getActivities(A,20);_.success?c(_.activities):console.warn("活動の取得に失敗しました")}catch(_){console.error("Load activities error:",_)}finally{R(!1)}},Se=async A=>{Q(!0);try{const _=await cl.getNotes(A,20);_.success?u(_.notes):console.warn("メモの取得に失敗しました")}catch(_){console.error("Load notes error:",_)}finally{Q(!1)}},De=async A=>{re(!0);try{const _=await cl.getMeetings(A,20);_.success?p(_.meetings):console.warn("会議情報の取得に失敗しました")}catch(_){console.error("Load meetings error:",_)}finally{re(!1)}},Qe=(A,_)=>{switch(_){case"activity":S(W=>W.includes(A)?W.filter(N=>N!==A):[...W,A]);break;case"note":j(W=>W.includes(A)?W.filter(N=>N!==A):[...W,A]);break;case"meeting":C(W=>W.includes(A)?W.filter(N=>N!==A):[...W,A]);break}},ot=async()=>{if(!h){q.error("取引先企業を選択してください");return}V(!0);try{const A=n.find(L=>L.id===h),_=a.find(L=>L.id===x),W=l.filter(L=>v.includes(L.id)),N=d.filter(L=>b.includes(L.id)),Y=f.filter(L=>k.includes(L.id));let J="";W.length>0&&(J+=`【活動記録】
`,W.forEach(L=>{J+=`■ ${L.subject}
`,L.description&&(J+=`${L.description}
`),J+=`（作成日: ${new Date(L.createdOn).toLocaleDateString()}）

`})),N.length>0&&(J+=`【メモ・議事録】
`,N.forEach(L=>{J+=`■ ${L.subject||"メモ"}
`,L.noteText&&(J+=`${L.noteText}
`),J+=`（作成日: ${new Date(L.createdOn).toLocaleDateString()}）

`})),Y.length>0&&(J+=`【会議記録】
`,Y.forEach(L=>{J+=`■ ${L.subject}
`,L.description&&(J+=`${L.description}
`),L.location&&(J+=`場所: ${L.location}
`),J+=`（開催日: ${new Date(L.scheduledStart).toLocaleDateString()}）

`}));const z={type:"dynamics365",dynamics365_account_id:h,dynamics365_opportunity_id:x||null,customer:(A==null?void 0:A.name)||"",project:(_==null?void 0:_.name)||"",meetingNotes:J||null,crmData:{selectedActivities:W,selectedNotes:N,selectedMeetings:Y}};z.actionType=ke,await r(z)}catch{q.error("エラーが発生しました")}finally{V(!1)}};return e?s.jsx(yU,{onClick:t,children:s.jsxs(xU,{onClick:A=>A.stopPropagation(),children:[s.jsxs(bU,{children:[s.jsx(wU,{children:"Dynamics 365から日報作成"}),s.jsx(SU,{onClick:t,children:"×"})]}),U?s.jsxs(_U,{children:[pe&&s.jsxs("div",{style:{marginBottom:"var(--space-4)",padding:"var(--space-4)",backgroundColor:"#e3f2fd",border:"2px solid #0078d4",borderRadius:"8px",position:"relative"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"var(--space-3)"},children:[s.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#0078d4",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"var(--space-3)"},children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("h3",{style:{margin:0,color:"#004578",fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-bold)"},children:"Dynamics 365 認証完了"}),s.jsxs("p",{style:{margin:0,marginTop:"var(--space-1)",fontSize:"var(--font-size-micro)",color:"#0078d4"},children:[((Ut=pe==null?void 0:pe.user_info)==null?void 0:Ut.displayName)||"ユーザー","として接続中"]})]}),s.jsx("button",{onClick:me,style:{padding:"var(--space-2) var(--space-3)",fontSize:"var(--font-size-micro)",backgroundColor:"white",color:"#dc2626",border:"1px solid #dc2626",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease",fontWeight:"500"},onMouseEnter:A=>{A.target.style.backgroundColor="#dc2626",A.target.style.color="white"},onMouseLeave:A=>{A.target.style.backgroundColor="white",A.target.style.color="#dc2626"},children:"認証解除"})]}),s.jsx("div",{style:{padding:"var(--space-2)",backgroundColor:"#bbdefb",borderRadius:"4px",fontSize:"var(--font-size-micro)",color:"#004578"},children:"🏢 取引先企業と商談情報にアクセスできます"})]}),s.jsxs(Kc,{children:[s.jsx(Yc,{children:"取引先企業 *"}),I?s.jsx(Qc,{children:"取引先企業を読み込み中..."}):s.jsxs(Bk,{value:h,onChange:A=>g(A.target.value),disabled:!U,children:[s.jsx("option",{value:"",children:"-- 取引先企業を選択 --"}),n.map(A=>s.jsx("option",{value:A.id,children:A.name},A.id))]})]}),h&&s.jsxs(s.Fragment,{children:[s.jsxs(PU,{children:[s.jsx($f,{active:O==="basic",onClick:()=>D("basic"),children:"基本情報"}),s.jsxs($f,{active:O==="activities",onClick:()=>D("activities"),children:["活動記録 (",l.length,")"]}),s.jsxs($f,{active:O==="notes",onClick:()=>D("notes"),children:["メモ (",d.length,")"]}),s.jsxs($f,{active:O==="meetings",onClick:()=>D("meetings"),children:["会議 (",f.length,")"]})]}),O==="basic"&&s.jsxs(Kc,{children:[s.jsx(Yc,{children:"商談（オプション）"}),X?s.jsx(Qc,{children:"商談を読み込み中..."}):s.jsxs(Bk,{value:x,onChange:A=>y(A.target.value),disabled:!h||!U,children:[s.jsx("option",{value:"",children:"-- 商談を選択（オプション） --"}),a.map(A=>s.jsxs("option",{value:A.id,children:[A.name," (",A.status,")"]},A.id))]})]}),O==="activities"&&s.jsxs(Kc,{children:[s.jsx(Yc,{children:"活動記録を選択"}),T?s.jsx(Qc,{children:"活動記録を読み込み中..."}):l.length>0?s.jsx(Tg,{children:l.map(A=>s.jsxs(Mg,{selected:v.includes(A.id),onClick:()=>Qe(A.id,"activity"),children:[s.jsxs(Dg,{children:[s.jsx(Ig,{type:"checkbox",checked:v.includes(A.id),onChange:()=>Qe(A.id,"activity")}),s.jsx($g,{children:A.subject})]}),A.description&&s.jsx(zg,{children:A.description}),s.jsxs("div",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)",marginTop:"var(--space-1)"},children:[new Date(A.createdOn).toLocaleDateString()," • ",A.status]})]},A.id))}):s.jsx("div",{style:{textAlign:"center",color:"var(--color-text-secondary)",padding:"var(--space-4)"},children:"活動記録が見つかりません"})]}),O==="notes"&&s.jsxs(Kc,{children:[s.jsx(Yc,{children:"メモ・議事録を選択"}),G?s.jsx(Qc,{children:"メモを読み込み中..."}):d.length>0?s.jsx(Tg,{children:d.map(A=>s.jsxs(Mg,{selected:b.includes(A.id),onClick:()=>Qe(A.id,"note"),children:[s.jsxs(Dg,{children:[s.jsx(Ig,{type:"checkbox",checked:b.includes(A.id),onChange:()=>Qe(A.id,"note")}),s.jsx($g,{children:A.subject||"メモ"})]}),A.noteText&&s.jsx(zg,{children:A.noteText}),s.jsx("div",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)",marginTop:"var(--space-1)"},children:new Date(A.createdOn).toLocaleDateString()})]},A.id))}):s.jsx("div",{style:{textAlign:"center",color:"var(--color-text-secondary)",padding:"var(--space-4)"},children:"メモが見つかりません"})]}),O==="meetings"&&s.jsxs(Kc,{children:[s.jsx(Yc,{children:"会議記録を選択"}),se?s.jsx(Qc,{children:"会議記録を読み込み中..."}):f.length>0?s.jsx(Tg,{children:f.map(A=>s.jsxs(Mg,{selected:k.includes(A.id),onClick:()=>Qe(A.id,"meeting"),children:[s.jsxs(Dg,{children:[s.jsx(Ig,{type:"checkbox",checked:k.includes(A.id),onChange:()=>Qe(A.id,"meeting")}),s.jsx($g,{children:A.subject})]}),A.description&&s.jsx(zg,{children:A.description}),s.jsxs("div",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)",marginTop:"var(--space-1)"},children:[new Date(A.scheduledStart).toLocaleDateString()," • ",A.location||"場所未設定"]})]},A.id))}):s.jsx("div",{style:{textAlign:"center",color:"var(--color-text-secondary)",padding:"var(--space-4)"},children:"会議記録が見つかりません"})]})]})]}):s.jsxs(AU,{children:[s.jsx(OU,{children:"あなたのDynamics 365アカウントにログインして、取引先と商談情報を取得します。"}),s.jsxs("div",{style:{display:"flex",gap:"var(--space-3)",justifyContent:"center"},children:[s.jsxs(Uk,{onClick:ve,disabled:ee,children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M11.4 11.4H2V2h9.4v9.4zm10.6 0h-9.4V2H22v9.4zM11.4 22H2v-9.4h9.4V22zm10.6 0h-9.4v-9.4H22V22z"})}),ee?"認証処理中...":"Dynamics 365にログイン"]}),ee&&s.jsx(Uk,{onClick:()=>{ae(!1),q("認証処理をキャンセルしました")},style:{backgroundColor:"var(--color-error)",borderColor:"var(--color-error)"},children:"キャンセル"})]})]}),U&&s.jsxs(jU,{children:[s.jsx(CU,{onClick:t,children:"キャンセル"}),s.jsx(kU,{onClick:ot,disabled:!h||$||!U,children:$?"処理中...":"AIヒアリング開始"})]}),U&&s.jsxs("div",{style:{padding:"var(--space-4) var(--space-6)",borderTop:"1px solid var(--color-border)",display:"flex",gap:"var(--space-4)",alignItems:"center",backgroundColor:"var(--color-background)"},children:[s.jsx("span",{style:{fontSize:"var(--font-size-small)",color:"var(--color-text-secondary)",fontWeight:"var(--font-weight-medium)"},children:"作成方法:"}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)",cursor:"pointer"},children:[s.jsx("input",{type:"radio",value:"update",checked:ke==="update",onChange:A=>Te(A.target.value),style:{cursor:"pointer"}}),s.jsx("span",{style:{fontSize:"var(--font-size-small)"},children:"既存案件を更新"})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)",cursor:"pointer"},children:[s.jsx("input",{type:"radio",value:"create",checked:ke==="create",onChange:A=>Te(A.target.value),style:{cursor:"pointer"}}),s.jsx("span",{style:{fontSize:"var(--font-size-small)"},children:"新規案件として作成"})]})]})]})}):null};var u5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Wk=Le.createContext&&Le.createContext(u5),TU=["attr","size","title"];function MU(e,t){if(e==null)return{};var r=$U(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $U(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(this,arguments)}function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(n){zU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zU(e,t,r){return t=DU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DU(e){var t=IU(e,"string");return typeof t=="symbol"?t:t+""}function IU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d5(e){return e&&e.map((t,r)=>Le.createElement(t.tag,zh({key:r},t.attr),d5(t.child)))}function ft(e){return t=>Le.createElement(RU,$h({attr:zh({},e.attr)},t),d5(e.child))}function RU(e){var t=r=>{var{attr:n,size:o,title:a}=e,i=MU(e,TU),l=o||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Le.createElement("svg",$h({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:zh(zh({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Le.createElement("title",null,a),e.children)};return Wk!==void 0?Le.createElement(Wk.Consumer,null,r=>t(r)):t(u5)}function f5(e){return ft({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.006 5.415a4.195 4.195 0 013.045-1.306c1.56 0 2.954.9 3.69 2.205.63-.3 1.35-.45 2.1-.45 2.85 0 5.159 2.34 5.159 5.22s-2.31 5.22-5.176 5.22c-.345 0-.69-.044-1.02-.104a3.75 3.75 0 01-3.3 1.95c-.6 0-1.155-.15-1.65-.375A4.314 4.314 0 018.88 20.4a4.302 4.302 0 01-4.05-2.82c-.27.062-.54.076-.825.076-2.204 0-4.005-1.8-4.005-4.05 0-1.5.811-2.805 2.01-3.51-.255-.57-.39-1.2-.39-1.846 0-2.58 2.1-4.65 4.65-4.65 1.53 0 2.85.705 3.72 1.8"},child:[]}]})(e)}const NU=w.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  padding: var(--space-4);
  
  @media (max-width: 768px) {
    padding: var(--space-2);
  }
  
  @media (max-width: 480px) {
    padding: 0;
    padding-top: 88px;
    align-items: flex-start;
  }
`,LU=w.div`
  background-color: var(--color-background);
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
  max-width: 600px;
  width: 100%;
  max-height: 80vh;
  overflow: hidden;
  padding: 0;
  position: relative;
  margin: auto;
  display: flex;
  flex-direction: column;

  @media (max-width: 768px) {
    max-height: 85vh;
    max-width: calc(100% - 2 * var(--space-2));
    border-radius: 8px;
  }

  @media (max-width: 480px) {
    max-height: calc(100vh - 88px);
    width: 100%;
    max-width: 100%;
    margin: 0;
    border-radius: 0;
    border: none;
    border-top: 1px solid var(--color-border);
  }
`,FU=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-5) var(--space-6);
  border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  flex-shrink: 0;
  background-color: var(--color-background);
  
  @media (max-width: 768px) {
    padding: var(--space-4) var(--space-5);
  }
  
  @media (max-width: 480px) {
    position: sticky;
    top: 0;
    z-index: 10;
    padding: var(--space-4);
    border-bottom: 1px solid var(--color-border);
  }
`,BU=w.h2`
  font-size: var(--font-size-large);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin: 0;
  letter-spacing: -0.01em;
  
  @media (max-width: 480px) {
    font-size: var(--font-size-body);
    font-weight: var(--font-weight-medium);
  }
`,UU=w.button`
  background: none;
  border: none;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border-radius: 6px;
  transition: all 0.2s ease;
  color: var(--color-text-tertiary);
  font-size: 24px;
  line-height: 1;

  &:hover {
    background-color: rgba(0, 0, 0, 0.05);
    color: var(--color-text-primary);
  }
  
  @media (max-width: 480px) {
    width: 40px;
    height: 40px;
    font-size: 28px;
  }
`,Gc=w.div`
  margin-bottom: var(--space-5);
  
  @media (max-width: 480px) {
    margin-bottom: var(--space-4);
  }
`,Xc=w.label`
  display: block;
  margin-bottom: var(--space-2);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
`,Hk=w.select`
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-family: inherit;
  background-color: var(--color-surface);
  color: var(--color-text-primary);
  transition: border-color 0.2s ease;

  &:focus {
    outline: none;
    border-color: var(--color-primary);
  }

  &:disabled {
    background-color: var(--color-surface-alt);
    cursor: not-allowed;
    opacity: 0.6;
  }
`,WU=w.div`
  display: flex;
  gap: var(--space-4);
  justify-content: flex-end;
  padding: var(--space-4);
  border-top: 2px solid var(--color-border);
  flex-shrink: 0;
  background-color: var(--color-background);
  
  @media (max-width: 768px) {
    padding: var(--space-4);
  }
  
  @media (max-width: 480px) {
    position: sticky;
    bottom: 0;
    padding: var(--space-3);
    flex-direction: column-reverse;
    gap: var(--space-2);
    box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
  }
`,qU=w.button`
  background-color: var(--color-primary);
  color: var(--color-text-inverse);
  border: 2px solid var(--color-primary);
  padding: var(--space-3) var(--space-6);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  min-height: 44px;

  &:hover:not(:disabled) {
    background-color: var(--color-accent);
    border-color: var(--color-accent);
    transform: translateY(-1px);
  }

  &:disabled {
    background-color: var(--color-text-tertiary);
    border-color: var(--color-text-tertiary);
    cursor: not-allowed;
  }
  
  @media (max-width: 480px) {
    width: 100%;
    padding: var(--space-3) var(--space-4);
  }
`,Vk=w.button`
  background-color: var(--color-background);
  color: var(--color-text-primary);
  border: 2px solid var(--color-border);
  padding: var(--space-3) var(--space-6);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  min-height: 44px;

  &:hover {
    background-color: var(--color-surface);
    border-color: var(--color-primary);
    color: var(--color-primary);
  }
  
  @media (max-width: 480px) {
    width: 100%;
    padding: var(--space-3) var(--space-4);
  }
`,Jc=w.div`
  text-align: center;
  color: var(--color-text-secondary);
  font-size: var(--font-size-small);
  padding: var(--space-4);
`;w.div`
  color: var(--color-error);
  font-size: var(--font-size-micro);
  margin-top: var(--space-2);
`;w.div`
  background-color: ${e=>e.success?"var(--color-success-bg)":"var(--color-error-bg)"};
  color: ${e=>e.success?"var(--color-success)":"var(--color-error)"};
  padding: var(--space-3);
  border-radius: var(--radius-none);
  border: 2px solid ${e=>e.success?"var(--color-success)":"var(--color-error)"};
  margin-bottom: var(--space-4);
  font-size: var(--font-size-micro);
`;const Kk=w.div`
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: var(--space-4);
  
  @media (max-width: 480px) {
    padding: var(--space-3);
    padding-bottom: calc(80px + var(--space-4));
  }
`,HU=w.div`
  background-color: var(--color-surface-alt);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  padding: var(--space-4);
  margin-bottom: var(--space-4);
  text-align: center;
`,Yk=w.button`
  background-color: #00A1E0;
  color: white;
  border: 2px solid #00A1E0;
  padding: var(--space-3) var(--space-6);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin: 0 auto;

  &:hover:not(:disabled) {
    background-color: #0078A0;
    border-color: #0078A0;
    transform: translateY(-1px);
  }

  &:disabled {
    background-color: var(--color-text-tertiary);
    border-color: var(--color-text-tertiary);
    cursor: not-allowed;
  }
`,VU=w.p`
  font-size: var(--font-size-micro);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-3);
  line-height: var(--line-height-comfortable);
`,KU=w.div`
  display: flex;
  gap: var(--space-2);
  margin-bottom: var(--space-4);
  border-bottom: 2px solid var(--color-border);
`,zf=w.button`
  background: none;
  border: none;
  padding: var(--space-3) var(--space-4);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: ${e=>e.active?"var(--color-primary)":"var(--color-text-secondary)"};
  border-bottom: 3px solid ${e=>e.active?"var(--color-primary)":"transparent"};
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    color: var(--color-primary);
    background-color: var(--color-surface);
  }
`,Rg=w.div`
  max-height: 300px;
  overflow-y: auto;
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  padding: var(--space-2);
`,Ng=w.div`
  padding: var(--space-3);
  margin-bottom: var(--space-2);
  background-color: ${e=>e.selected?"var(--color-primary-bg)":"var(--color-surface)"};
  border: 2px solid ${e=>e.selected?"var(--color-primary)":"var(--color-border)"};
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    border-color: var(--color-primary);
  }
  
  &:last-child {
    margin-bottom: 0;
  }
`,Lg=w.h4`
  margin: 0 0 var(--space-2) 0;
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
`,Fg=w.p`
  margin: 0;
  font-size: var(--font-size-micro);
  color: var(--color-text-secondary);
  line-height: var(--line-height-comfortable);
  white-space: pre-wrap;
`,Bg=w.div`
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
`,Ug=w.input`
  margin-top: 2px;
  cursor: pointer;
`,YU=({isOpen:e,onClose:t,onSubmit:r})=>{var A;const[n,o]=m.useState([]),[a,i]=m.useState([]),[l,c]=m.useState(""),[d,u]=m.useState(""),[f,p]=m.useState(!1),[h,g]=m.useState(!1),[x,y]=m.useState(!1),[v,S]=m.useState(null),[b,j]=m.useState(null),[k,C]=m.useState(!1),[O,D]=m.useState("update"),[I,K]=m.useState("basic"),[X,H]=m.useState([]),[T,R]=m.useState([]),[G,Q]=m.useState([]),[se,re]=m.useState(!1),[$,V]=m.useState(!1),[U,M]=m.useState(!1),[ee,ae]=m.useState([]),[pe,ge]=m.useState([]),[ke,Te]=m.useState([]);m.useEffect(()=>{if(e){console.log("SalesforceModal opened, checking auth status...");const _=localStorage.getItem("oauth_auth_success"),W=localStorage.getItem("oauth_auth_timestamp");_==="salesforce_auth_success"&&Date.now()-parseInt(W||"0")<1e4&&(console.log("🎉 Salesforce auth success detected from localStorage"),localStorage.removeItem("oauth_auth_success"),localStorage.removeItem("oauth_auth_timestamp"),ce()),sessionStorage.getItem("authInProgress")==="salesforce"?(console.log("📱 Returning from mobile auth"),sessionStorage.removeItem("authInProgress"),sessionStorage.removeItem("authReturnUrl"),C(!0),setTimeout(()=>{ce().then(()=>{C(!1)})},1e3)):ce()}},[e]),m.useEffect(()=>{console.log("Salesforce AuthStatus changed:",b),b&&b.authenticated?(console.log("Salesforce is authenticated, loading accounts..."),S({success:!0,message:"OAuth認証済み"}),n.length===0&&!f&&setTimeout(()=>{Be()},100)):(console.log("Salesforce is not authenticated, clearing data"),S(null),o([]),i([]),c(""),u(""))},[b==null?void 0:b.authenticated]),m.useEffect(()=>{const _=async()=>{if(console.log("🔍 Window focused. isOpen:",e,"isAuthenticating:",k),e&&k){console.log("✅ Window focused while authenticating, checking Salesforce auth status...");try{await ce(),console.log("Auth status check completed. Current authStatus:",b),b!=null&&b.authenticated&&(console.log("🎉 Salesforce authentication confirmed, updating UI..."),C(!1))}catch(W){console.error("Error checking auth status on focus:",W)}}};return window.addEventListener("focus",_),()=>{window.removeEventListener("focus",_)}},[e,k,b]),m.useEffect(()=>{l?(_e(l),Se(l),De(l),Qe(l)):(i([]),u(""),H([]),R([]),Q([]),ae([]),ge([]),Te([]))},[l]);const ce=async()=>{var W;if(!localStorage.getItem("token")){console.error("No JWT token found"),j(null);return}try{const N=await Za.getStatus();return console.log("Salesforce auth status check result:",N),N.success&&((W=N.tokens.salesforce)!=null&&W.authenticated)?(console.log("✅ Salesforce is authenticated:",N.tokens.salesforce),j(N.tokens.salesforce),C(!1),!0):(console.log("❌ Salesforce is not authenticated"),j(null),S(null),o([]),i([]),c(""),u(""),!1)}catch(N){return console.error("Auth status check error:",N),j(null),!1}},me=async()=>{try{await Za.salesforce.logout(),q.success("Salesforce認証を解除しました"),j(null),S(null),o([]),i([]),c(""),u(""),ce()}catch(_){console.error("OAuth logout error:",_),q.error("認証解除に失敗しました")}},ve=async()=>{if(b!=null&&b.authenticated){q.info("既にSalesforceに認証済みです");return}if(!localStorage.getItem("token")){q.error("認証トークンが見つかりません。再ログインしてください。"),window.location.href="/login";return}C(!0);try{const W=await Za.salesforce.authorize();if(W.success){const N=navigator.userAgent;console.log("User-Agent:",N);const Y=/iPhone|iPod|Android/i.test(N)&&!/iPad/i.test(N),J=/iPad/i.test(N)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;if(console.log("Device detection:",{isMobile:Y,isIPad:J,platform:navigator.platform,touchPoints:navigator.maxTouchPoints}),Y&&!J){console.log("📱 Mobile device detected, redirecting in same window"),sessionStorage.setItem("authReturnUrl",window.location.href),sessionStorage.setItem("authInProgress","salesforce"),window.location.href=W.authUrl;return}else{console.log("🌐 Opening Salesforce OAuth in new window/tab");let L=window.open("","salesforce_auth","width=600,height=700,left=100,top=100,toolbar=no,location=yes,directories=no,status=yes,menubar=no,scrollbars=yes,resizable=yes");if(!L||L.closed||typeof L.closed>"u"){if(console.error("Popup blocked - trying fallback method"),L=window.open(W.authUrl,"_blank"),!L){q.error("ポップアップがブロックされました。ブラウザの設定を確認してください。"),C(!1);return}}else L.location.href=W.authUrl;const P=setInterval(()=>{L.closed&&(console.log("認証ウィンドウが閉じられました"),clearInterval(P),clearInterval(oe),ce().then(le=>{le||(C(!1),q("認証がキャンセルされました"))}))},1e3);let E=0;const B=90,oe=setInterval(async()=>{var le,ne,de,Ae,fe,Ue;E++,console.log(`🔄 Polling Salesforce auth status (${E}/${B})...`);try{const Me=await Za.getStatus();if(console.log("🔍 Status response:",Me),Me){console.log("📋 Full status data:",Me);const at=((le=Me.tokens)==null?void 0:le.salesforce)||Me.success&&((ne=Me.tokens)==null?void 0:ne.salesforce);if(console.log("🎯 Salesforce auth data:",at),(at==null?void 0:at.authenticated)||Me.success&&((Ae=(de=Me.tokens)==null?void 0:de.salesforce)==null?void 0:Ae.authenticated)){console.log("✅ Salesforce authentication detected via polling!"),clearInterval(oe),clearInterval(P),C(!1),console.log("🔄 Updating auth status..."),j(at||((fe=Me.tokens)==null?void 0:fe.salesforce)),q.success("✅ Salesforce認証が完了しました！");return}else console.log("❌ Salesforce not authenticated yet. Looking for:",{"statusData.success":Me.success,"statusData.tokens":Me.tokens,"statusData.tokens?.salesforce":(Ue=Me.tokens)==null?void 0:Ue.salesforce})}else console.error("❌ Status data is null or undefined")}catch(Me){console.error("Auth status polling error:",Me)}E>=B&&(console.log("⏰ Auth polling timeout reached"),clearInterval(oe),clearInterval(P),C(!1),q.error("認証の確認がタイムアウトしました。再度お試しください。"))},2e3)}}else q.error("OAuth認証の開始に失敗しました"),C(!1)}catch(W){console.error("OAuth login error:",W),q.error("OAuth認証の開始に失敗しました"),C(!1)}},ie=async()=>{try{const _=await qs.testConnection();S(_),_.success?q.success("Salesforceに接続しました"):q.error("Salesforceへの接続に失敗しました")}catch(_){console.error("Test connection error:",_),S({success:!1,message:"ネットワークエラーが発生しました"}),q.error("Salesforceへの接続に失敗しました")}},Be=async()=>{p(!0);try{const _=await qs.getAccounts();_.success?o(_.accounts):q.error("取引先企業の取得に失敗しました")}catch(_){console.error("Load accounts error:",_),q.error("取引先企業の取得に失敗しました")}finally{p(!1)}},_e=async _=>{g(!0);try{const W=await qs.getOpportunities(_,50);W.success?i(W.opportunities):q.error("商談の取得に失敗しました")}catch(W){console.error("Load opportunities error:",W),q.error("商談の取得に失敗しました")}finally{g(!1)}},Se=async _=>{re(!0);try{const W=await qs.getActivities(_,20);W.success&&H(W.activities)}catch(W){console.error("Load activities error:",W)}finally{re(!1)}},De=async _=>{V(!0);try{const W=await qs.getNotes(_,20);W.success&&R(W.notes)}catch(W){console.error("Load notes error:",W)}finally{V(!1)}},Qe=async _=>{M(!0);try{const W=await qs.getMeetings(_,20);W.success&&Q(W.meetings)}catch(W){console.error("Load meetings error:",W)}finally{M(!1)}},ot=(_,W)=>{switch(W){case"activity":ae(N=>N.includes(_)?N.filter(Y=>Y!==_):[...N,_]);break;case"note":ge(N=>N.includes(_)?N.filter(Y=>Y!==_):[...N,_]);break;case"meeting":Te(N=>N.includes(_)?N.filter(Y=>Y!==_):[...N,_]);break}},Ut=async()=>{if(!l){q.error("取引先企業を選択してください");return}y(!0);try{const _=n.find(L=>L.id===l),W=a.find(L=>L.id===d),N=X.filter(L=>ee.includes(L.id)),Y=T.filter(L=>pe.includes(L.id)),J=G.filter(L=>ke.includes(L.id)),z={type:"salesforce",actionType:O,salesforce_account_id:l,salesforce_opportunity_id:d||null,customer:(_==null?void 0:_.name)||"",project:(W==null?void 0:W.name)||"",selectedActivities:N,selectedNotes:Y,selectedMeetings:J,meetingContext:[...N.map(L=>`【活動】${L.subject}: ${L.description||""}`),...Y.map(L=>`【メモ】${L.subject}: ${L.noteText||""}`),...J.map(L=>`【会議】${L.subject}: ${L.description||""}`)].join(`
`)};await r(z)}catch{q.error("エラーが発生しました")}finally{y(!1)}};return e?s.jsx(NU,{onClick:t,children:s.jsxs(LU,{onClick:_=>_.stopPropagation(),children:[s.jsxs(FU,{children:[s.jsx(BU,{children:"Salesforceから日報作成"}),s.jsx(UU,{onClick:t,children:"×"})]}),b?s.jsxs(Kk,{children:[v&&v.success&&s.jsxs("div",{style:{marginBottom:"var(--space-4)",padding:"var(--space-4)",backgroundColor:"#fef3f2",border:"2px solid #00A1E0",borderRadius:"8px",position:"relative"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"var(--space-3)"},children:[s.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#00A1E0",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"var(--space-3)"},children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("h3",{style:{margin:0,color:"#0c4a6e",fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-bold)"},children:"Salesforce 認証完了"}),s.jsxs("p",{style:{margin:0,marginTop:"var(--space-1)",fontSize:"var(--font-size-micro)",color:"#0369a1"},children:[((A=b==null?void 0:b.user_info)==null?void 0:A.name)||"ユーザー","として接続中"]})]}),s.jsx("button",{onClick:me,style:{padding:"var(--space-2) var(--space-3)",fontSize:"var(--font-size-micro)",backgroundColor:"white",color:"#dc2626",border:"1px solid #dc2626",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease",fontWeight:"500"},onMouseEnter:_=>{_.target.style.backgroundColor="#dc2626",_.target.style.color="white"},onMouseLeave:_=>{_.target.style.backgroundColor="white",_.target.style.color="#dc2626"},children:"認証解除"})]}),s.jsx("div",{style:{padding:"var(--space-2)",backgroundColor:"#eff6ff",borderRadius:"4px",fontSize:"var(--font-size-micro)",color:"#0369a1"},children:"🏢 取引先企業と商談情報にアクセスできます"})]}),v&&!v.success&&s.jsxs("div",{style:{marginBottom:"var(--space-4)",padding:"var(--space-3)",backgroundColor:"#fef2f2",border:"2px solid #dc2626",borderRadius:"8px",color:"#dc2626"},children:[s.jsxs("div",{style:{marginBottom:"var(--space-2)"},children:["❌ Salesforce接続失敗: ",v.message]}),s.jsx(Vk,{onClick:()=>{S(null),ie(),Be()},style:{marginTop:"var(--space-2)",padding:"var(--space-2) var(--space-3)",fontSize:"14px"},children:"🔄 再接続"})]}),s.jsxs(Gc,{children:[s.jsx(Xc,{children:"取引先企業 *"}),f?s.jsx(Jc,{children:"取引先企業を読み込み中..."}):s.jsxs(Hk,{value:l,onChange:_=>c(_.target.value),disabled:!(v!=null&&v.success),children:[s.jsx("option",{value:"",children:"-- 取引先企業を選択 --"}),n.map(_=>s.jsxs("option",{value:_.id,children:[_.name," ",_.phone&&`(${_.phone})`]},_.id))]})]}),l&&s.jsxs(s.Fragment,{children:[s.jsxs(KU,{children:[s.jsx(zf,{active:I==="basic",onClick:()=>K("basic"),children:"基本情報"}),s.jsxs(zf,{active:I==="activities",onClick:()=>K("activities"),children:["活動記録 (",X.length,")"]}),s.jsxs(zf,{active:I==="notes",onClick:()=>K("notes"),children:["メモ (",T.length,")"]}),s.jsxs(zf,{active:I==="meetings",onClick:()=>K("meetings"),children:["会議 (",G.length,")"]})]}),I==="basic"&&s.jsxs(Gc,{children:[s.jsx(Xc,{children:"商談（オプション）"}),h?s.jsx(Jc,{children:"商談を読み込み中..."}):s.jsxs(Hk,{value:d,onChange:_=>u(_.target.value),disabled:!l||!(v!=null&&v.success),children:[s.jsx("option",{value:"",children:"-- 商談を選択（オプション） --"}),a.map(_=>s.jsxs("option",{value:_.id,children:[_.name," (",_.stage,")",_.estimatedValue&&` - ¥${_.estimatedValue.toLocaleString()}`]},_.id))]})]}),I==="activities"&&s.jsxs(Gc,{children:[s.jsx(Xc,{children:"活動記録を選択"}),se?s.jsx(Jc,{children:"活動記録を読み込み中..."}):X.length>0?s.jsx(Rg,{children:X.map(_=>s.jsxs(Ng,{selected:ee.includes(_.id),onClick:()=>ot(_.id,"activity"),children:[s.jsxs(Bg,{children:[s.jsx(Ug,{type:"checkbox",checked:ee.includes(_.id),onChange:()=>ot(_.id,"activity")}),s.jsx(Lg,{children:_.subject})]}),_.description&&s.jsx(Fg,{children:_.description}),s.jsxs("div",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)",marginTop:"var(--space-1)"},children:[new Date(_.createdOn).toLocaleDateString()," • ",_.status]})]},_.id))}):s.jsx("div",{style:{textAlign:"center",color:"var(--color-text-secondary)",padding:"var(--space-4)"},children:"活動記録が見つかりません"})]}),I==="notes"&&s.jsxs(Gc,{children:[s.jsx(Xc,{children:"メモを選択"}),$?s.jsx(Jc,{children:"メモを読み込み中..."}):T.length>0?s.jsx(Rg,{children:T.map(_=>s.jsxs(Ng,{selected:pe.includes(_.id),onClick:()=>ot(_.id,"note"),children:[s.jsxs(Bg,{children:[s.jsx(Ug,{type:"checkbox",checked:pe.includes(_.id),onChange:()=>ot(_.id,"note")}),s.jsx(Lg,{children:_.subject})]}),_.noteText&&s.jsx(Fg,{children:_.noteText}),s.jsx("div",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)",marginTop:"var(--space-1)"},children:new Date(_.createdOn).toLocaleDateString()})]},_.id))}):s.jsx("div",{style:{textAlign:"center",color:"var(--color-text-secondary)",padding:"var(--space-4)"},children:"メモが見つかりません"})]}),I==="meetings"&&s.jsxs(Gc,{children:[s.jsx(Xc,{children:"会議を選択"}),U?s.jsx(Jc,{children:"会議を読み込み中..."}):G.length>0?s.jsx(Rg,{children:G.map(_=>s.jsxs(Ng,{selected:ke.includes(_.id),onClick:()=>ot(_.id,"meeting"),children:[s.jsxs(Bg,{children:[s.jsx(Ug,{type:"checkbox",checked:ke.includes(_.id),onChange:()=>ot(_.id,"meeting")}),s.jsx(Lg,{children:_.subject})]}),_.description&&s.jsx(Fg,{children:_.description}),s.jsxs("div",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)",marginTop:"var(--space-1)"},children:[new Date(_.scheduledStart).toLocaleDateString()," ",_.location&&`• ${_.location}`]})]},_.id))}):s.jsx("div",{style:{textAlign:"center",color:"var(--color-text-secondary)",padding:"var(--space-4)"},children:"会議情報が見つかりません"})]})]})]}):s.jsx(Kk,{children:s.jsxs(HU,{children:[s.jsx(VU,{children:"あなたのSalesforceアカウントにログインして、取引先と商談情報を取得します。"}),s.jsxs("div",{style:{display:"flex",gap:"var(--space-3)",justifyContent:"center"},children:[s.jsxs(Yk,{onClick:ve,disabled:k,children:[s.jsx(f5,{size:20,style:{marginRight:"8px"}}),k?"認証処理中...":"Salesforceにログイン"]}),k&&s.jsx(Yk,{onClick:()=>{C(!1),q("認証処理をキャンセルしました")},style:{backgroundColor:"var(--color-error)",borderColor:"var(--color-error)"},children:"キャンセル"})]})]})}),b&&s.jsxs(WU,{children:[s.jsx(Vk,{onClick:t,children:"キャンセル"}),s.jsx(qU,{onClick:Ut,disabled:!l||x||!(v!=null&&v.success),children:x?"処理中...":"AIヒアリング開始"})]}),b&&s.jsxs("div",{style:{padding:"var(--space-4) var(--space-6)",borderTop:"1px solid var(--color-border)",display:"flex",gap:"var(--space-4)",alignItems:"center",backgroundColor:"var(--color-background)"},children:[s.jsx("span",{style:{fontSize:"var(--font-size-small)",color:"var(--color-text-secondary)",fontWeight:"var(--font-weight-medium)"},children:"作成方法:"}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)",cursor:"pointer"},children:[s.jsx("input",{type:"radio",value:"update",checked:O==="update",onChange:_=>D(_.target.value),style:{cursor:"pointer"}}),s.jsx("span",{style:{fontSize:"var(--font-size-small)"},children:"既存案件を更新"})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)",cursor:"pointer"},children:[s.jsx("input",{type:"radio",value:"create",checked:O==="create",onChange:_=>D(_.target.value),style:{cursor:"pointer"}}),s.jsx("span",{style:{fontSize:"var(--font-size-small)"},children:"新規案件として作成"})]})]})]})}):null},QU=w.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: var(--space-4);
`,GU=w.div`
  background: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  padding: var(--space-8);
  max-width: 500px;
  width: 100%;
  box-shadow: var(--shadow-structure);
  animation: slideIn 0.2s ease-out;

  @keyframes slideIn {
    from {
      transform: translateY(-20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @media (max-width: 768px) {
    padding: var(--space-6);
  }
`,XU=w.h3`
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin-bottom: var(--space-4);
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,JU=w.p`
  font-size: var(--font-size-body);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-6);
  text-align: center;
  line-height: var(--line-height-comfortable);
  white-space: pre-wrap;
`,ZU=w.div`
  display: flex;
  gap: var(--space-3);
  justify-content: center;
`,eW=w.button`
  background-color: var(--color-primary);
  color: var(--color-text-inverse);
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-primary);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  min-width: 120px;
  
  &:hover:not(:disabled) {
    background-color: var(--color-accent);
    border-color: var(--color-accent);
    transform: translateY(-1px);
  }
  
  &:disabled {
    background-color: var(--color-text-tertiary);
    border-color: var(--color-text-tertiary);
    cursor: not-allowed;
  }
`,tW=w.button`
  background-color: var(--color-background);
  color: var(--color-text-primary);
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  min-width: 120px;
  
  &:hover {
    background-color: var(--color-surface);
    border-color: var(--color-primary);
    transform: translateY(-1px);
  }
`,rW=({isOpen:e,title:t,message:r,onConfirm:n,onCancel:o,confirmText:a="OK",cancelText:i="キャンセル"})=>e?s.jsx(QU,{onClick:o,children:s.jsxs(GU,{onClick:l=>l.stopPropagation(),children:[t&&s.jsx(XU,{children:t}),s.jsx(JU,{children:r}),s.jsxs(ZU,{children:[s.jsx(tW,{onClick:o,children:i}),s.jsx(eW,{onClick:n,children:a})]})]})}):null,nW=w.span`
  display: inline-flex;
  align-items: center;
  padding: 4px 12px;
  border-radius: 16px;
  font-size: 0.85rem;
  font-weight: 500;
  background-color: ${e=>e.color||"#6B7280"}15;
  color: ${e=>e.color||"#6B7280"};
  border: 1px solid ${e=>e.color||"#6B7280"}40;
  margin-right: 6px;
  margin-bottom: 6px;
  white-space: nowrap;
  transition: all 0.2s;
  cursor: ${e=>e.onClick?"pointer":"default"};

  &:hover {
    ${e=>e.onClick&&`
      background-color: ${e.color||"#6B7280"}25;
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    `}
  }

  ${e=>e.removable&&`
    padding-right: 8px;
  `}
`,oW=w.button`
  background: none;
  border: none;
  color: inherit;
  margin-left: 6px;
  cursor: pointer;
  padding: 0;
  font-size: 1.1rem;
  line-height: 1;
  opacity: 0.6;
  transition: opacity 0.2s;

  &:hover {
    opacity: 1;
  }
`,aW=w.div`
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin: 8px 0;
`,iW=w.span`
  font-size: 0.75rem;
  text-transform: uppercase;
  opacity: 0.7;
  margin-right: 4px;
`,p5=({name:e,category:t,color:r,onClick:n,onRemove:o,showCategory:a=!1})=>{const i=l=>({company:"企業",person:"人物",topic:"話題",emotion:"感情",stage:"ステージ",industry:"業界",product:"製品"})[l]||l;return s.jsxs(nW,{color:r,onClick:n,removable:!!o,children:[a&&t&&s.jsxs(iW,{children:[i(t),": "]}),e,o&&s.jsx(oW,{onClick:l=>{l.stopPropagation(),o()},children:"×"})]})},$x=({tags:e,onTagClick:t,onTagRemove:r,showCategory:n=!1})=>!e||e.length===0?null:s.jsx(aW,{children:e.map((o,a)=>s.jsx(p5,{name:o.name,category:o.category,color:o.color,onClick:t?()=>t(o):null,onRemove:r?()=>r(o):null,showCategory:n},o.id||a))});function h5(e){return ft({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"9",cy:"9",r:"4"},child:[]},{tag:"path",attr:{d:"M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"},child:[]}]})(e)}function sW(e){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(e)}function lW(e){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function cW(e){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function uW(e){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function Qk(e){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function dW(e){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function zx(e){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function fW(e){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function v5(e){return ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function pW(e){return ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function Gk(e){return ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function Xk(e){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function Df(e){return ft({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function hW(e){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function vW(e){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function pd(e){return ft({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function mW(e){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(e)}function m5(e){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function gW(e){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Jk(e){return ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function yW(e){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(e)}function Ru(e){return ft({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function g5(e){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}const xW=w.div`
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 var(--space-6);
  position: relative;
  z-index: 1;

  @media (max-width: 768px) {
    padding: 0 var(--space-4);
  }

  @media (max-width: 480px) {
    padding: 0 var(--space-2);
  }
`,bW=w.div`
  padding: var(--space-6);
  margin-bottom: var(--space-6);
  background-color: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-structure);
  position: relative;
  
  @media (max-width: 768px) {
    padding: var(--space-5);
    margin-bottom: var(--space-5);
  }

  @media (max-width: 480px) {
    padding: var(--space-4);
    margin-bottom: var(--space-4);
    border-radius: var(--radius-md);
  }
`,wW=w.h1`
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-thin);
  color: var(--color-primary);
  margin-bottom: var(--space-5);
  letter-spacing: -0.025em;
  line-height: var(--line-height-compressed);
  position: relative;
  
  /* Removed excessive underline accent */

  @media (max-width: 768px) {
    font-size: var(--font-size-heading);
    
    &::after {
      width: 40px;
    }
  }
`,SW=w.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-5);
  margin-top: var(--space-6);
  position: relative;

  &.report-buttons {
    grid-template-columns: repeat(3, 1fr);
    
    @media (max-width: 1200px) {
      grid-template-columns: repeat(2, 1fr);
    }
    
    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    gap: var(--space-4);
    margin-top: var(--space-4);
  }

  @media (max-width: 480px) {
    gap: var(--space-3);
    padding: 0;
  }
`,Zk=w.button`
  background-color: var(--color-accent);
  color: var(--color-text-inverse);
  border: 2px solid var(--color-accent);
  padding: var(--space-4) var(--space-6);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-3);
  box-shadow: var(--shadow-elevation);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  position: relative;
  min-height: 56px;
  
  &:hover:not(:disabled) {
    background-color: var(--color-accent-hover);
    border-color: var(--color-accent-hover);
    box-shadow: var(--shadow-structure);
    transform: translateY(-1px);
  }
  
  &:disabled {
    background-color: var(--color-text-tertiary);
    border-color: var(--color-text-tertiary);
    cursor: not-allowed;
    transform: none;
  }
  
  @media (max-width: 768px) {
    padding: var(--space-4) var(--space-5);
    font-size: var(--font-size-micro);
    min-height: 48px;
    width: 100%;
  }

  @media (max-width: 480px) {
    padding: var(--space-3) var(--space-4);
    font-size: var(--font-size-micro);
    min-height: 44px;
    width: 100%;
  }
`,Ti=w.button`
  background-color: var(--color-background);
  color: var(--color-text-primary);
  border: 2px solid var(--color-border);
  padding: var(--space-4) var(--space-6);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-3);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  position: relative;
  min-height: 56px;
  
  &:hover {
    background-color: var(--color-surface);
    border-color: var(--color-primary);
    color: var(--color-primary);
    box-shadow: var(--shadow-elevation);
    transform: translateY(-1px);
  }
  
  @media (max-width: 768px) {
    padding: var(--space-4) var(--space-5);
    font-size: var(--font-size-micro);
    min-height: 48px;
    width: 100%;
  }
  
  @media (max-width: 480px) {
    padding: var(--space-3) var(--space-4);
    font-size: var(--font-size-micro);
    min-height: 44px;
    width: 100%;
  }
`,jW=w.div`
  padding: var(--space-6);
  margin-top: var(--space-5);
  background-color: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-structure);
  position: relative;

  @media (max-width: 768px) {
    padding: var(--space-5);
    margin-top: var(--space-4);
  }
  
  @media (max-width: 480px) {
    padding: var(--space-4);
    margin-top: var(--space-3);
    border-radius: var(--radius-md);
  }
`,kW=w.h2`
  font-size: var(--font-size-heading);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin-bottom: var(--space-6);
  letter-spacing: -0.02em;
  text-transform: uppercase;
  position: relative;
  
  /* Removed excessive underline accent */

  @media (max-width: 768px) {
    font-size: var(--font-size-title);
    margin-bottom: var(--space-5);
    
    &::after {
      width: 30px;
    }
  }
`,CW=w.div`
  margin-bottom: var(--space-4);
  padding: var(--space-5);
  background: white;
  border: 2px solid var(--color-primary);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-structure);

  @media (max-width: 768px) {
    padding: var(--space-4);
  }
`,PW=w.div`
  position: relative;
  margin-bottom: var(--space-4);

  svg {
    position: absolute;
    left: var(--space-4);
    top: 50%;
    transform: translateY(-50%);
    color: var(--color-text-secondary);
    pointer-events: none;
  }

  input {
    width: 100%;
    padding: var(--space-4) var(--space-4) var(--space-4) calc(var(--space-4) * 3);
    border: 2px solid var(--color-border);
    background: var(--color-background);
    border-radius: var(--radius-none);
    font-size: var(--font-size-base);
    color: var(--color-text);
    transition: all 0.3s ease;
    font-weight: var(--font-weight-medium);

    &:focus {
      outline: none;
      border-color: var(--color-primary);
      background: white;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    &::placeholder {
      color: var(--color-text-secondary);
      font-weight: var(--font-weight-normal);
    }
  }
`,AW=w.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-4);
  margin-bottom: var(--space-4);

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`,eC=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-2);

  label {
    font-size: var(--font-size-small);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  input[type="date"] {
    padding: var(--space-3) var(--space-4);
    border: 2px solid var(--color-border);
    background: var(--color-background);
    border-radius: var(--radius-none);
    font-size: var(--font-size-base);
    color: var(--color-text);
    transition: all 0.3s ease;
    font-weight: var(--font-weight-medium);

    &:focus {
      outline: none;
      border-color: var(--color-primary);
      background: white;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
  }
`,OW=w.div`
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;

  @media (max-width: 768px) {
    gap: var(--space-2);
  }
`,If=w.button`
  padding: var(--space-2) var(--space-4);
  border: 2px solid ${e=>e.active?"var(--color-primary)":"var(--color-border)"};
  background: ${e=>e.active?"var(--color-primary)":"var(--color-background)"};
  color: ${e=>e.active?"white":"var(--color-text)"};
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 0.05em;

  &:hover {
    background: ${e=>e.active?"var(--color-primary)":"var(--color-surface)"};
    border-color: var(--color-primary);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  &:active {
    transform: translateY(0);
  }
`,_W=w.button`
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-primary);
  background: transparent;
  color: var(--color-primary);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-top: var(--space-3);
  width: 100%;

  &:hover {
    background: var(--color-surface);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  &:active {
    transform: translateY(0);
  }
`,EW=w.div`
  margin-bottom: var(--space-6);
  padding: var(--space-5);
  background-color: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);

  @media (max-width: 768px) {
    padding: var(--space-4);
    margin-bottom: var(--space-5);
  }
`,TW=w.h3`
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-4);
  font-weight: var(--font-weight-bold);
  text-transform: uppercase;
  letter-spacing: 0.08em;
`,MW=w.div`
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
`,$W=w.div`
  display: flex;
  gap: var(--space-3);
  align-items: center;
  margin-bottom: var(--space-3);
  flex-wrap: wrap;
`,zW=w.div`
  display: flex;
  gap: var(--space-2);
  align-items: center;
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
`,tC=w.button`
  padding: var(--space-2) var(--space-3);
  border: 2px solid ${e=>e.active?"var(--color-accent)":"var(--color-border)"};
  background: ${e=>e.active?"var(--color-accent-light)":"transparent"};
  color: ${e=>e.active?"var(--color-primary)":"var(--color-text)"};
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  border-radius: var(--radius-none);
  transition: all 0.2s;

  &:hover {
    border-color: var(--color-accent);
    background: var(--color-accent-light);
  }
`,DW=w.button`
  padding: var(--space-2) var(--space-3);
  border: 2px solid var(--color-border);
  background: transparent;
  color: var(--color-text);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  border-radius: var(--radius-none);
  transition: all 0.2s;

  &:hover {
    border-color: var(--color-accent);
    color: var(--color-accent);
  }
`,IW=w.button`
  background: transparent;
  border: none;
  color: var(--color-primary);
  font-size: var(--font-size-micro);
  cursor: pointer;
  padding: var(--space-2) 0;
  text-decoration: underline;
  transition: color 0.2s;

  &:hover {
    color: var(--color-accent);
  }
`,rC=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
`,nC=w.div`
  margin-bottom: var(--space-6);
`,Wg=w.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-3) var(--space-4);
  background-color: var(--color-background);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-none);
  margin-bottom: var(--space-3);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  font-size: var(--font-size-small);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  cursor: ${e=>e.clickable?"pointer":"default"};
  transition: all 0.2s ease-in-out;
  
  &:hover {
    ${e=>e.clickable&&`
      background-color: var(--color-surface);
      border-color: var(--color-primary);
    `}
  }
`,oC=w.span`
  font-size: var(--font-size-micro);
  color: var(--color-text-secondary);
  font-weight: var(--font-weight-medium);
`;w.button`
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  background-color: transparent;
  border: none;
  color: var(--color-primary);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  
  &:hover {
    color: var(--color-accent);
  }
  
  svg {
    width: 16px;
    height: 16px;
    transition: transform 0.2s ease-in-out;
    transform: ${e=>e.expanded?"rotate(90deg)":"rotate(0)"};
  }
`;const aC=w.div`
  padding: var(--space-5);
  background-color: var(--color-background);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  box-shadow: var(--shadow-paper);
  position: relative;

  &:hover {
    box-shadow: var(--shadow-elevation);
    border-color: var(--color-accent);
    transform: translateY(-1px);
  }
  
  /* Removed excessive corner accent */

  @media (max-width: 768px) {
    padding: var(--space-4);
  }
`,iC=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-3);
  flex-wrap: wrap;
  gap: var(--space-3);

  @media (max-width: 768px) {
    margin-bottom: var(--space-4);
  }
`,sC=w.div`
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  font-size: var(--font-size-body);

  @media (max-width: 768px) {
    font-size: var(--font-size-small);
  }
`,lC=w.span`
  padding: var(--space-2) var(--space-4);
  font-size: var(--font-size-micro);
  font-weight: var(--font-weight-medium);
  border-radius: var(--radius-none);
  border: 1px solid;
  background-color: ${e=>e.status==="completed"?"rgba(45, 125, 50, 0.1)":"var(--color-accent-light)"};
  color: ${e=>e.status==="completed"?"var(--color-success)":"var(--color-accent)"};
  border-color: ${e=>e.status==="completed"?"var(--color-success)":"var(--color-accent)"};
  text-transform: uppercase;
  letter-spacing: 0.08em;
`,cC=w.div`
  color: var(--color-text-secondary);
  line-height: var(--line-height-standard);
  font-size: var(--font-size-small);

  @media (max-width: 768px) {
    font-size: var(--font-size-small);
  }
`,RW=w.div`
  text-align: center;
  padding: var(--space-8);
  color: var(--color-text-secondary);
  font-size: var(--font-size-body);
`,NW=w.div`
  background-color: var(--color-accent-light);
  border: 2px solid var(--color-accent);
  border-left: 6px solid var(--color-accent);
  padding: var(--space-5);
  border-radius: var(--radius-none);
  margin-bottom: var(--space-6);
  color: var(--color-primary);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  box-shadow: var(--shadow-elevation);
  position: relative;
  line-height: var(--line-height-comfortable);
  
  /* Removed quote mark and corner detail for cleaner look */

  @media (max-width: 768px) {
    padding: var(--space-4);
    font-size: var(--font-size-small);
    border-left-width: 4px;
    
    &::before {
      font-size: var(--font-size-title);
    }
    
    &::after {
      width: 8px;
      height: 8px;
    }
  }
`,LW=w.div`
  display: flex;
  gap: var(--space-3);
  margin-bottom: var(--space-6);
  border-bottom: 2px solid var(--color-border);
  position: relative;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  
  @media (max-width: 480px) {
    gap: var(--space-2);
    margin-bottom: var(--space-4);
  }
`,qg=w.button`
  padding: var(--space-4) var(--space-5);
  border: none;
  background: none;
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: ${e=>e.active?"var(--color-primary)":"var(--color-text-secondary)"};
  border-bottom: 3px solid ${e=>e.active?"var(--color-accent)":"transparent"};
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  white-space: nowrap;

  &:hover {
    color: var(--color-accent);
  }
  
  @media (max-width: 480px) {
    padding: var(--space-3) var(--space-4);
    font-size: var(--font-size-micro);
  }
`,FW=w.div`
  display: flex;
  gap: var(--space-4);
  margin-bottom: var(--space-5);
  flex-wrap: wrap;
  
  @media (max-width: 768px) {
    gap: var(--space-3);
    margin-bottom: var(--space-4);
  }
  
  @media (max-width: 480px) {
    gap: var(--space-2);
    margin-bottom: var(--space-3);
  }
`,BW=w.button`
  padding: var(--space-3) var(--space-4);
  border: 2px solid ${e=>e.selected?"var(--color-accent)":"var(--color-border)"};
  background-color: ${e=>e.selected?"var(--color-accent-light)":"var(--color-background)"};
  color: ${e=>e.selected?"var(--color-primary)":"var(--color-text-primary)"};
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  position: relative;

  &:hover {
    border-color: var(--color-accent);
    background-color: var(--color-accent-light);
    color: var(--color-primary);
    transform: translateY(-1px);
  }
  
  @media (max-width: 768px) {
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-micro);
  }
  
  @media (max-width: 480px) {
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-micro);
    flex: 1 1 calc(50% - var(--space-2));
    min-width: 0;
  }
`,UW=()=>{const e=Kt();ga();const{user:t,isManager:r}=oo(),n=ji(),[o]=Le.useState(navigator.onLine),[a,i]=m.useState("self"),[l,c]=m.useState([]),[d,u]=m.useState(!1),[f,p]=m.useState(!1),[h,g]=m.useState(!1),[x,y]=m.useState({}),[v,S]=m.useState({isOpen:!1,message:"",onConfirm:null}),[b,j]=m.useState(!1),[k,C]=m.useState([]),[O,D]=m.useState(!1),[I,K]=m.useState([]),[X,H]=m.useState([]),[T,R]=m.useState("OR"),[G,Q]=m.useState(!1),[se,re]=m.useState(""),[$,V]=m.useState(""),[U,M]=m.useState(""),[ee,ae]=m.useState("all"),{data:pe}=Or({queryKey:["teamMembers"],queryFn:()=>Bd.getTeamMembers(),enabled:r}),{data:ge=[],isLoading:ke,error:Te,isFetching:ce}=Or({queryKey:["popularTags"],queryFn:async()=>{console.log("[HomePage] Fetching popular tags...");const z=await Ur.getPopular(15);return console.log("[HomePage] Popular tags result:",z),z},staleTime:0,refetchOnMount:!0}),{data:me=[]}=Or({queryKey:["allTags"],queryFn:async()=>{console.log("[HomePage] Fetching all tags...");const z=await Ur.getAll(null,100);return console.log("[HomePage] All tags result:",z),z},staleTime:0,refetchOnMount:!0});m.useEffect(()=>{console.log("HomePage mounted - Invalidating tag caches..."),n.invalidateQueries(["popularTags"]),n.invalidateQueries(["allTags"])},[]),m.useEffect(()=>{console.log("[HomePage] Popular tags state:",{popularTags:ge,tagsCount:ge.length,isLoadingTags:ke,isFetchingTags:ce,tagsError:Te})},[ge,ke,ce,Te]);const{data:ve,isLoading:ie}=Or({queryKey:["reports",a,l],queryFn:()=>!r||a==="self"?an.getReports({limit:50}):a==="team"?an.getTeamReports({limit:50}):an.getTeamReports({userIds:l,limit:50}),enabled:o});m.useMemo(()=>{if(!ve||ve.length===0)return{recent:[],archives:{}};const z=Eh(new Date),L=new Date(z);L.setDate(L.getDate()-7);const P=[],E={};ve.forEach(ne=>{const de=Ks(ne.report_date);if(zk(z,de)<7)P.push(ne);else{const fe=rn(de,"yyyy年MM月",{locale:Vo});E[fe]||(E[fe]=[]),E[fe].push(ne)}});const B={};return P.forEach(ne=>{const de=rn(Ks(ne.report_date),"yyyy-MM-dd");B[de]||(B[de]=[]),B[de].push(ne)}),{recent:Object.keys(B).sort((ne,de)=>de.localeCompare(ne)).map(ne=>({date:ne,displayDate:rn(Ks(ne),"MM月dd日(E)",{locale:Vo}),reports:B[ne]})),archives:E}},[ve]);const Be=z=>{const L=new Date;switch(L.setHours(0,0,0,0),z){case"today":return{start:L,end:new Date(L.getTime()+24*60*60*1e3)};case"week":const P=new Date(L);return P.setDate(P.getDate()-7),{start:P,end:new Date};case"month":const E=new Date(L);return E.setMonth(E.getMonth()-1),{start:E,end:new Date};case"all":default:return null}};m.useEffect(()=>{(async()=>{let L=ve||[];if(I.length>0)try{const E=I.map(oe=>oe.id).join(","),B=await Ur.searchReports(E,t==null?void 0:t.id);if(T==="AND"&&I.length>1){const oe=I.map(le=>le.id);L=B.filter(le=>{if(!le.tags||le.tags.length===0)return!1;const ne=le.tags.map(de=>de.id);return oe.every(de=>ne.includes(de))})}else L=B}catch(E){console.error("Tag filtering error:",E),q.error("タグ絞り込みに失敗しました")}if(se.trim()){const E=se.toLowerCase();L=L.filter(B=>{var Ue,Me,at,Ee,Jr,yt;const oe=(Ue=B.customer)==null?void 0:Ue.toLowerCase().includes(E),le=(Me=B.project)==null?void 0:Me.toLowerCase().includes(E),ne=(at=B.next_action)==null?void 0:at.toLowerCase().includes(E),de=(Ee=B.issues)==null?void 0:Ee.toLowerCase().includes(E),Ae=(Jr=B.location)==null?void 0:Jr.toLowerCase().includes(E),fe=(yt=B.tags)==null?void 0:yt.some(Fn=>{var io;return(io=Fn.name)==null?void 0:io.toLowerCase().includes(E)});return oe||le||ne||de||Ae||fe})}let P=null;ee!=="all"?P=Be(ee):($||U)&&(P={start:$?new Date($):null,end:U?new Date(U):null},P.end&&P.end.setHours(23,59,59,999)),P&&(P.start||P.end)&&(L=L.filter(E=>{const B=new Date(E.report_date);return!(P.start&&B<P.start||P.end&&B>P.end)})),H(L)})()},[I,t,T,se,$,U,ee,ve]);const _e=I.length>0||se.trim()||$||U||ee!=="all",Se=_e?X:ve,De=m.useMemo(()=>{if(!Se||Se.length===0)return{recent:[],archives:{}};const z=Eh(new Date),L=new Date(z);L.setDate(L.getDate()-7);const P=[],E={};Se.forEach(ne=>{const de=Ks(ne.report_date);if(zk(z,de)<7)P.push(ne);else{const fe=rn(de,"yyyy年MM月",{locale:Vo});E[fe]||(E[fe]=[]),E[fe].push(ne)}});const B={};return P.forEach(ne=>{const de=rn(Ks(ne.report_date),"yyyy-MM-dd");B[de]||(B[de]=[]),B[de].push(ne)}),{recent:Object.keys(B).sort((ne,de)=>de.localeCompare(ne)).map(ne=>({date:ne,displayDate:rn(Ks(ne),"MM月dd日(E)",{locale:Vo}),reports:B[ne]})),archives:E}},[Se]),Qe=async z=>{try{const L=(ve==null?void 0:ve.filter(E=>{const B=new Date(E.report_date).toDateString(),oe=new Date().toDateString();return B===oe}))||[],P=L.find(E=>E.status==="draft");if(P){S({isOpen:!0,title:"日報の作成",message:`本日${L.length}件目の日報が下書きの状態です。
新しい日報を作成しますか？`,confirmText:"新規作成",cancelText:"下書きを編集",onConfirm:()=>{S({isOpen:!1}),ot(z)},onCancel:()=>{S({isOpen:!1}),e(`/reports/${P.id}/edit`)}});return}else if(L.length>0){S({isOpen:!0,title:"日報の作成",message:`本日既に${L.length}件の日報があります。
別の企業を訪問した日報を作成しますか？`,confirmText:"作成する",cancelText:"キャンセル",onConfirm:()=>{S({isOpen:!1}),ot(z)},onCancel:()=>{S({isOpen:!1})}});return}ot(z)}catch(L){console.error("Error checking today report:",L),ot(z)}},ot=async z=>{if(z==="meeting")u(!0);else if(z==="voice"&&o){D(!0);try{const L=await bo.getAll();C(L),j(!0)}catch(L){console.error("Error loading hearing settings:",L),e("/hearing")}finally{D(!1)}}else e(z==="realtime-voice"&&o?"/hearing/realtime":"/hearing?mode=text")},Ut=z=>{e(z?`/hearing?settingId=${z}`:"/hearing"),j(!1)},A=z=>{e(`/reports/${z}`)},_=()=>{if(!ve||ve.length===0)return"日報を作成して、営業活動を記録しましょう";const z=[];(()=>{try{const Ee=localStorage.getItem("actionCompletionStates"),Jr=localStorage.getItem("currentActionsList");if(Jr)try{const yt=JSON.parse(Jr),Fn=Ee?JSON.parse(Ee):{};let io=0,Km=0;yt.forEach(Ym=>{const yS=`${Ym.reportId}_${Ym.text}`;(Fn[yS]!==void 0?Fn[yS]:Ym.completed)?Km++:io++});const gS=yt.length;io>0?io===1?z.push("未完了のアクションが1件あります。マイ分析ページで確認してください"):io<=3?z.push(`未完了のアクションが${io}件あります。忘れずに対応しましょう`):z.push(`未完了のアクションが${io}件溜まっています。優先順位をつけて進めましょう`):gS>0&&z.push(`全${gS}件のアクションが完了しています！素晴らしい進捗です`)}catch(yt){console.error("Error parsing actions list:",yt)}else if(Ee){const yt=JSON.parse(Ee);Object.entries(yt).filter(([io,Km])=>!Km).length>0&&z.push("未完了のアクションがあります。マイ分析ページで確認してください")}}catch(Ee){console.error("Error reading action states:",Ee)}})();const P={},E=ve.slice(0,30),B=ve.slice(0,10);E.forEach(Ee=>{Ee.customer&&(P[Ee.customer]=(P[Ee.customer]||0)+1)});const oe=new Set(B.map(Ee=>Ee.customer).filter(Boolean)),le=Object.keys(P).filter(Ee=>P[Ee]>=2&&!oe.has(Ee));le.length>0&&z.push(`最近${le[0]}への訪問が減っています。フォローアップしましょう`);const ne=ve.slice(0,10).filter(Ee=>Ee.status==="completed").length/Math.min(ve.length,10),de=ve.filter(Ee=>Ee.status==="completed").length/ve.length;ne>de&&ne>=.8?z.push("最近の日報完了率が向上しています！この調子で頑張りましょう"):ne<.5&&z.push("下書きの日報が多くなっています。完了することを忘れずに！");const Ae=new Date().toDateString();ve.find(Ee=>new Date(Ee.report_date).toDateString()===Ae)||z.push("本日の日報がまだ作成されていません。忘れずに記録しましょう");const Ue={};E.forEach(Ee=>{Ee.project&&(Ue[Ee.project]=(Ue[Ee.project]||0)+1)});const Me=Object.entries(Ue).filter(([Ee,Jr])=>Jr>=3).sort((Ee,Jr)=>Jr[1]-Ee[1]);Me.length>0&&z.push(`「${Me[0][0]}」案件が活発です。進捗を確実に記録しましょう`),z.length===0&&z.push("順調に日報を作成できています。この調子で続けましょう！");const at=z.filter(Ee=>Ee.includes("アクション"));return at.length>0?at[Math.floor(Math.random()*at.length)]:z[Math.floor(Math.random()*z.length)]},W=z=>{c(L=>L.includes(z)?L.filter(P=>P!==z):[...L,z])},N=async z=>{try{let L="";if(z.type==="text")L=z.content;else if(z.type==="file"){q.info("ファイルをアップロード中...");const B=await ik.uploadFile(z.formData);if(!B.success)throw new Error(B.message||"ファイルアップロードに失敗しました");q.success("ファイルアップロード完了。処理中...");const oe=await ik.processFile(B.file.id,z.fileType);if(!oe.success)throw new Error(oe.message||"ファイル処理に失敗しました");L=oe.extractedText,q.success("ファイル処理完了")}const P={type:"text",content:L},E=await Qo.startMeetingNotes(P);e(`/hearing?mode=meeting&sessionId=${E.sessionId}`,{state:{meetingContent:L,extractedInfo:E.extractedInfo}}),u(!1)}catch(L){console.error("Error processing meeting notes:",L),q.error(L.message||"議事録の処理に失敗しました")}},Y=async z=>{try{const L={...z,crmActionType:z.actionType};if(z.meetingNotes){const P={type:"text",content:z.meetingNotes},E=await Qo.startMeetingNotes(P);e(`/hearing?mode=meeting&sessionId=${E.sessionId}`,{state:{dynamics365Data:L,initialContext:z.meetingNotes}})}else e("/hearing?mode=dynamics365",{state:{dynamics365Data:L}});p(!1)}catch(L){console.error("Error processing Dynamics 365 data:",L),q.error("Dynamics 365データの処理に失敗しました")}},J=async z=>{try{const L={...z,crmActionType:z.actionType};if(z.meetingNotes){const P={type:"text",content:z.meetingNotes},E=await Qo.startMeetingNotes(P);e(`/hearing?mode=meeting&sessionId=${E.sessionId}`,{state:{salesforceData:L,initialContext:z.meetingNotes}})}else e("/hearing?mode=salesforce",{state:{salesforceData:L}});g(!1)}catch(L){console.error("Error processing Salesforce data:",L),q.error("Salesforceデータの処理に失敗しました")}};return s.jsxs(xW,{children:[s.jsxs(bW,{children:[s.jsxs(wW,{children:["こんにちは、",t==null?void 0:t.name,"さん"]}),!r&&s.jsx(NW,{children:s.jsx("span",{children:_()})}),r&&s.jsxs(s.Fragment,{children:[s.jsxs(LW,{children:[s.jsx(qg,{active:a==="self",onClick:()=>i("self"),children:"自分"}),s.jsx(qg,{active:a==="team",onClick:()=>i("team"),children:"チーム全体"}),s.jsx(qg,{active:a==="individual",onClick:()=>i("individual"),children:"個別選択"})]}),a==="individual"&&pe&&s.jsx(FW,{children:pe.map(z=>s.jsx(BW,{selected:l.includes(z.id),onClick:()=>W(z.id),children:z.name},z.id))})]}),(!r||a==="self")&&s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"日報を作成しますか？"}),s.jsxs(SW,{className:"report-buttons",children:[s.jsxs(Zk,{onClick:()=>Qe("voice"),disabled:!o,children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2s2-.9 2-2V4c0-1.1-.9-2-2-2zm6 6c0 3.31-2.69 6-6 6s-6-2.69-6-6H4c0 4.42 3.17 8.09 7.31 8.71V20h-2v2h5.38v-2h-2v-2.29C16.83 16.09 20 12.42 20 8h-2z"})}),"音声で開始"]}),s.jsxs(Zk,{onClick:()=>Qe("realtime-voice"),disabled:!o,children:[s.jsx(h5,{size:22}),"リアルタイム音声会話で開始"]}),s.jsxs(Ti,{onClick:()=>e("/hearing/settings"),children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"})}),"ヒアリング設定管理"]}),s.jsxs(Ti,{onClick:()=>e("/tags/analytics"),children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),"タグ分析"]}),s.jsxs(Ti,{onClick:()=>e("/tags/manage"),children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})}),"タグ管理"]}),s.jsxs(Ti,{onClick:()=>Qe("text"),children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})}),"テキストで開始"]}),s.jsxs(Ti,{onClick:()=>Qe("meeting"),children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})}),"議事録で開始"]}),s.jsxs(Ti,{onClick:()=>p(!0),children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"#0078d4",children:[s.jsx("rect",{x:"1",y:"1",width:"9",height:"9",rx:"1"}),s.jsx("rect",{x:"14",y:"1",width:"9",height:"9",rx:"1"}),s.jsx("rect",{x:"1",y:"14",width:"9",height:"9",rx:"1"}),s.jsx("rect",{x:"14",y:"14",width:"9",height:"9",rx:"1"})]}),"Dynamics 365から開始"]}),s.jsxs(Ti,{onClick:()=>g(!0),children:[s.jsx(f5,{size:20,color:"#00A1E0"}),"Salesforceから開始"]})]})]}),(a==="team"||a==="individual")&&s.jsx("div",{style:{padding:"var(--space-6)",textAlign:"center",color:"var(--color-text-secondary)",fontSize:"var(--font-size-small)"},children:a==="team"?"チーム全体の日報を表示しています":l.length===0?"メンバーを選択してください":`選択した${l.length}名の日報を表示しています`})]}),s.jsxs(jW,{children:[s.jsx(kW,{children:"最近の日報"}),s.jsxs(CW,{children:[s.jsxs(PW,{children:[s.jsx(gW,{}),s.jsx("input",{type:"text",placeholder:"顧客名、案件名、タグ、場所などで検索...",value:se,onChange:z=>re(z.target.value)})]}),s.jsxs(OW,{children:[s.jsx(If,{active:ee==="today",onClick:()=>{ae("today"),V(""),M("")},children:"今日"}),s.jsx(If,{active:ee==="week",onClick:()=>{ae("week"),V(""),M("")},children:"今週"}),s.jsx(If,{active:ee==="month",onClick:()=>{ae("month"),V(""),M("")},children:"今月"}),s.jsx(If,{active:ee==="all",onClick:()=>{ae("all"),V(""),M("")},children:"すべて"})]}),s.jsxs(AW,{children:[s.jsxs(eC,{children:[s.jsx("label",{children:"開始日"}),s.jsx("input",{type:"date",value:$,onChange:z=>{V(z.target.value),ae("all")}})]}),s.jsxs(eC,{children:[s.jsx("label",{children:"終了日"}),s.jsx("input",{type:"date",value:U,onChange:z=>{M(z.target.value),ae("all")}})]})]}),_e&&s.jsxs(_W,{onClick:()=>{re(""),V(""),M(""),ae("all"),K([])},children:["すべてのフィルターをクリア ",_e&&`(${(se.trim()?1:0)+($||U?1:0)+(ee!=="all"?1:0)+I.length}個の条件)`]})]}),((ge==null?void 0:ge.length)>0||(me==null?void 0:me.length)>0)&&s.jsxs(EW,{children:[s.jsx(TW,{children:"タグで絞り込み"}),s.jsxs($W,{children:[s.jsxs(zW,{children:[s.jsx("span",{children:"検索モード:"}),s.jsx(tC,{active:T==="OR",onClick:()=>R("OR"),children:"OR (いずれか)"}),s.jsx(tC,{active:T==="AND",onClick:()=>R("AND"),children:"AND (すべて)"})]}),(me==null?void 0:me.length)>0&&(ge==null?void 0:ge.length)>0&&me.length>ge.length&&s.jsxs(DW,{onClick:()=>Q(!G),children:[G?"人気タグのみ表示":"すべてのタグを表示"," (",me.length,"個)"]}),I.length>0&&s.jsxs(IW,{onClick:()=>K([]),children:["フィルターをクリア (",I.length,"個選択中)"]})]}),s.jsx(MW,{children:(G?me||[]:ge||[]).map(z=>s.jsx(p5,{name:z.name,category:z.category,color:z.color,onClick:()=>{const L=I.some(P=>P.id===z.id);K(L?I.filter(P=>P.id!==z.id):[...I,z])},onRemove:I.some(L=>L.id===z.id)?()=>{K(I.filter(L=>L.id!==z.id))}:null},z.id))})]}),ie?s.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"var(--space-8)"},children:s.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid var(--color-border)",borderTop:"3px solid var(--color-accent)",borderRadius:"50%",animation:"spin 1s infinite linear"}})}):De.recent.length>0||Object.keys(De.archives).length>0?s.jsxs("div",{children:[De.recent.map(z=>s.jsxs(nC,{children:[s.jsxs(Wg,{children:[s.jsx("span",{children:z.displayDate}),s.jsxs(oC,{children:[z.reports.length,"件"]})]}),s.jsx(rC,{children:z.reports.map(L=>s.jsxs(aC,{onClick:()=>A(L.id),children:[s.jsxs(iC,{children:[s.jsxs(sC,{children:[L.created_at?rn(new Date(L.created_at),"HH:mm",{locale:Vo}):"",L.daily_sequence&&L.daily_sequence>1&&s.jsxs("span",{style:{marginLeft:"8px",fontSize:"var(--font-size-small)",color:"var(--color-accent)",fontWeight:"var(--font-weight-bold)"},children:["(",L.daily_sequence,"件目)"]})]}),s.jsx(lC,{status:L.status,children:L.status==="completed"?"完了":"下書き"})]}),s.jsxs(cC,{children:[L.customer&&`顧客: ${L.customer}`,L.project&&` / 案件: ${L.project}`,r&&L.user_name&&` (${L.user_name})`]}),L.tags&&L.tags.length>0&&s.jsx("div",{style:{marginTop:"var(--space-3)"},children:s.jsx($x,{tags:L.tags.slice(0,5),onTagClick:P=>{I.some(B=>B.id===P.id)||K([...I,P])}})})]},L.id))})]},z.date)),Object.keys(De.archives).length>0&&s.jsxs(nC,{children:[s.jsx(Wg,{style:{marginTop:"var(--space-6)"},children:s.jsx("span",{children:"アーカイブ"})}),Object.entries(De.archives).sort((z,L)=>L[0].localeCompare(z[0])).map(([z,L])=>s.jsxs("div",{style:{marginBottom:"var(--space-4)"},children:[s.jsxs(Wg,{clickable:!0,onClick:()=>y(P=>({...P,[z]:!P[z]})),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",style:{transform:x[z]?"rotate(90deg)":"rotate(0)",transition:"transform 0.2s ease-in-out"},children:s.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})}),s.jsx("span",{children:z})]}),s.jsxs(oC,{children:[L.length,"件"]})]}),x[z]&&s.jsx(rC,{style:{marginTop:"var(--space-3)"},children:L.sort((P,E)=>E.report_date.localeCompare(P.report_date)).map(P=>s.jsxs(aC,{onClick:()=>A(P.id),children:[s.jsxs(iC,{children:[s.jsxs(sC,{children:[rn(new Date(P.report_date),"MM月dd日(E)",{locale:Vo}),P.daily_sequence&&P.daily_sequence>1&&s.jsxs("span",{style:{marginLeft:"8px",fontSize:"var(--font-size-small)",color:"var(--color-accent)",fontWeight:"var(--font-weight-bold)"},children:["(",P.daily_sequence,"件目)"]})]}),s.jsx(lC,{status:P.status,children:P.status==="completed"?"完了":"下書き"})]}),s.jsxs(cC,{children:[P.customer&&`顧客: ${P.customer}`,P.project&&` / 案件: ${P.project}`,r&&P.user_name&&` (${P.user_name})`]}),P.tags&&P.tags.length>0&&s.jsx("div",{style:{marginTop:"var(--space-3)"},children:s.jsx($x,{tags:P.tags.slice(0,5),onTagClick:E=>{I.some(oe=>oe.id===E.id)||K([...I,E])}})})]},P.id))})]},z))]})]}):s.jsx(RW,{children:"まだ日報がありません"})]}),s.jsx(gU,{isOpen:d,onClose:()=>u(!1),onSubmit:N}),s.jsx(EU,{isOpen:f,onClose:()=>p(!1),onSubmit:Y}),s.jsx(YU,{isOpen:h,onClose:()=>g(!1),onSubmit:J}),s.jsx(rW,{isOpen:v.isOpen,title:v.title,message:v.message,confirmText:v.confirmText,cancelText:v.cancelText,onConfirm:v.onConfirm,onCancel:v.onCancel||(()=>S({isOpen:!1}))}),b&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{backgroundColor:"var(--color-surface)",padding:0,borderRadius:"12px",border:"3px solid #ff6b35",maxWidth:"720px",width:"90%",maxHeight:"85vh",overflow:"hidden",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[s.jsxs("div",{style:{background:"linear-gradient(135deg, #ff6b35 0%, #ff8f5a 100%)",padding:"var(--space-5) var(--space-6)",color:"white"},children:[s.jsxs("h2",{style:{fontSize:"var(--font-size-display)",fontWeight:"var(--font-weight-thin)",margin:0,display:"flex",alignItems:"center",gap:"var(--space-3)"},children:[s.jsx(Df,{style:{fontSize:"1.2em"}}),"ヒアリング設定"]}),s.jsx("p",{style:{marginTop:"var(--space-2)",marginBottom:0,fontSize:"var(--font-size-body)",opacity:.95},children:"AIヒアリングの方法を選択してください"})]}),s.jsx("div",{style:{padding:"var(--space-5)",maxHeight:"calc(85vh - 180px)",overflowY:"auto"},children:s.jsxs("div",{style:{display:"grid",gap:"var(--space-4)"},children:[s.jsxs("div",{onClick:()=>Ut(null),style:{padding:"var(--space-5)",background:"linear-gradient(145deg, #fff9f5, #fff4ed)",border:"2px solid #ffb088",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},onMouseOver:z=>{z.currentTarget.style.transform="translateX(8px)",z.currentTarget.style.boxShadow="0 8px 20px rgba(255,107,53,0.2)"},onMouseOut:z=>{z.currentTarget.style.transform="translateX(0)",z.currentTarget.style.boxShadow="none"},children:[s.jsx("div",{style:{position:"absolute",top:"var(--space-3)",right:"var(--space-3)",background:"#ff6b35",color:"white",padding:"var(--space-1) var(--space-3)",borderRadius:"4px",fontSize:"var(--font-size-micro)",fontWeight:"var(--font-weight-bold)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"おすすめ"}),s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"var(--space-4)"},children:[s.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #ff6b35, #ff8f5a)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.5em",flexShrink:0},children:s.jsx(mW,{})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("h3",{style:{fontSize:"var(--font-size-title)",fontWeight:"var(--font-weight-bold)",color:"#ff6b35",marginBottom:"var(--space-2)",margin:0},children:"スタンダード設定"}),s.jsx("p",{style:{fontSize:"var(--font-size-body)",color:"var(--color-text-secondary)",marginBottom:"var(--space-3)",lineHeight:"var(--line-height-relaxed)"},children:"標準的な5つの質問で効率的に日報を作成"}),s.jsxs("div",{style:{display:"flex",gap:"var(--space-4)",fontSize:"var(--font-size-small)",color:"var(--color-text-tertiary)"},children:[s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"var(--space-1)"},children:[s.jsx(Xk,{})," 5問"]}),s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"var(--space-1)"},children:[s.jsx(Df,{})," 音声入力"]}),s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"var(--space-1)"},children:[s.jsx(dW,{})," 約3分"]})]})]})]})]}),k.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{padding:"0 var(--space-2)",fontSize:"var(--font-size-small)",color:"var(--color-text-secondary)",fontWeight:"var(--font-weight-medium)",textTransform:"uppercase",letterSpacing:"0.1em"},children:"カスタム設定"}),k.filter(z=>!z.is_default).slice(-1).map((z,L)=>{const P=z.question_template==="detailed"?"詳細":z.question_template==="quick"?"クイック":z.question_template==="default"?"スタンダード":"カスタム",E=z.input_mode==="voice"?s.jsx(Df,{}):z.input_mode==="text"?s.jsx(Gk,{}):s.jsxs(s.Fragment,{children:[s.jsx(Df,{})," ",s.jsx(Gk,{})]}),B=z.input_mode==="voice"?"音声":z.input_mode==="text"?"テキスト":"音声・テキスト";return s.jsx("div",{onClick:()=>Ut(z.id),style:{padding:"var(--space-4)",backgroundColor:"var(--color-background)",border:"2px solid var(--color-border)",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",position:"relative"},onMouseOver:oe=>{oe.currentTarget.style.transform="translateX(8px)",oe.currentTarget.style.borderColor="#ff6b35",oe.currentTarget.style.backgroundColor="#fffaf8",oe.currentTarget.style.boxShadow="0 4px 12px rgba(255,107,53,0.15)"},onMouseOut:oe=>{oe.currentTarget.style.transform="translateX(0)",oe.currentTarget.style.borderColor="var(--color-border)",oe.currentTarget.style.backgroundColor="var(--color-background)",oe.currentTarget.style.boxShadow="none"},children:s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"var(--space-3)"},children:[s.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #f0f0f0, #e0e0e0)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--color-text-secondary)",fontSize:"1.2em",flexShrink:0},children:s.jsx(zx,{})}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("h3",{style:{fontSize:"var(--font-size-body)",fontWeight:"var(--font-weight-bold)",color:"var(--color-text-primary)",marginBottom:"var(--space-1)",margin:0},children:[P,"テンプレート"]}),z.greeting&&s.jsxs("p",{style:{fontSize:"var(--font-size-small)",color:"var(--color-text-secondary)",marginBottom:"var(--space-2)",lineHeight:"var(--line-height-relaxed)"},children:[z.greeting.substring(0,30),"..."]}),s.jsxs("div",{style:{display:"flex",gap:"var(--space-3)",fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)"},children:[s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"var(--space-1)"},children:[s.jsx(Xk,{})," ",z.max_questions,"問"]}),s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"var(--space-1)"},children:[E," ",B]}),z.enable_follow_up&&s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"var(--space-1)",color:"#4CAF50"},children:[s.jsx(pd,{})," AI拡張"]})]})]}),z.last_used_at&&s.jsxs("div",{style:{position:"absolute",top:"var(--space-2)",right:"var(--space-2)",fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)"},children:[new Date(z.last_used_at).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric"}),"使用"]})]})},z.id)})]})]})}),s.jsx("div",{style:{padding:"var(--space-4) var(--space-5)",borderTop:"1px solid var(--color-border)",display:"flex",justifyContent:"flex-end",backgroundColor:"#f9f9f9"},children:s.jsx("button",{onClick:()=>j(!1),style:{padding:"var(--space-3) var(--space-5)",backgroundColor:"white",color:"var(--color-text-primary)",border:"2px solid var(--color-border)",borderRadius:"6px",fontSize:"var(--font-size-body)",fontWeight:"var(--font-weight-medium)",cursor:"pointer",transition:"all 0.2s"},onMouseOver:z=>{z.currentTarget.style.backgroundColor="#f5f5f5",z.currentTarget.style.borderColor="#ff6b35"},onMouseOut:z=>{z.currentTarget.style.backgroundColor="white",z.currentTarget.style.borderColor="var(--color-border)"},children:"キャンセル"})})]})})]})},je={neutral:{50:"#FAFAFA",100:"#F5F5F5",200:"#E5E5E5",300:"#D4D4D4",400:"#A3A3A3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0A0A0A"},primary:{500:"#8B5CF6"},success:{light:"#99F6E4",main:"#0F766E",dark:"#134E4A"},warning:{light:"#DBEAFE",dark:"#1E40AF"},error:{light:"#FCA5A5",dark:"#DC2626"},info:{light:"#93C5FD",dark:"#2563EB"}},Ge={fontFamily:{sans:'-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Segoe UI", system-ui, -apple-system, sans-serif'},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem","2xl":"1.5rem"},fontWeight:{medium:"500",semibold:"600"},lineHeight:{normal:"1.5",relaxed:"1.75"},letterSpacing:{tight:"-0.025em"}},qe={1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",6:"1.5rem",8:"2rem",12:"3rem"},Ns={md:"0.375rem",lg:"0.5rem",full:"9999px"},Dx={xs:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",sm:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},wc={fast:"150ms ease-in-out"},Zw=w.button`
  font-family: ${Ge.fontFamily.sans};
  font-weight: ${Ge.fontWeight.medium};
  font-size: ${Ge.fontSize.sm};
  line-height: ${Ge.lineHeight.normal};
  padding: ${qe[2]} ${qe[4]};
  border-radius: ${Ns.md};
  transition: all ${wc.fast};
  cursor: pointer;
  border: 1px solid transparent;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: ${qe[2]};

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;w(Zw)`
  background-color: ${je.neutral[900]};
  color: ${je.neutral[50]};
  border-color: ${je.neutral[900]};
  
  &:hover:not(:disabled) {
    background-color: ${je.neutral[800]};
    border-color: ${je.neutral[800]};
  }
  
  &:active:not(:disabled) {
    background-color: ${je.neutral[950]};
    border-color: ${je.neutral[950]};
  }
`;w(Zw)`
  background-color: white;
  color: ${je.neutral[700]};
  border-color: ${je.neutral[200]};
  
  &:hover:not(:disabled) {
    background-color: ${je.neutral[50]};
    border-color: ${je.neutral[300]};
  }
  
  &:active:not(:disabled) {
    background-color: ${je.neutral[100]};
    border-color: ${je.neutral[400]};
  }
`;w(Zw)`
  background-color: transparent;
  color: ${je.neutral[600]};
  border-color: transparent;
  
  &:hover:not(:disabled) {
    background-color: ${je.neutral[100]};
    color: ${je.neutral[900]};
  }
`;w.div`
  background-color: white;
  border-radius: ${Ns.lg};
  border: 1px solid ${je.neutral[200]};
  padding: ${qe[6]};
  box-shadow: ${Dx.sm};
  transition: all ${wc.fast};

  &:hover {
    box-shadow: ${Dx.md};
    border-color: ${je.neutral[300]};
  }
`;w.div`
  margin-bottom: ${qe[4]};
  padding-bottom: ${qe[4]};
  border-bottom: 1px solid ${je.neutral[100]};
`;w.h3`
  font-size: ${Ge.fontSize.lg};
  font-weight: ${Ge.fontWeight.semibold};
  color: ${je.neutral[900]};
  letter-spacing: ${Ge.letterSpacing.tight};
  margin: 0;
`;w.div`
  color: ${je.neutral[700]};
  font-size: ${Ge.fontSize.base};
  line-height: ${Ge.lineHeight.relaxed};
`;w.div`
  margin-bottom: ${qe[4]};
`;w.label`
  display: block;
  font-size: ${Ge.fontSize.sm};
  font-weight: ${Ge.fontWeight.medium};
  color: ${je.neutral[700]};
  margin-bottom: ${qe[1]};
`;w.input`
  width: 100%;
  font-family: ${Ge.fontFamily.sans};
  font-size: ${Ge.fontSize.base};
  color: ${je.neutral[900]};
  background-color: white;
  border: 1px solid ${je.neutral[300]};
  border-radius: ${Ns.md};
  padding: ${qe[2]} ${qe[3]};
  transition: all ${wc.fast};

  &:focus {
    outline: none;
    border-color: ${je.primary[500]};
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
  }

  &:disabled {
    background-color: ${je.neutral[100]};
    color: ${je.neutral[500]};
    cursor: not-allowed;
  }

  &::placeholder {
    color: ${je.neutral[400]};
  }
`;w.textarea`
  width: 100%;
  font-family: ${Ge.fontFamily.sans};
  font-size: ${Ge.fontSize.base};
  color: ${je.neutral[900]};
  background-color: white;
  border: 1px solid ${je.neutral[300]};
  border-radius: ${Ns.md};
  padding: ${qe[2]} ${qe[3]};
  transition: all ${wc.fast};
  min-height: 100px;
  resize: vertical;

  &:focus {
    outline: none;
    border-color: ${je.primary[500]};
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
  }
`;const e1=w.span`
  display: inline-flex;
  align-items: center;
  padding: ${qe[1]} ${qe[2]};
  font-size: ${Ge.fontSize.xs};
  font-weight: ${Ge.fontWeight.medium};
  border-radius: ${Ns.full};
  background-color: ${je.neutral[100]};
  color: ${je.neutral[700]};
  border: 1px solid ${je.neutral[200]};
`;w(e1)`
  background-color: rgba(34, 197, 94, 0.1);
  color: ${je.success.dark};
  border-color: ${je.success.light};
`;w(e1)`
  background-color: rgba(245, 158, 11, 0.1);
  color: ${je.warning.dark};
  border-color: ${je.warning.light};
`;w(e1)`
  background-color: rgba(239, 68, 68, 0.1);
  color: ${je.error.dark};
  border-color: ${je.error.light};
`;w.ul`
  list-style: none;
  padding: 0;
  margin: 0;
`;w.li`
  padding: ${qe[3]} ${qe[4]};
  border-bottom: 1px solid ${je.neutral[100]};
  transition: background-color ${wc.fast};

  &:hover {
    background-color: ${je.neutral[50]};
  }

  &:last-child {
    border-bottom: none;
  }
`;w.section`
  margin-bottom: ${qe[8]};
`;w.div`
  margin-bottom: ${qe[4]};
`;w.h2`
  font-size: ${Ge.fontSize["2xl"]};
  font-weight: ${Ge.fontWeight.semibold};
  color: ${je.neutral[900]};
  letter-spacing: ${Ge.letterSpacing.tight};
  margin: 0;
`;w.p`
  font-size: ${Ge.fontSize.base};
  color: ${je.neutral[600]};
  margin-top: ${qe[2]};
`;w.div`
  text-align: center;
  padding: ${qe[12]} ${qe[4]};
`;w.div`
  font-size: 3rem;
  color: ${je.neutral[400]};
  margin-bottom: ${qe[4]};
`;w.h3`
  font-size: ${Ge.fontSize.lg};
  font-weight: ${Ge.fontWeight.semibold};
  color: ${je.neutral[900]};
  margin-bottom: ${qe[2]};
`;w.p`
  font-size: ${Ge.fontSize.base};
  color: ${je.neutral[600]};
  max-width: 400px;
  margin: 0 auto;
`;w.div`
  display: flex;
  justify-content: center;
  align-items: center;
  padding: ${qe[8]};
`;w.div`
  width: 40px;
  height: 40px;
  border: 3px solid ${je.neutral[200]};
  border-top-color: ${je.neutral[600]};
  border-radius: 50%;
  animation: spin 0.8s linear infinite;

  @keyframes spin {
    to { transform: rotate(360deg); }
  }
`;w.table`
  width: 100%;
  border-collapse: collapse;
`;w.th`
  font-weight: ${Ge.fontWeight.semibold};
  text-align: left;
  padding: ${qe[3]} ${qe[4]};
  background-color: ${je.neutral[50]};
  border-bottom: 1px solid ${je.neutral[200]};
  color: ${je.neutral[700]};
  font-size: ${Ge.fontSize.sm};
`;w.td`
  padding: ${qe[3]} ${qe[4]};
  border-bottom: 1px solid ${je.neutral[100]};
  color: ${je.neutral[800]};
  font-size: ${Ge.fontSize.base};
`;const Yv=w.div`
  padding: ${qe[3]} ${qe[4]};
  border-radius: ${Ns.md};
  border: 1px solid;
  margin-bottom: ${qe[4]};
`;w(Yv)`
  background-color: rgba(59, 130, 246, 0.05);
  border-color: ${je.info.light};
  color: ${je.info.dark};
`;w(Yv)`
  background-color: rgba(34, 197, 94, 0.05);
  border-color: ${je.success.light};
  color: ${je.success.dark};
`;w(Yv)`
  background-color: rgba(245, 158, 11, 0.05);
  border-color: ${je.warning.light};
  color: ${je.warning.dark};
`;w(Yv)`
  background-color: rgba(239, 68, 68, 0.05);
  border-color: ${je.error.light};
  color: ${je.error.dark};
`;const uC=w.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: var(--space-6);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  background: var(--color-background);
  width: 100%;
  position: relative;
  min-height: 400px;
  box-shadow: var(--shadow-paper);

  @media (max-width: 768px) {
    padding: var(--space-5);
    min-height: 350px;
  }
  
  @media (max-width: 480px) {
    padding: var(--space-4);
    min-height: 320px;
    margin: 0;
  }
  
  @media (max-width: 390px) {
    padding: var(--space-3);
    min-height: 300px;
  }
`,dC=w.button`
  width: 140px;
  height: 140px;
  border-radius: var(--radius-none);
  border: 4px solid ${e=>e.recording?"var(--color-error)":"var(--color-accent)"};
  background: ${e=>e.recording?"var(--color-error)":"var(--color-accent)"};
  color: var(--color-text-inverse);
  font-size: 2.5rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease-in-out;
  position: relative;
  box-shadow: var(--shadow-elevation);
  -webkit-tap-highlight-color: transparent;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  user-select: none;
  touch-action: none; /* preventDefaultを使うため */
  
  /* iOS用の最適化 */
  -webkit-appearance: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;

  &:hover:not(:disabled) {
    transform: scale(1.05);
    box-shadow: var(--shadow-structure);
  }

  &:active:not(:disabled) {
    transform: scale(0.98);
    transition: transform 0.1s;
  }

  &:disabled {
    background: var(--color-text-tertiary);
    border-color: var(--color-text-tertiary);
    cursor: not-allowed;
    box-shadow: var(--shadow-paper);
    opacity: 0.6;
  }

  @media (max-width: 768px) {
    width: 120px;
    height: 120px;
    font-size: 2.2rem;
  }
  
  @media (max-width: 480px) {
    width: 100px;
    height: 100px;
    font-size: 2rem;
    border-width: 3px;
  }
  
  @media (max-width: 390px) {
    width: 90px;
    height: 90px;
    font-size: 1.8rem;
  }
`,WW=w.div`
  position: absolute;
  width: 150px;
  height: 150px;
  border-radius: var(--radius-none);
  border: 3px solid var(--color-error);
  animation: pulse 1.5s infinite;
  pointer-events: none;

  @keyframes pulse {
    0% {
      transform: scale(1);
      opacity: 0.8;
    }
    100% {
      transform: scale(1.3);
      opacity: 0;
    }
  }

  @media (max-width: 768px) {
    width: 130px;
    height: 130px;
  }
  
  @media (max-width: 480px) {
    width: 110px;
    height: 110px;
  }
  
  @media (max-width: 390px) {
    width: 100px;
    height: 100px;
  }
`,Hg=w.p`
  margin-top: var(--space-4);
  color: var(--color-text-secondary);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  text-align: center;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  line-height: var(--line-height-standard);

  @media (max-width: 768px) {
    font-size: var(--font-size-body);
    margin-top: var(--space-3);
  }
  
  @media (max-width: 480px) {
    font-size: var(--font-size-small);
    margin-top: var(--space-3);
    padding: 0 var(--space-2);
  }
`,qW=w.div`
  width: 100%;
  margin-top: var(--space-4);
  
  @media (max-width: 480px) {
    margin-top: var(--space-3);
  }
`,HW=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-2);
  font-size: var(--font-size-small);
  color: var(--color-text-tertiary);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  
  @media (max-width: 480px) {
    flex-direction: column;
    gap: var(--space-2);
    align-items: stretch;
  }
`,VW=w.textarea`
  width: 100%;
  padding: var(--space-4);
  background: var(--color-background);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  min-height: 120px;
  color: var(--color-text-primary);
  font-size: var(--font-size-small);
  resize: vertical;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  line-height: var(--line-height-standard);
  transition: all 0.2s ease-in-out;
  -webkit-appearance: none;
  
  /* iOS用の最適化 */
  -webkit-tap-highlight-color: transparent;
  -webkit-user-select: text;
  border-radius: 0; /* iOSの丸みを無効化 */

  &:focus {
    outline: none;
    border-color: var(--color-accent);
    box-shadow: var(--shadow-focused);
    background: var(--color-surface);
  }

  &:disabled {
    background: var(--color-surface-alt);
    cursor: not-allowed;
    color: var(--color-text-tertiary);
  }

  &::placeholder {
    color: var(--color-text-tertiary);
  }
  
  @media (max-width: 480px) {
    min-height: 100px;
    font-size: var(--font-size-body);
    padding: var(--space-3);
  }
`,KW=w.div`
  width: 100%;
  margin: var(--space-4) 0 var(--space-5) 0;
  padding: var(--space-4);
  font-size: var(--font-size-title);
  color: var(--color-accent);
  min-height: 80px;
  display: ${e=>e.show?"flex":"none"};
  align-items: center;
  justify-content: center;
  font-weight: var(--font-weight-medium);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  text-align: center;
  line-height: var(--line-height-comfortable);
  position: relative;
  background: var(--color-accent-light);
  border: 2px solid var(--color-accent);
  border-radius: var(--radius-none);
  
  &::before {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 3px;
    background: linear-gradient(90deg, 
      transparent 0%, 
      var(--color-primary) 25%, 
      var(--color-primary) 50%, 
      var(--color-primary) 75%, 
      transparent 100%);
    animation: pulse-line 2s ease-in-out infinite;
  }
  
  @keyframes pulse-line {
    0%, 100% {
      opacity: 0.4;
      transform: scaleX(0.8);
    }
    50% {
      opacity: 1;
      transform: scaleX(1.1);
    }
  }

  @media (max-width: 768px) {
    font-size: var(--font-size-body);
    margin: var(--space-3) 0 var(--space-4) 0;
    padding: var(--space-3);
    min-height: 70px;
  }
  
  @media (max-width: 480px) {
    font-size: var(--font-size-small);
    margin: var(--space-3) 0;
    padding: var(--space-3) var(--space-2);
    min-height: 50px;
  }
  
  @media (max-width: 390px) {
    font-size: var(--font-size-small);
    min-height: 45px;
    padding: var(--space-2);
  }
`,YW=w.button`
  padding: var(--space-2) var(--space-3);
  border: 2px solid var(--color-border);
  background: var(--color-background);
  color: var(--color-text-secondary);
  border-radius: var(--radius-none);
  font-size: var(--font-size-micro);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  -webkit-tap-highlight-color: transparent;
  white-space: nowrap;

  &:hover:not(:disabled) {
    background: var(--color-surface);
    border-color: var(--color-accent);
    color: var(--color-accent);
    transform: translateY(-1px);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  @media (max-width: 768px) {
    padding: var(--space-3) var(--space-4);
    font-size: var(--font-size-small);
  }
  
  @media (max-width: 480px) {
    width: 100%;
    justify-self: stretch;
  }
`,QW=({onResult:e,value:t})=>{const[r,n]=m.useState(!1),[o,a]=m.useState(t||""),[i,l]=m.useState(""),[c,d]=m.useState(!1),u=m.useRef(null),[f,p]=m.useState(!1),h=m.useRef(""),g=m.useRef(!1);m.useRef(null);const x=()=>{if(console.log("SpeechRecognitionManager: Internal cleanup stopping..."),g.current=!1,n(!1),l(""),u.current){try{u.current.onend=null,u.current.onresult=null,u.current.onerror=null,u.current.onstart=null,u.current.abort()}catch(j){console.log("SpeechRecognitionManager: Error during cleanup:",j)}u.current=null}};m.useEffect(()=>{("webkitSpeechRecognition"in window||"SpeechRecognition"in window)&&p(!0);const j=()=>{document.hidden&&g.current&&(console.log("Page hidden, stopping recording"),x())};return document.addEventListener("visibilitychange",j),()=>{console.log("SpeechRecognitionManager: Component cleanup"),x(),document.removeEventListener("visibilitychange",j)}},[]),m.useEffect(()=>{a(t||""),h.current=t||""},[t]);const y=()=>{if(!f){q.error("お使いのブラウザは音声入力に対応していません");return}const j=window.SpeechRecognition||window.webkitSpeechRecognition;u.current=new j,u.current.continuous=!0,u.current.interimResults=!0,u.current.lang="ja-JP",u.current.maxAlternatives=1,u.current.onresult=k=>{let C="",O="";for(let D=k.resultIndex;D<k.results.length;D++){const I=k.results[D][0].transcript;k.results[D].isFinal?O+=I:C+=I}O&&(h.current+=O,a(h.current),e&&e(h.current)),l(C)},u.current.onerror=k=>{switch(console.error("Speech recognition error:",k.error),n(!1),k.error){case"no-speech":break;case"aborted":console.log("Speech recognition aborted by user");break;case"not-allowed":q.error("マイクへのアクセスが許可されていません。ブラウザの設定を確認してください。");break;case"network":q.error("ネットワークエラーが発生しました。接続を確認してください。");break;case"audio-capture":q.error("マイクが見つかりません。マイクが接続されているか確認してください。");break;case"service-not-allowed":q.error("音声認識サービスが利用できません。");break;default:q.error(`音声認識エラー: ${k.error}`)}},u.current.onend=()=>{if(console.log("Speech recognition ended, isRecording:",g.current),n(!1),l(""),!g.current){console.log("User stopped recording, not restarting"),u.current=null;return}console.log("Attempting to restart recognition once..."),g.current=!1;try{setTimeout(()=>{u.current&&(g.current=!0,n(!0),u.current.start())},500)}catch(k){console.log("Failed to restart recognition:",k),g.current=!1,u.current=null}},n(!0),g.current=!0,o||(a(""),h.current=""),l(""),u.current.start()},v=()=>{if(console.log("SpeechRecognitionManager: Stopping recognition"),g.current=!1,n(!1),l(""),u.current){try{u.current.onend=null,u.current.onresult=null,u.current.onerror=null,u.current.onstart=null,u.current.abort(),console.log("SpeechRecognitionManager: Recognition aborted immediately")}catch(j){console.log("SpeechRecognitionManager: Error during abort:",j)}u.current=null}h.current&&e&&e(h.current)},S=j=>{const k=j.target.value;a(k),e&&e(k)},b=async()=>{if(!(!o||c)){console.log("Starting correction for:",o),d(!0);try{const j=await Qo.correctText(o);console.log("Correction result:",j),j&&j.correctedText?(a(j.correctedText),e&&e(j.correctedText),q.success("テキストを補正しました")):(console.warn("No corrected text in response:",j),q.error("補正結果が取得できませんでした"))}catch(j){console.error("Correction error:",j),q.error("補正に失敗しました")}finally{d(!1)}}};return f?s.jsxs(uC,{children:[s.jsx(KW,{show:r&&i,children:i}),r?s.jsxs(s.Fragment,{children:[s.jsxs(dC,{recording:!0,onClick:v,children:[s.jsx(WW,{}),s.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})]}),s.jsx(Hg,{children:"録音中... タップして停止・送信"})]}):s.jsxs(s.Fragment,{children:[s.jsx(dC,{onClick:y,children:s.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2C10.34 2 9 3.34 9 5v6c0 1.66 1.34 3 3 3s3-1.34 3-3V5c0-1.66-1.34-3-3-3zm5.3 6c-.08 0-.16.02-.24.06-.15.08-.26.23-.26.41v1.28c0 3.32-2.69 6.02-6.02 6.02s-6.02-2.7-6.02-6.02V8.47c0-.18-.11-.33-.26-.41C4.42 8.02 4.34 8 4.26 8 3.56 8 3 8.56 3 9.26v.21c0 4.28 3.17 7.83 7.31 8.54v2.09c0 .55.45 1 1 1s1-.45 1-1v-2.09C16.45 17.3 19.62 13.75 19.62 9.47v-.21c0-.7-.56-1.26-1.26-1.26z"})})}),s.jsx(Hg,{children:"タップして録音開始"})]}),(o||r)&&s.jsxs(qW,{children:[s.jsxs(HW,{children:[s.jsx("span",{children:"音声認識結果（編集可能）"}),s.jsx(YW,{onClick:b,disabled:!o||c||r,children:c?"補正中...":"AI補正する"})]}),s.jsx(VW,{value:o,onChange:S,placeholder:"音声認識の結果がここに表示されます...",disabled:r})]})]}):s.jsx(uC,{children:s.jsx(Hg,{children:"お使いのブラウザは音声入力に対応していません。 テキスト入力をご利用ください。"})})},fC=w.div`
  margin-bottom: var(--space-4);
  padding: var(--space-4);
  background: var(--color-background);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);

  @media (max-width: 480px) {
    padding: var(--space-3);
    margin-bottom: var(--space-3);
  }
`,GW=w.div`
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-3);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  display: flex;
  align-items: center;
  gap: var(--space-2);

  @media (max-width: 480px) {
    font-size: var(--font-size-micro);
    margin-bottom: var(--space-2);
  }
`,XW=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
`,JW=w.button`
  padding: var(--space-3) var(--space-4);
  background: ${e=>e.selected?"var(--color-accent-light)":"var(--color-surface)"};
  border: 3px solid ${e=>e.selected?"var(--color-accent)":"var(--color-border)"};
  border-radius: var(--radius-md);
  color: var(--color-text-primary);
  font-size: var(--font-size-base);
  font-weight: ${e=>e.selected?"var(--font-weight-bold)":"var(--font-weight-medium)"};
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-align: left;
  position: relative;
  overflow: hidden;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  line-height: var(--line-height-standard);
  min-height: 56px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  box-shadow: ${e=>e.selected?"0 4px 12px rgba(255, 152, 0, 0.2)":"none"};

  &:hover {
    background: ${e=>e.selected?"var(--color-accent-light)":"var(--color-primary-light)"};
    border-color: ${e=>e.selected?"var(--color-accent)":"var(--color-primary)"};
    transform: translateX(2px);
    box-shadow: ${e=>e.selected?"0 4px 12px rgba(255, 152, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)"};
  }

  &:active {
    transform: scale(0.99);
  }

  &::before {
    content: attr(data-index);
    position: absolute;
    left: var(--space-3);
    top: 50%;
    transform: translateY(-50%);
    font-size: var(--font-size-small);
    font-weight: var(--font-weight-bold);
    color: ${e=>e.selected?"white":"var(--color-primary)"};
    width: 32px;
    height: 32px;
    background: ${e=>e.selected?"var(--color-accent)":"var(--color-primary-light)"};
    border: 2px solid ${e=>e.selected?"var(--color-accent)":"var(--color-primary)"};
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  span {
    padding-left: calc(var(--space-3) + 32px + var(--space-3));
    padding-right: var(--space-3);
    display: block;
    font-size: var(--font-size-base);
    flex: 1;
  }

  &::after {
    content: ${e=>e.selected?'"✓"':'""'};
    position: absolute;
    right: var(--space-3);
    top: 50%;
    transform: translateY(-50%);
    font-size: var(--font-size-large);
    font-weight: var(--font-weight-bold);
    color: var(--color-accent);
  }

  @media (max-width: 480px) {
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-micro);
    min-height: 44px;

    &::before {
      width: 20px;
      height: 20px;
      font-size: 11px;
      left: var(--space-2);
    }

    span {
      padding-left: var(--space-7);
    }
  }
`,ZW=w.div`
  text-align: center;
  color: var(--color-text-secondary);
  font-size: var(--font-size-small);
  padding: var(--space-4);

  @media (max-width: 480px) {
    font-size: var(--font-size-micro);
    padding: var(--space-3);
  }
`,eq=w.button`
  width: 100%;
  padding: var(--space-3) var(--space-4);
  background: var(--color-primary);
  border: 2px solid var(--color-primary);
  border-radius: var(--radius-md);
  color: white;
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  margin-top: var(--space-3);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);

  &:hover {
    background: var(--color-primary-dark);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  @media (max-width: 480px) {
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-small);
  }
`,tq=w.div`
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
  margin-top: var(--space-2);
  text-align: center;
  font-style: italic;

  @media (max-width: 480px) {
    font-size: var(--font-size-micro);
  }
`,rq=({suggestions:e,onSelect:t,isLoading:r,allowMultiple:n=!0,initialSelected:o=[]})=>{const[a,i]=m.useState(o);if(r)return s.jsx(fC,{children:s.jsx(ZW,{children:"回答候補を生成中..."})});if(!e||e.length===0)return null;const l=d=>{n?i(u=>u.includes(d)?u.filter(p=>p!==d):[...u,d]):(i([d]),setTimeout(()=>{t(d),i([])},200))},c=()=>{if(a.length>0){const d=a.map(u=>{const f=u.trim();return f.endsWith("。")?f:f+"。"}).join("");t(d),i([])}};return s.jsxs(fC,{children:[s.jsxs(GW,{children:[s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),n?"回答を選択してください（複数選択可）":"回答を選択してください"]}),s.jsx(XW,{children:e.map((d,u)=>s.jsx(JW,{"data-index":u+1,selected:a.includes(d),onClick:()=>l(d),"aria-selected":a.includes(d),children:s.jsx("span",{children:d})},u))}),n&&s.jsxs(s.Fragment,{children:[a.length>0&&s.jsxs(tq,{children:[a.length,"件選択中: ",a.join("、")]}),s.jsxs(eq,{onClick:c,disabled:a.length===0,children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),"選択した項目で回答"]})]})]})},Vg=w.div`
  max-width: 1000px;
  margin: 0 auto;
  padding: 0 var(--space-6);
  min-height: calc(100vh - 72px);

  @media (max-width: 768px) {
    padding: 0 var(--space-4);
    min-height: calc(100vh - 64px);
  }
  
  @media (max-width: 480px) {
    padding: 0 var(--space-3);
    max-width: 100%;
  }
  
  @media (max-width: 390px) {
    padding: 0 var(--space-2);
  }
`,Kg=w.div`
  background-color: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-paper);
  padding: var(--space-6);
  margin-bottom: var(--space-6);
  position: relative;

  @media (max-width: 768px) {
    padding: var(--space-5);
    margin-bottom: var(--space-4);
  }
  
  @media (max-width: 480px) {
    padding: var(--space-4);
    margin: 0 0 var(--space-3) 0;
    border-left: none;
    border-right: none;
    border-radius: 0;
  }
`,nq=w.div`
  width: 100%;
  height: 8px;
  background: var(--color-border);
  border-radius: var(--radius-none);
  margin-bottom: var(--space-6);
  overflow: hidden;
  position: relative;
  border: 1px solid var(--color-border);
  
  @media (max-width: 480px) {
    height: 6px;
    margin-bottom: var(--space-4);
  }
`,oq=w.div`
  height: 100%;
  background: var(--color-primary);
  border-radius: var(--radius-none);
  transition: width 0.3s ease-in-out;
  width: ${e=>e.progress}%;
  position: relative;
  
  &::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 4px;
    height: 100%;
    background: var(--color-accent);
    opacity: 0.8;
  }
`,aq=w.div`
  margin-bottom: var(--space-6);
  padding: var(--space-5);
  background: var(--color-accent-light);
  border-radius: var(--radius-none);
  border: 2px solid var(--color-accent);
  border-left: 6px solid var(--color-accent);
  position: relative;

  @media (max-width: 768px) {
    padding: var(--space-4);
    margin-bottom: var(--space-5);
  }
  
  @media (max-width: 480px) {
    padding: var(--space-3);
    margin-bottom: var(--space-4);
  }
`,pC=w.h2`
  font-size: var(--font-size-heading);
  color: var(--color-primary);
  margin-bottom: 0;
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-comfortable);
  letter-spacing: -0.01em;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  
  @media (max-width: 768px) {
    font-size: var(--font-size-title);
  }
  
  @media (max-width: 480px) {
    font-size: var(--font-size-body);
    line-height: var(--line-height-standard);
    font-weight: var(--font-weight-medium);
  }
`,iq=w.div`
  margin-bottom: var(--space-6);
  
  @media (max-width: 480px) {
    margin-bottom: var(--space-4);
  }
`,sq=w.textarea`
  width: 100%;
  min-height: 140px;
  padding: var(--space-4);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-body);
  resize: vertical;
  background: var(--color-background);
  transition: all 0.2s ease-in-out;
  line-height: var(--line-height-standard);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  color: var(--color-text-primary);
  -webkit-appearance: none;
  -webkit-tap-highlight-color: transparent;

  &:focus {
    outline: none;
    border-color: var(--color-accent);
    box-shadow: var(--shadow-focused);
    background: var(--color-surface);
  }

  &::placeholder {
    color: var(--color-text-tertiary);
  }
  
  @media (max-width: 480px) {
    min-height: 120px;
    font-size: var(--font-size-small);
    padding: var(--space-3);
  }
`,lq=w.div`
  display: flex;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
  
  @media (max-width: 480px) {
    gap: var(--space-2);
    margin-bottom: var(--space-3);
  }
`,hC=w.button`
  flex: 1;
  padding: var(--space-3);
  border: 2px solid ${e=>e.active?"var(--color-primary)":"var(--color-border)"};
  background: ${e=>e.active?"var(--color-surface)":"var(--color-background)"};
  color: ${e=>e.active?"var(--color-primary)":"var(--color-text-secondary)"};
  border-radius: var(--radius-none);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  transition: all 0.2s ease-in-out;
  font-size: var(--font-size-small);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  -webkit-tap-highlight-color: transparent;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  min-height: 48px;

  &:hover:not(:disabled) {
    border-color: var(--color-accent);
    background: var(--color-surface);
    transform: translateY(-1px);
  }

  &:active:not(:disabled) {
    transform: scale(0.98);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  
  @media (max-width: 480px) {
    padding: var(--space-3) var(--space-2);
    font-size: var(--font-size-micro);
    min-height: 44px;
    
    svg {
      width: 16px;
      height: 16px;
    }
  }
`,cq=w.div`
  display: flex;
  gap: var(--space-3);
  align-items: center;
  margin-top: var(--space-4);
  flex-wrap: wrap;
  
  /* 固定フッター風のスタイル */
  position: sticky;
  bottom: 0;
  background: var(--color-surface);
  padding: var(--space-4) 0;
  border-top: 2px solid var(--color-border);
  margin-left: calc(-1 * var(--space-6));
  margin-right: calc(-1 * var(--space-6));
  padding-left: var(--space-6);
  padding-right: var(--space-6);

  @media (max-width: 768px) {
    gap: var(--space-3);
    margin-left: calc(-1 * var(--space-5));
    margin-right: calc(-1 * var(--space-5));
    padding-left: var(--space-5);
    padding-right: var(--space-5);
  }
  
  @media (max-width: 480px) {
    gap: var(--space-2);
    margin-left: calc(-1 * var(--space-4));
    margin-right: calc(-1 * var(--space-4));
    padding-left: var(--space-4);
    padding-right: var(--space-4);
    padding-top: var(--space-3);
    padding-bottom: var(--space-3);
  }
  
  @media (max-width: 400px) {
    gap: var(--space-1);
    margin-left: calc(-1 * var(--space-3));
    margin-right: calc(-1 * var(--space-3));
    padding-left: var(--space-3);
    padding-right: var(--space-3);
    padding-top: var(--space-2);
    padding-bottom: var(--space-2);
  }
`;w.button`
  padding: ${qe[3]} ${qe[6]};
  border-radius: ${Ns.md};
  font-weight: ${Ge.fontWeight.medium};
  cursor: pointer;
  transition: all ${wc.fast};
  border: none;
  font-size: ${Ge.fontSize.sm};
  font-family: ${Ge.fontFamily.sans};
  box-shadow: ${Dx.xs};

  &:active:not(:disabled) {
    transform: scale(0.98);
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    box-shadow: none;
  }
`;const uq=w.button`
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-border);
  background: var(--color-background);
  color: var(--color-text-secondary);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  -webkit-tap-highlight-color: transparent;
  flex: 1;
  min-height: 48px;

  &:hover:not(:disabled) {
    background: var(--color-surface);
    border-color: var(--color-accent);
    transform: translateY(-1px);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
  
  @media (max-width: 480px) {
    min-height: 44px;
    font-size: var(--font-size-micro);
  }
  
  @media (max-width: 400px) {
    padding: var(--space-2) var(--space-3);
    min-height: 40px;
    font-size: 11px;
  }
`,vC=w.button`
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-primary);
  background: var(--color-primary);
  color: var(--color-text-inverse);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  -webkit-tap-highlight-color: transparent;
  flex: 1.5;
  min-height: 48px;
  box-shadow: var(--shadow-elevation);

  &:hover:not(:disabled) {
    background: var(--color-accent);
    border-color: var(--color-accent);
    transform: translateY(-1px);
    box-shadow: var(--shadow-structure);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
    box-shadow: var(--shadow-paper);
  }
  
  @media (max-width: 480px) {
    min-height: 44px;
    font-size: var(--font-size-micro);
  }
  
  @media (max-width: 400px) {
    padding: var(--space-2) var(--space-3);
    min-height: 40px;
    font-size: 11px;
  }
`,dq=w.button`
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-border);
  background: var(--color-background);
  color: var(--color-text-secondary);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  -webkit-tap-highlight-color: transparent;
  flex: 1;
  min-height: 48px;

  &:hover:not(:disabled) {
    background: var(--color-surface);
    border-color: var(--color-accent);
    transform: translateY(-1px);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
  
  @media (max-width: 480px) {
    min-height: 44px;
    font-size: var(--font-size-micro);
  }
  
  @media (max-width: 400px) {
    padding: var(--space-2) var(--space-3);
    min-height: 40px;
    font-size: 11px;
  }
`;w.button`
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-accent);
  background: var(--color-background);
  color: var(--color-accent);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  -webkit-tap-highlight-color: transparent;
  flex: 1;
  min-height: 48px;

  &:hover:not(:disabled) {
    background: var(--color-accent-light);
    border-color: var(--color-accent);
    transform: translateY(-1px);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
  
  @media (max-width: 480px) {
    min-height: 44px;
    font-size: var(--font-size-micro);
  }
  
  @media (max-width: 400px) {
    padding: var(--space-2) var(--space-3);
    min-height: 40px;
    font-size: 11px;
  }
`;const fq=w.div`
  text-align: center;
  padding: var(--space-6);
  
  @media (max-width: 480px) {
    padding: var(--space-4);
  }
`,pq=w.div`
  margin-bottom: var(--space-4);
  display: flex;
  justify-content: center;
  
  svg {
    color: var(--color-success);
  }
`,hq=w.h2`
  font-size: var(--font-size-heading);
  color: var(--color-primary);
  margin-bottom: var(--space-4);
  font-weight: var(--font-weight-bold);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  
  @media (max-width: 480px) {
    font-size: var(--font-size-title);
  }
`,vq=()=>{const e=Kt(),[t]=kR(),r=ga(),n=t.get("mode")==="text",o=t.get("mode")==="meeting",a=t.get("mode")==="dynamics365",i=t.get("mode")==="salesforce",l=t.get("sessionId"),c=t.get("settingId"),[d,u]=m.useState(l||null),[f,p]=m.useState(""),[h,g]=m.useState(0),[x,y]=m.useState(5),[v,S]=m.useState(""),[b,j]=m.useState(n?"text":"voice"),[k,C]=m.useState(!0),[O,D]=m.useState({}),[I,K]=m.useState(!1),[X]=m.useState(navigator.onLine),[H,T]=m.useState([]),[R,G]=m.useState([]),[Q,se]=m.useState([]),[re,$]=m.useState(!1),[V,U]=m.useState(null),[M,ee]=m.useState([]),[ae,pe]=m.useState(!1),[ge,ke]=m.useState(!0),[Te,ce]=m.useState(!1),me=_t({mutationFn:(P={})=>(Object.keys(P).length===0&&V&&(P.referenceData=V,a?(P.dataSource="dynamics365",P.crmType="dynamics365"):i?(P.dataSource="salesforce",P.crmType="salesforce"):o&&(P.dataSource="meeting")),Qo.startHearing(P)),onSuccess:P=>{if(console.log("Start hearing response:",P),console.log("Received question:",P.question),u(P.sessionId),p(P.question),g(P.questionIndex),y(P.totalQuestions),P.initialSlots&&(D(P.initialSlots),console.log("Setting initial slots from server:",P.initialSlots)),P.referenceData&&(U(P.referenceData),console.log("Setting extracted info from server:",P.referenceData)),G([{question:P.question,questionIndex:P.questionIndex,slots:P.initialSlots||{},answer:"",suggestions:P.suggestions||[],allowMultiple:P.allowMultiple||!1}]),se(P.askedQuestions||[P.question]),P.suggestions&&P.suggestions.length>0){const E=P.suggestions.map(B=>typeof B=="string"?B:typeof B=="object"&&B!==null?(console.warn("Initial suggestions contained object:",B),B.text||B.suggestion||B.content||B.内容||B.商談内容||B.答え||B.value||JSON.stringify(B)):String(B)).filter(B=>B&&B.length>0);ee(E),pe(!1)}P.allowMultiple!==void 0&&ke(P.allowMultiple)},onError:()=>{q.error("セッションの開始に失敗しました")}}),ve=_t({mutationFn:P=>Qo.submitAnswer(P),onSuccess:P=>{if(P.completed)K(!0),D(P.slots),J(P.slots);else{if(p(P.question),g(P.questionIndex),y(P.totalQuestions),D(P.slots),G(E=>{const B=[...E];return B.length>0&&(B[B.length-1].answer=v,B[B.length-1].suggestions=M,B[B.length-1].allowMultiple=ge),[...B,{question:P.question,questionIndex:P.questionIndex,slots:P.slots,answer:"",suggestions:P.suggestions||[],allowMultiple:P.allowMultiple||!1}]}),S(""),$(!1),P.askedQuestions&&se(P.askedQuestions),P.suggestions&&P.suggestions.length>0){const E=P.suggestions.map(B=>typeof B=="string"?B:typeof B=="object"&&B!==null?(console.warn("Answer mutation suggestions contained object:",B),B.text||B.suggestion||B.content||B.内容||B.商談内容||B.答え||B.value||JSON.stringify(B)):String(B)).filter(B=>B&&B.length>0);ee(E),pe(!1)}else ee([]),pe(!1);P.allowMultiple!==void 0&&ke(P.allowMultiple)}},onError:()=>{q.error("回答の送信に失敗しました")}}),ie=_t({mutationFn:P=>an.createReport(P),onSuccess:P=>{q.success("日報を保存しました"),e(`/reports/${P.id}`)},onError:()=>{q.error("日報の保存に失敗しました")}});m.useEffect(()=>{var P,E;X&&((P=r.state)!=null&&P.fromRealtime&&((E=r.state)!=null&&E.initialData)?_e():o&&l?Se():a?De():i?Qe():c?Be(c):me.mutate())},[]);const Be=async P=>{try{const E=await bo.get(P);if(E){const B={settingId:E.id,greeting:E.greeting,customQuestions:E.custom_questions,maxQuestions:E.max_questions,inputMode:E.input_mode,requiredSlots:E.required_slots,optionalSlots:E.optional_slots,enableFollowUp:E.enable_follow_up,followUpThreshold:E.follow_up_threshold,enableSmartSkip:E.enable_smart_skip};E.input_mode&&(E.input_mode==="both"?(j("voice"),C(!0)):(j(E.input_mode),C(!1))),E.max_questions&&y(E.max_questions),console.log("Starting hearing with setting:",B),me.mutate(B),bo.createSession({setting_id:E.id,session_start:new Date}).catch(oe=>{console.error("Failed to record session:",oe)})}else q.error("設定が見つかりませんでした"),me.mutate()}catch(E){console.error("Failed to load hearing setting:",E),q.error("設定の読み込みに失敗しました"),me.mutate()}},_e=async()=>{var P;try{const E=(P=r.state)==null?void 0:P.initialData;if(!E){q.error("リアルタイムデータが見つかりません"),e("/");return}const B={customer:E.customer||"",project:E.project||"",budget:E.budget||"",schedule:E.schedule||"",next_action:E.next_action||"",participants:E.participants||[],location:E.location||"",issues:E.issues||""};if(D(B),U(B),E.conversationHistory){const oe=E.conversationHistory.filter((le,ne,de)=>{var Ae;return le.role==="assistant"&&((Ae=de[ne+1])==null?void 0:Ae.role)==="user"}).map((le,ne)=>{var de;return{question:le.text,answer:((de=E.conversationHistory[E.conversationHistory.findIndex(Ae=>Ae===le)+1])==null?void 0:de.text)||""}});T(oe)}K(!0)}catch(E){console.error("Failed to initialize realtime data:",E),q.error("リアルタイムデータの初期化に失敗しました"),e("/")}},Se=async()=>{var P,E;try{const B=(P=r.state)==null?void 0:P.extractedInfo,oe=(E=r.state)==null?void 0:E.meetingContent;let le=B;if(!le&&l){const ne=await Qo.getSession(l);ne&&ne.extractedInfo&&(le=ne.extractedInfo)}if(le){U(le),D(le);let ne=null;try{const Ae=await bo.getAll();ne=Ae.find(fe=>fe.input_mode==="meeting"&&fe.is_default)||Ae.find(fe=>fe.input_mode==="meeting")||Ae.find(fe=>fe.is_default),console.log("Meeting mode settings:",ne)}catch{console.log("No meeting settings found, using defaults")}const de={referenceData:le,dataSource:"meeting",meetingContent:oe,customQuestions:ne==null?void 0:ne.custom_questions,maxQuestions:ne==null?void 0:ne.max_questions,requiredSlots:ne==null?void 0:ne.required_slots,enableFollowUp:ne==null?void 0:ne.enable_follow_up,enableSmartSkip:ne==null?void 0:ne.enable_smart_skip};console.log("Sending meeting data with custom settings to server:",de),me.mutate(de)}else q.error("セッション情報が見つかりません"),e("/")}catch(B){console.error("Failed to initialize meeting mode:",B),q.error("議事録セッションの初期化に失敗しました"),e("/")}},De=async()=>{var P;try{const E=(P=r.state)==null?void 0:P.dynamics365Data;if(!E){q.error("Dynamics 365データが見つかりません"),e("/");return}const B={customer:E.customer||"",project:E.project||"",dynamics365_account_id:E.dynamics365_account_id,dynamics365_opportunity_id:E.dynamics365_opportunity_id,actionType:E.crmActionType||E.actionType||"update"};D(B),U(B);const oe={referenceData:B,dataSource:"dynamics365",crmType:"dynamics365"};me.mutate(oe)}catch(E){console.error("Failed to initialize Dynamics 365 mode:",E),q.error("Dynamics 365セッションの初期化に失敗しました"),e("/")}},Qe=async()=>{var P;try{const E=(P=r.state)==null?void 0:P.salesforceData;if(!E){q.error("Salesforceデータが見つかりません"),e("/");return}const B={customer:E.customer||"",project:E.project||"",salesforce_account_id:E.salesforce_account_id,salesforce_opportunity_id:E.salesforce_opportunity_id,selectedActivities:E.selectedActivities||[],selectedNotes:E.selectedNotes||[],selectedMeetings:E.selectedMeetings||[],meetingContext:E.meetingContext||"",actionType:E.crmActionType||E.actionType||"update"};D(B),U(B);const oe={referenceData:B,dataSource:"salesforce",crmType:"salesforce"};me.mutate(oe)}catch(E){console.error("Failed to initialize Salesforce mode:",E),q.error("Salesforceセッションの初期化に失敗しました"),e("/")}},ot=async()=>{if(!f||b!=="text")return;let P=null,E=null;a&&V?(P="dynamics365",E=V):i&&V?(P="salesforce",E=V):o&&V&&(P="meeting",E=V),!P&&!E&&!o&&(P="general",E=null),o&&!P&&(P="meeting",E=V||{}),pe(!0),console.log("Fetching suggestions with:",{currentQuestion:f,dataSource:P,hasReferenceData:!!E,questionIndex:h,inputMode:b});try{const B={currentQuestion:f,referenceData:E,currentSlots:O,dataSource:P};h>=2&&R.length>0&&(B.conversationHistory=R.map(le=>({question:le.question,answer:le.answer,suggestions:le.suggestions||[]}))),console.log("Requesting suggestions with data:",B);const oe=await Qo.getSuggestions(B);if(console.log("Suggestions response:",oe),oe.suggestions&&Array.isArray(oe.suggestions)){const le=oe.suggestions.map(ne=>typeof ne=="string"?ne:typeof ne=="object"&&ne!==null?(console.warn("Received object instead of string in suggestions:",ne),ne.text||ne.suggestion||ne.content||ne.内容||ne.商談内容||ne.答え||ne.value||JSON.stringify(ne)):String(ne)).filter(ne=>ne&&ne.length>0);console.log("Setting validated suggestions:",le),ee(le)}}catch(B){console.error("Failed to fetch suggestions:",B),ee([])}finally{pe(!1)}};m.useEffect(()=>{M.length===0&&!ae&&ot()},[f,b]);const Ut=P=>{S(P)},A=()=>{if(!v.trim()){q.error("回答を入力してください");return}if(re){const E=R.findIndex(B=>B.question===f&&B.questionIndex===h);if(E!==-1){const B=R.slice(0,E+1);B[E].answer=v,G(B);const oe=H.slice(0,E);oe.push({question:f,answer:v,timestamp:new Date().toLocaleTimeString("ja-JP")}),T(oe);const le=Q.slice(0,E+1);se(le)}$(!1)}else{const E={question:f,answer:v,timestamp:new Date().toLocaleTimeString("ja-JP")};T([...H,E])}const P={sessionId:d,questionIndex:h,answer:v,currentSlots:O,askedQuestions:re?Q.slice(0,h+1):Q};V&&(P.referenceData=V,a?(P.dataSource="dynamics365",P.crmType="dynamics365"):i?(P.dataSource="salesforce",P.crmType="salesforce"):o&&(P.dataSource="meeting")),ve.mutate(P)},_=()=>{S("スキップ"),A()},W=()=>{if(R.length<=1){q.error("最初の質問です");return}const P=H.slice(0,-1);T(P);const E=[...R];E.length>0&&(E[E.length-1].answer=v,E[E.length-1].suggestions=M,E[E.length-1].allowMultiple=ge);const B=E.slice(0,-1),oe=B[B.length-1];G(B),p(oe.question),g(oe.questionIndex),D(oe.slots),S(oe.answer||""),oe.suggestions&&(ee(oe.suggestions),ke(oe.allowMultiple||!1),pe(!1)),$(!0)},N=P=>{S(P)},Y=async()=>{if(!(!v||Te)){console.log("Starting correction for:",v),ce(!0);try{const P=await Qo.correctText(v);console.log("Correction result:",P),P&&P.correctedText?(S(P.correctedText),q.success("テキストを補正しました")):(console.warn("No corrected text in response:",P),q.error("補正結果が取得できませんでした"))}catch(P){console.error("Correction error:",P),q.error("補正に失敗しました")}finally{ce(!1)}}},J=P=>{try{const E=new Date,B=new Date(E.getTime()+9*60*60*1e3),oe=P||O||{},le={};Object.keys(oe).forEach(de=>{const Ae=oe[de];Array.isArray(Ae)?le[de]=Ae.map(fe=>{if(typeof fe=="object"&&fe!==null){if(de==="issues")return fe.issue||fe.description||fe.text||fe.content||"";if(de==="next_action"){if(fe.task){const Ue=[fe.task];return fe.responsible&&Ue.push(`担当: ${fe.responsible}`),fe.deadline&&Ue.push(`期限: ${fe.deadline}`),Ue.join(" ")}return fe.action||fe.text||fe.content||""}if(de==="schedule"&&fe.phase&&fe.due_date)return`${fe.phase}(${fe.due_date})`;if(de==="participants"){if(fe.name&&fe.company)return`${fe.name}(${fe.company})`;if(fe.name)return fe.name;if(fe.company&&fe.role)return`${fe.company} ${fe.role}`}return fe.name||fe.title||fe.label||fe.value||""}return String(fe)}).join(", "):typeof Ae=="object"&&Ae!==null&&!Array.isArray(Ae)?le[de]=Ae.name||Ae.title||Ae.label||Ae.value||JSON.stringify(Ae):le[de]=Ae}),console.log("Saving report with cleaned slots:",le),console.log("Questions and answers:",H);const ne={report_date:B.toISOString().split("T")[0],mode:a?"dynamics365":i?"salesforce":"hearing",questions_answers:H||[],slots:le};a?ne.crm_data={type:"dynamics365",actionType:(V==null?void 0:V.actionType)||"update",account:{id:oe.dynamics365_account_id},opportunity:{id:oe.dynamics365_opportunity_id}}:i&&(ne.crm_data={type:"salesforce",actionType:(V==null?void 0:V.actionType)||"update",account:{id:oe.salesforce_account_id},opportunity:{id:oe.salesforce_opportunity_id}}),console.log("Final report data:",ne),ie.mutate(ne)}catch(E){console.error("Error preparing report data:",E),q.error("日報データの準備に失敗しました")}},z=(h+1)/x*100,L=P=>{if(P==null)return"";if(typeof P=="string")return P;if(typeof P=="number")return P.toString();if(typeof P=="object"&&!Array.isArray(P)){const E={next_phase_deadline:"次フェーズ期限",initial_release:"初期リリース",customer_review_meeting:"顧客レビュー会議",deadline:"締切",start_date:"開始日",end_date:"終了日",kickoff:"キックオフ",milestone:"マイルストーン"},B=Object.entries(P);return B.length===0?"":B.map(([le,ne])=>{const de=E[le]||le;if(typeof ne=="string"&&/^\d{4}-\d{2}-\d{2}/.test(ne)){const fe=new Date(ne).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"});return`${de}: ${fe}`}return`${de}: ${ne}`}).join("、")}if(Array.isArray(P))return P.map(E=>typeof E=="object"&&E!==null?E.phase&&E.due_date?`${E.phase}(${E.due_date})`:E.phase&&E.due_date&&E.deliverable?`${E.phase}(${E.due_date}): ${E.deliverable}`:E.name?E.name:E.title?E.title:E.label?E.label:E.value?E.value:JSON.stringify(E):E).join(", ");if(typeof P=="object")try{if(P.name)return P.name;if(P.title)return P.title;if(P.label)return P.label;if(P.value)return P.value;const E=Object.entries(P);return E.length===0?"":E.map(([B,oe])=>oe==null?null:typeof oe=="object"&&oe!==null?`${B}: ${L(oe)}`:`${B}: ${oe}`).filter(B=>B!==null).join(", ")}catch(E){return console.error("Error rendering object value:",E),""}return String(P)};return!X&&!n?s.jsx(Vg,{children:s.jsxs(Kg,{children:[s.jsx("h2",{children:"オフラインモード"}),s.jsx("p",{children:"音声入力はオンライン時のみ利用可能です。"}),s.jsx("p",{children:"テキスト入力モードで日報を作成してください。"}),s.jsx(vC,{onClick:()=>e("/hearing?mode=text"),children:"テキスト入力で続ける"})]})}):I?s.jsx(Vg,{children:s.jsx(Kg,{children:s.jsxs(fq,{children:[s.jsx(pq,{children:s.jsx("svg",{width:"72",height:"72",viewBox:"0 0 24 24",fill:je.success.main,children:s.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})}),s.jsx(hq,{children:"ヒアリングが完了しました！"}),s.jsx("p",{children:"お疲れ様でした。日報を保存しています..."})]})})}):s.jsx(Vg,{children:s.jsxs(Kg,{children:[s.jsx(nq,{children:s.jsx(oq,{progress:z})}),(o||a||i)&&V&&typeof V=="object"&&(console.log("Rendering extractedInfo:",V),!0)&&s.jsxs("div",{style:{marginBottom:"var(--space-6)",padding:"var(--space-4)",backgroundColor:"var(--color-accent-light)",border:"2px solid var(--color-accent)",borderRadius:"var(--radius-none)"},children:[s.jsx("div",{style:{fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-bold)",color:"var(--color-primary)",marginBottom:"var(--space-3)"},children:o?"📄 議事録から抽出された情報":a?"📊 Dynamics 365から取得した情報":"📊 Salesforceから取得した情報"}),s.jsxs("div",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-secondary)"},children:[V.customer&&s.jsxs("div",{children:[s.jsx("strong",{children:"顧客:"})," ",L(V.customer)]}),V.vendor_company&&s.jsxs("div",{children:[s.jsx("strong",{children:"自社:"})," ",L(V.vendor_company)]}),V.project&&s.jsxs("div",{children:[s.jsx("strong",{children:"案件:"})," ",L(V.project)]}),V.customer_participants&&s.jsxs("div",{children:[s.jsx("strong",{children:"顧客側参加者:"})," ",L(V.customer_participants)]}),V.vendor_participants&&s.jsxs("div",{children:[s.jsx("strong",{children:"自社側参加者:"})," ",L(V.vendor_participants)]}),!V.customer_participants&&!V.vendor_participants&&V.participants&&s.jsxs("div",{children:[s.jsx("strong",{children:"参加者:"})," ",L(V.participants)]}),V.location&&s.jsxs("div",{children:[s.jsx("strong",{children:"場所:"})," ",L(V.location)]}),V.budget&&s.jsxs("div",{children:[s.jsx("strong",{children:"予算:"})," ",L(V.budget)]}),V.schedule&&s.jsxs("div",{children:[s.jsx("strong",{children:"スケジュール:"})," ",L(V.schedule)]}),V.selectedActivities&&V.selectedActivities.length>0&&s.jsxs("div",{style:{marginTop:"var(--space-3)",paddingTop:"var(--space-3)",borderTop:"1px solid var(--color-border)"},children:[s.jsx("div",{style:{fontWeight:"var(--font-weight-bold)",marginBottom:"var(--space-2)"},children:"📝 選択された活動記録:"}),V.selectedActivities.map((P,E)=>s.jsxs("div",{style:{marginLeft:"var(--space-3)",marginBottom:"var(--space-2)"},children:[s.jsx("div",{children:s.jsx("strong",{children:P.subject})}),P.description&&s.jsx("div",{style:{fontSize:"var(--font-size-micro)",marginLeft:"var(--space-2)"},children:P.description}),s.jsxs("div",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)",marginLeft:"var(--space-2)"},children:[new Date(P.createdOn).toLocaleDateString()," • ",P.status]})]},E))]}),V.selectedNotes&&V.selectedNotes.length>0&&s.jsxs("div",{style:{marginTop:"var(--space-3)"},children:[s.jsx("div",{style:{fontWeight:"var(--font-weight-bold)",marginBottom:"var(--space-2)"},children:"📋 選択されたメモ:"}),V.selectedNotes.map((P,E)=>s.jsxs("div",{style:{marginLeft:"var(--space-3)",marginBottom:"var(--space-2)"},children:[s.jsx("div",{children:s.jsx("strong",{children:P.subject})}),P.noteText&&s.jsx("div",{style:{fontSize:"var(--font-size-micro)",marginLeft:"var(--space-2)"},children:P.noteText}),s.jsx("div",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)",marginLeft:"var(--space-2)"},children:new Date(P.createdOn).toLocaleDateString()})]},E))]}),V.selectedMeetings&&V.selectedMeetings.length>0&&s.jsxs("div",{style:{marginTop:"var(--space-3)"},children:[s.jsx("div",{style:{fontWeight:"var(--font-weight-bold)",marginBottom:"var(--space-2)"},children:"🗓️ 選択された会議:"}),V.selectedMeetings.map((P,E)=>s.jsxs("div",{style:{marginLeft:"var(--space-3)",marginBottom:"var(--space-2)"},children:[s.jsx("div",{children:s.jsx("strong",{children:P.subject})}),P.description&&s.jsx("div",{style:{fontSize:"var(--font-size-micro)",marginLeft:"var(--space-2)"},children:P.description}),s.jsxs("div",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)",marginLeft:"var(--space-2)"},children:[new Date(P.scheduledStart).toLocaleDateString()," ",P.location&&`• ${P.location}`]})]},E))]})]})]}),s.jsx(aq,{children:!f&&me.isPending?s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"var(--space-4)",padding:"var(--space-6)"},children:[s.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid var(--color-border)",borderTop:"3px solid var(--color-accent)",borderRadius:"50%",animation:"spin 1s infinite linear"},children:s.jsx("style",{children:`
                  @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                  }
                `})}),s.jsx(pC,{style:{color:"var(--color-text-secondary)"},children:"質問を準備しています..."})]}):s.jsx(pC,{children:f})}),s.jsxs(iq,{children:[k&&s.jsxs(lq,{children:[s.jsxs(hC,{active:b==="voice",onClick:()=>{j("voice")},disabled:!X||n,children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",style:{marginRight:"0.5rem"},children:s.jsx("path",{d:"M12 2c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2s2-.9 2-2V4c0-1.1-.9-2-2-2zm6 6c0 3.31-2.69 6-6 6s-6-2.69-6-6H4c0 4.42 3.17 8.09 7.31 8.71V20h-2v2h5.38v-2h-2v-2.29C16.83 16.09 20 12.42 20 8h-2z"})}),"音声入力"]}),s.jsxs(hC,{active:b==="text",onClick:()=>{j("text")},children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",style:{marginRight:"0.5rem"},children:s.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"})}),"テキスト入力"]})]}),b==="voice"?s.jsx(QW,{onResult:N,value:v}):s.jsxs(s.Fragment,{children:[b==="text"&&s.jsx(rq,{suggestions:M,onSelect:Ut,isLoading:ae,allowMultiple:ge,initialSelected:v&&M.length>0?M.filter(P=>v.includes(P)):[]}),s.jsx(sq,{value:v,onChange:P=>S(P.target.value),placeholder:f?"回答を入力してください...":"質問を準備中...",autoFocus:!0,disabled:!f}),v&&s.jsx("div",{style:{marginTop:"var(--space-3)",display:"flex",justifyContent:"flex-end"},children:s.jsx("button",{onClick:Y,disabled:!v||Te,style:{padding:"var(--space-2) var(--space-4)",border:"2px solid var(--color-accent)",background:"var(--color-background)",color:"var(--color-accent)",borderRadius:"var(--radius-none)",fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-medium)",cursor:v&&!Te?"pointer":"not-allowed",transition:"all 0.2s ease-in-out",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",textTransform:"uppercase",letterSpacing:"0.05em",opacity:!v||Te?.6:1},onMouseEnter:P=>{v&&!Te&&(P.target.style.background="var(--color-accent-light)",P.target.style.transform="translateY(-1px)")},onMouseLeave:P=>{P.target.style.background="var(--color-background)",P.target.style.transform="translateY(0)"},children:Te?"補正中...":"AI補正する"})})]})]}),s.jsxs(cq,{children:[s.jsx(dq,{onClick:W,disabled:R.length<=1||ve.isPending,children:"戻る"}),s.jsx(uq,{onClick:_,disabled:!f||ve.isPending,children:"スキップ"}),s.jsx(vC,{onClick:A,disabled:!f||!v.trim()||ve.isPending,children:ve.isPending?"送信中...":f?"次へ":"準備中..."})]})]})})},mq=w.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: var(--space-4);
`,gq=w.div`
  background: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  max-width: 800px;
  width: 100%;
  max-height: 80vh;
  display: flex;
  flex-direction: column;
  box-shadow: var(--shadow-structure);
`,yq=w.div`
  padding: var(--space-5);
  border-bottom: 2px solid var(--color-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
`,xq=w.h2`
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,bq=w.button`
  background: none;
  border: none;
  font-size: var(--font-size-title);
  color: var(--color-text-secondary);
  cursor: pointer;
  padding: 0;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  
  &:hover {
    color: var(--color-text-primary);
  }
`,wq=w.div`
  flex: 1;
  overflow-y: auto;
  padding: var(--space-5);
`,Sq=w.div`
  display: flex;
  gap: var(--space-2);
  margin-bottom: var(--space-5);
  border-bottom: 2px solid var(--color-border);
`,mC=w.button`
  padding: var(--space-3) var(--space-5);
  background: none;
  border: none;
  border-bottom: 3px solid transparent;
  color: var(--color-text-secondary);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  transition: all 0.2s;
  
  &:hover {
    color: var(--color-text-primary);
  }
  
  ${e=>e.active&&`
    color: var(--color-primary);
    border-bottom-color: var(--color-primary);
  `}
`,jq=w.div`
  display: flex;
  gap: var(--space-3);
  margin-bottom: var(--space-5);
`,kq=w.input`
  flex: 1;
  padding: var(--space-3) var(--space-4);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  background: var(--color-background);
  color: var(--color-text-primary);
  
  &:focus {
    outline: none;
    border-color: var(--color-accent);
  }
  
  &::placeholder {
    color: var(--color-text-tertiary);
  }
`,Cq=w.button`
  padding: var(--space-3) var(--space-5);
  background: var(--color-primary);
  color: var(--color-text-inverse);
  border: 2px solid var(--color-primary);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover:not(:disabled) {
    background: var(--color-accent);
    border-color: var(--color-accent);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
`,Pq=w.div`
  display: grid;
  gap: var(--space-3);
`,gC=w.div`
  padding: var(--space-4);
  background: var(--color-background);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s;
  
  &:hover {
    border-color: var(--color-accent);
    transform: translateY(-2px);
    box-shadow: var(--shadow-elevation);
  }
`,yC=w.div`
  display: flex;
  justify-content: space-between;
  align-items: start;
  margin-bottom: var(--space-3);
`,xC=w.h4`
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin: 0;
`,bC=w.span`
  font-size: var(--font-size-micro);
  color: var(--color-text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,wC=w.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-3);
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
`,Mi=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
`,$i=w.span`
  font-size: var(--font-size-micro);
  color: var(--color-text-tertiary);
  text-transform: uppercase;
`,zi=w.span`
  color: var(--color-text-primary);
`,SC=w.button`
  padding: var(--space-2) var(--space-4);
  background: var(--color-success);
  color: var(--color-text-inverse);
  border: 2px solid var(--color-success);
  border-radius: var(--radius-none);
  font-size: var(--font-size-micro);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover {
    background: var(--color-success-dark);
    border-color: var(--color-success-dark);
  }
`,Aq=w.div`
  text-align: center;
  padding: var(--space-8);
  color: var(--color-text-secondary);
`,Oq=w.div`
  text-align: center;
  padding: var(--space-8);
  color: var(--color-text-secondary);
`,_q=w.div`
  margin-bottom: var(--space-5);
`,jC=w.h4`
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: var(--space-3);
`,Eq=w.select`
  width: 100%;
  padding: var(--space-3) var(--space-4);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  background: var(--color-background);
  color: var(--color-text-primary);
  cursor: pointer;
  
  &:focus {
    outline: none;
    border-color: var(--color-accent);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
`,Tq=w.button`
  margin-top: var(--space-3);
  padding: var(--space-3) var(--space-5);
  background: var(--color-success);
  color: var(--color-text-inverse);
  border: 2px solid var(--color-success);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  width: 100%;
  
  &:hover:not(:disabled) {
    background: var(--color-success-dark);
    border-color: var(--color-success-dark);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
`,Mq=w.div`
  border-top: 1px solid var(--color-border);
  margin: var(--space-5) 0;
  position: relative;
  
  &::after {
    content: 'または';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: var(--color-surface);
    padding: 0 var(--space-3);
    color: var(--color-text-tertiary);
    font-size: var(--font-size-micro);
    text-transform: uppercase;
  }
`,$q=w.div`
  padding: var(--space-5);
  background: var(--color-accent-light);
  border: 2px solid var(--color-accent);
  border-radius: var(--radius-none);
  text-align: center;
`,zq=w.button`
  margin-top: var(--space-3);
  padding: var(--space-3) var(--space-5);
  background: var(--color-primary);
  color: var(--color-text-inverse);
  border: 2px solid var(--color-primary);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover {
    background: var(--color-accent);
    border-color: var(--color-accent);
  }
`,Dq=({isOpen:e,onClose:t,onSelect:r})=>{var O,D,I,K,X,H,T,R,G,Q,se,re;const[n,o]=m.useState("salesforce"),[a,i]=m.useState(""),[l,c]=m.useState({accounts:[],opportunities:[]}),[d,u]=m.useState(""),[f,p]=m.useState(null),[h,g]=m.useState(!0);m.useEffect(()=>{e&&(async()=>{g(!0);try{const V=await wo.checkAuthStatus();p(V.authStatus)}catch(V){console.error("Failed to check CRM auth status:",V),p({salesforce:{loggedIn:!1},dynamics365:{loggedIn:!1}})}finally{g(!1)}})()},[e]);const x=((O=f==null?void 0:f[n])==null?void 0:O.loggedIn)||!1,{data:y,isLoading:v}=Or({queryKey:["recent-opportunities",n],queryFn:()=>wo.getRecentOpportunities(n),enabled:e&&x,staleTime:6e4}),S=_t({mutationFn:({searchTerm:$,crmType:V})=>wo.searchCRM($,V),onSuccess:$=>{var V,U;c($),((V=$.accounts)==null?void 0:V.length)===0&&((U=$.opportunities)==null?void 0:U.length)===0&&q.info("該当する案件が見つかりませんでした")},onError:$=>{q.error("検索に失敗しました")}}),b=()=>{if(!a.trim()){q.error("検索キーワードを入力してください");return}S.mutate({searchTerm:a,crmType:n})},j=$=>{var V;r({crmType:n,accountId:$.accountId||$.AccountId||$.accountid,accountName:$.accountName||((V=$.Account)==null?void 0:V.Name)||$.name,opportunityId:$.opportunityId||$.Id||$.opportunityid,opportunityName:$.opportunityName||$.Name||$.name})},k=()=>{var V;if(!d){q.error("案件を選択してください");return}const $=(V=y==null?void 0:y.opportunities)==null?void 0:V.find(U=>(U.Id||U.opportunityid)===d);$&&j($)};m.useEffect(()=>{u("")},[n]);const C=async $=>{try{const V=localStorage.getItem("token"),U=await fetch(`/api/oauth/${$}/authorize`,{headers:{Authorization:`Bearer ${V}`}});if(!U.ok)throw new Error("Failed to get OAuth URL");const M=await U.json();window.open(M.authUrl,"_blank");const ee=setInterval(async()=>{var ae;try{const pe=await wo.checkAuthStatus();(ae=pe.authStatus[$])!=null&&ae.loggedIn&&(p(pe.authStatus),clearInterval(ee),q.success(`${$==="salesforce"?"Salesforce":"Dynamics 365"}にログインしました`))}catch(pe){console.error("Auth check error:",pe)}},2e3);setTimeout(()=>clearInterval(ee),3e4)}catch(V){console.error("OAuth login error:",V),q.error("ログイン処理を開始できませんでした")}};return e?s.jsx(mq,{onClick:t,children:s.jsxs(gq,{onClick:$=>$.stopPropagation(),children:[s.jsxs(yq,{children:[s.jsx(xq,{children:"既存のCRM案件を選択"}),s.jsx(bq,{onClick:t,children:"✕"})]}),s.jsxs(wq,{children:[s.jsx("div",{style:{padding:"var(--space-3)",background:"var(--color-accent-light)",marginBottom:"var(--space-4)",fontSize:"var(--font-size-small)",color:"var(--color-text-secondary)"},children:"💡 この日報を既存のCRM案件に紐付けます。最近の案件から選択するか、検索して案件を見つけてください。"}),s.jsxs(Sq,{children:[s.jsxs(mC,{active:n==="salesforce",onClick:()=>o("salesforce"),children:["Salesforce",!h&&s.jsx("span",{style:{marginLeft:"var(--space-2)",fontSize:"var(--font-size-micro)",color:(D=f==null?void 0:f.salesforce)!=null&&D.loggedIn?"var(--color-success)":"var(--color-text-tertiary)"},children:(I=f==null?void 0:f.salesforce)!=null&&I.loggedIn?"●":"○"})]}),s.jsxs(mC,{active:n==="dynamics365",onClick:()=>o("dynamics365"),children:["Dynamics 365",!h&&s.jsx("span",{style:{marginLeft:"var(--space-2)",fontSize:"var(--font-size-micro)",color:(K=f==null?void 0:f.dynamics365)!=null&&K.loggedIn?"var(--color-success)":"var(--color-text-tertiary)"},children:(X=f==null?void 0:f.dynamics365)!=null&&X.loggedIn?"●":"○"})]})]}),s.jsxs(_q,{children:[s.jsx(jC,{children:"最近の案件から選択"}),h?s.jsx("div",{style:{color:"var(--color-text-secondary)",fontSize:"var(--font-size-small)",textAlign:"center"},children:"ログイン状態を確認中..."}):x?v?s.jsx("div",{style:{color:"var(--color-text-secondary)",fontSize:"var(--font-size-small)"},children:"案件を読み込み中..."}):s.jsxs(s.Fragment,{children:[s.jsxs(Eq,{value:d,onChange:$=>u($.target.value),disabled:!((H=y==null?void 0:y.opportunities)!=null&&H.length),children:[s.jsx("option",{value:"",children:((T=y==null?void 0:y.opportunities)==null?void 0:T.length)>0?"案件を選択してください...":"最近の案件がありません"}),(R=y==null?void 0:y.opportunities)==null?void 0:R.map($=>{var V,U,M,ee;return s.jsxs("option",{value:$.Id||$.opportunityid,children:[$.Name||$.name,(((V=$.Account)==null?void 0:V.Name)||((U=$.parentaccountid)==null?void 0:U.name))&&` (${((M=$.Account)==null?void 0:M.Name)||((ee=$.parentaccountid)==null?void 0:ee.name)})`]},$.Id||$.opportunityid)})]}),s.jsx(Tq,{onClick:k,disabled:!d,children:"この案件に紐付ける"})]}):s.jsxs($q,{children:[s.jsxs("div",{style:{fontSize:"var(--font-size-small)",color:"var(--color-text-primary)",marginBottom:"var(--space-2)"},children:[n==="salesforce"?"Salesforce":"Dynamics 365","にログインしていません"]}),s.jsx("div",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-secondary)",marginBottom:"var(--space-3)"},children:"最近の案件を表示するにはログインが必要です"}),s.jsx(zq,{onClick:()=>C(n),children:n==="salesforce"?"Salesforceにログイン":"Dynamics 365にログイン"})]})]}),s.jsx(Mq,{}),s.jsx(jC,{children:"キーワードで検索"}),!x&&s.jsxs("div",{style:{padding:"var(--space-2)",marginBottom:"var(--space-3)",background:"var(--color-warning-light)",fontSize:"var(--font-size-micro)",color:"var(--color-warning-dark)",borderRadius:"var(--radius-none)",textAlign:"center"},children:["⚠️ ",n==="salesforce"?"Salesforce":"Dynamics 365","にログインしていないため検索できません"]}),s.jsxs(jq,{children:[s.jsx(kq,{type:"text",placeholder:x?"顧客名または案件名で検索...":"ログインが必要です",value:a,onChange:$=>i($.target.value),onKeyPress:$=>$.key==="Enter"&&x&&b(),disabled:!x}),s.jsx(Cq,{onClick:b,disabled:S.isPending||!x,title:x?"":`${n==="salesforce"?"Salesforce":"Dynamics 365"}にログインが必要です`,children:S.isPending?"検索中...":"検索"})]}),S.isPending?s.jsx(Oq,{children:s.jsx("div",{children:"検索中..."})}):s.jsxs(Pq,{children:[(G=l.accounts)==null?void 0:G.map(($,V)=>s.jsxs(gC,{children:[s.jsxs(yC,{children:[s.jsxs("div",{children:[s.jsx(bC,{children:"取引先"}),s.jsx(xC,{children:$.Name||$.name})]}),s.jsx(SC,{onClick:()=>j($),children:"選択"})]}),s.jsxs(wC,{children:[$.Industry&&s.jsxs(Mi,{children:[s.jsx($i,{children:"業界"}),s.jsx(zi,{children:$.Industry})]}),$.Phone&&s.jsxs(Mi,{children:[s.jsx($i,{children:"電話"}),s.jsx(zi,{children:$.Phone})]}),($.BillingCity||$.address1_city)&&s.jsxs(Mi,{children:[s.jsx($i,{children:"所在地"}),s.jsx(zi,{children:$.BillingCity||$.address1_city})]})]})]},`account-${V}`)),(Q=l.opportunities)==null?void 0:Q.map(($,V)=>{var U,M,ee,ae;return s.jsxs(gC,{children:[s.jsxs(yC,{children:[s.jsxs("div",{children:[s.jsx(bC,{children:"商談"}),s.jsx(xC,{children:$.Name||$.name})]}),s.jsx(SC,{onClick:()=>j($),children:"選択"})]}),s.jsxs(wC,{children:[(((U=$.Account)==null?void 0:U.Name)||((M=$.parentaccountid)==null?void 0:M.name))&&s.jsxs(Mi,{children:[s.jsx($i,{children:"取引先"}),s.jsx(zi,{children:((ee=$.Account)==null?void 0:ee.Name)||((ae=$.parentaccountid)==null?void 0:ae.name)})]}),($.Amount||$.estimatedvalue)&&s.jsxs(Mi,{children:[s.jsx($i,{children:"金額"}),s.jsxs(zi,{children:["¥",($.Amount||$.estimatedvalue).toLocaleString()]})]}),($.CloseDate||$.estimatedclosedate)&&s.jsxs(Mi,{children:[s.jsx($i,{children:"予定日"}),s.jsx(zi,{children:new Date($.CloseDate||$.estimatedclosedate).toLocaleDateString("ja-JP")})]}),$.StageName&&s.jsxs(Mi,{children:[s.jsx($i,{children:"ステージ"}),s.jsx(zi,{children:$.StageName})]})]})]},`opportunity-${V}`)}),((se=l.accounts)==null?void 0:se.length)===0&&((re=l.opportunities)==null?void 0:re.length)===0&&S.isSuccess&&s.jsx(Aq,{children:"検索結果が見つかりませんでした"})]})]})]})}):null},Iq=w.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: var(--space-4);
`,Rq=w.div`
  background: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  max-width: 500px;
  width: 100%;
  padding: var(--space-6);
  box-shadow: var(--shadow-structure);
`,Nq=w.h2`
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin-bottom: var(--space-4);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,Lq=w.p`
  font-size: var(--font-size-body);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-5);
  line-height: 1.6;
`,Fq=w.div`
  display: flex;
  gap: var(--space-3);
  justify-content: flex-end;
`,kC=w.button`
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-border);
  background: var(--color-background);
  color: var(--color-text-primary);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover:not(:disabled) {
    background: var(--color-surface);
    border-color: var(--color-accent);
    transform: translateY(-1px);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
  
  &.primary {
    background: var(--color-primary);
    color: var(--color-text-inverse);
    border-color: var(--color-primary);
    
    &:hover:not(:disabled) {
      background: var(--color-accent);
      border-color: var(--color-accent);
    }
  }
`,Bq=w.div`
  padding: var(--space-4);
  background: var(--color-background);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-none);
  margin-bottom: var(--space-4);
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
`,Uq=({isOpen:e,onClose:t,onConfirm:r,crmType:n,action:o="default"})=>{if(!e)return null;const a=()=>n==="salesforce"?"Salesforce":"Dynamics 365",i=()=>{const l=a();switch(o){case"create":return`新規案件を${l}に登録するには、${l}へのログインが必要です。`;case"update":return`CRMデータを更新するには、${l}へのログインが必要です。`;case"link":return`既存の案件に紐付けるには、${l}へのログインが必要です。`;case"search":return"CRM案件を検索するには、少なくとも1つのCRMへのログインが必要です。";default:return`この操作を実行するには、${l}へのログインが必要です。`}};return s.jsx(Iq,{onClick:t,children:s.jsxs(Rq,{onClick:l=>l.stopPropagation(),children:[s.jsx(Nq,{children:"CRMログイン確認"}),s.jsx(Lq,{children:i()}),s.jsxs(Bq,{children:["ログイン後、新しいタブが開き、",a(),"の認証画面が表示されます。 認証完了後は自動的にこのページに反映されます。"]}),s.jsxs(Fq,{children:[s.jsx(kC,{onClick:t,children:"キャンセル"}),s.jsxs(kC,{className:"primary",onClick:r,children:[a(),"にログイン"]})]})]})})},Wq=w.div`
  margin-top: var(--space-6);
  padding: var(--space-5);
  background: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
`,qq=w.h3`
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin-bottom: var(--space-4);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,Rf=w.div`
  padding: var(--space-4);
  background: var(--color-background);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-none);
  margin-bottom: var(--space-4);
`,co=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-2);
  
  &:last-child {
    margin-bottom: 0;
  }
`,uo=w.span`
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,Pa=w.span`
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
`,Hq=w.div`
  display: flex;
  gap: var(--space-3);
  flex-wrap: wrap;
  margin-top: var(--space-4);
`,fo=w.button`
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-border);
  background: var(--color-background);
  color: var(--color-text-primary);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover:not(:disabled) {
    background: var(--color-surface);
    border-color: var(--color-accent);
    transform: translateY(-1px);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
  
  &.primary {
    background: var(--color-primary);
    color: var(--color-text-inverse);
    border-color: var(--color-primary);
    
    &:hover:not(:disabled) {
      background: var(--color-accent);
      border-color: var(--color-accent);
    }
  }
  
  &.success {
    background: var(--color-success);
    color: var(--color-text-inverse);
    border-color: var(--color-success);
    
    &:hover:not(:disabled) {
      background: var(--color-success-dark);
      border-color: var(--color-success-dark);
    }
  }
`,Vq=w.div`
  margin-top: var(--space-4);
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-border);
`,Kq=w.div`
  margin-top: var(--space-2);
`,Yq=w.button`
  width: 100%;
  padding: var(--space-2) var(--space-3);
  background: var(--color-background);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-micro);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  text-align: left;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  transition: all 0.2s ease;
  
  &:hover {
    background: var(--color-surface);
    border-color: var(--color-accent);
  }
  
  &.expanded {
    border-bottom: none;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
  }
`,Qq=w.div`
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-top: none;
  border-radius: 0 0 var(--radius-none) var(--radius-none);
  padding: var(--space-3);
  font-size: var(--font-size-micro);
  max-height: 300px;
  overflow-y: auto;
`,Gq=w.div`
  display: flex;
  margin-bottom: var(--space-2);
  padding-bottom: var(--space-2);
  border-bottom: 1px solid var(--color-border-light);
  
  &:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
  }
`,Xq=w.span`
  flex: 0 0 120px;
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,Jq=w.span`
  flex: 1;
  color: var(--color-text-primary);
  word-break: break-word;
`,Zq=w.span`
  display: inline-block;
  transition: transform 0.2s ease;
  
  &.expanded {
    transform: rotate(180deg);
  }
`,eH=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-2) 0;
  font-size: var(--font-size-micro);
  
  &:not(:last-child) {
    border-bottom: 1px solid var(--color-border-light);
  }
`,tH=({report:e})=>{var V,U,M,ee,ae,pe,ge,ke,Te,ce,me,ve,ie,Be,_e,Se,De,Qe,ot,Ut,A,_,W;const t=ji(),[r,n]=m.useState(!1),[o,a]=m.useState(null),[i,l]=m.useState(!1),[c,d]=m.useState(null),[u,f]=m.useState(!0),[p,h]=m.useState({isOpen:!1,crmType:null,action:null,callback:null}),[g,x]=m.useState(null),y=e.status==="draft";e.status,Le.useEffect(()=>{(async()=>{f(!0);try{const Y=await wo.checkAuthStatus();d(Y.authStatus)}catch(Y){console.error("Failed to check CRM auth status:",Y),d({salesforce:{loggedIn:!1},dynamics365:{loggedIn:!1}})}finally{f(!1)}})()},[]);const{data:v,refetch:S}=Or({queryKey:["crm-mapping",e.id],queryFn:()=>wo.getCRMMapping(e.id),enabled:!!e.id}),{data:b}=Or({queryKey:["sync-history",e.id],queryFn:()=>wo.getSyncHistory(e.id,10),enabled:!!e.id,onSuccess:N=>{console.log("Sync history data:",N)}}),j=_t({mutationFn:({crmType:N,action:Y,crmData:J})=>(l(!0),wo.syncReport(e.id,N,Y,J)),onSuccess:async N=>{q.success(N.message||"CRM同期に成功しました"),t.invalidateQueries(["report",e.id]),await S(),t.invalidateQueries(["sync-history",e.id]),l(!1)},onError:N=>{var J,z;const Y=((z=(J=N.response)==null?void 0:J.data)==null?void 0:z.error)||"CRM同期に失敗しました";Y.includes("token not found")||Y.includes("Please login")?q.error("CRMへのログインが必要です。設定画面からログインしてください。"):q.error(Y),l(!1)},onSettled:()=>{setTimeout(()=>l(!1),100)}}),k=N=>{var Y,J,z,L,P,E,B,oe,le,ne,de,Ae,fe,Ue;j.mutate({crmType:N,action:"create",crmData:{customer:((Y=e.slots)==null?void 0:Y.customer)||((J=e.crm_data)==null?void 0:J.customer),project:((z=e.slots)==null?void 0:z.project)||((L=e.crm_data)==null?void 0:L.project),budget:(P=e.slots)==null?void 0:P.budget,schedule:(E=e.slots)==null?void 0:E.schedule,participants:(B=e.slots)==null?void 0:B.participants,location:(oe=e.slots)==null?void 0:oe.location,next_action:(le=e.slots)==null?void 0:le.next_action,issues:(ne=e.slots)==null?void 0:ne.issues,opportunityId:(Ae=(de=e.crm_data)==null?void 0:de.opportunity)==null?void 0:Ae.id,accountId:(Ue=(fe=e.crm_data)==null?void 0:fe.account)==null?void 0:Ue.id}})},C=N=>{j.mutate({crmType:N.crmType,action:"update",crmData:N}),n(!1)},O=m.useCallback(N=>{a(Y=>Y===N?null:N)},[]),D=N=>{const Y=[];if(N.sync_data){const J=typeof N.sync_data=="string"?JSON.parse(N.sync_data):N.sync_data;N.sync_type==="create"&&J.fields_created&&(Y.push({label:"作成内容",value:""}),Object.entries(J.fields_created).forEach(([z,L])=>{if(L){const P={customer:"顧客",project:"案件",budget:"予算",schedule:"スケジュール",participants:"参加者",location:"場所",next_action:"次のアクション",issues:"課題"}[z]||z;Y.push({label:`  ${P}`,value:L})}})),N.sync_type==="update"&&J.fields_updated&&(J.fields_updated.previous_opportunity&&J.fields_updated.new_opportunity&&(Y.push({label:"📌 案件変更",value:""}),Y.push({label:"  変更前",value:J.fields_updated.previous_opportunity}),Y.push({label:"  変更後",value:J.fields_updated.new_opportunity})),Y.push({label:"更新内容",value:""}),Object.entries(J.fields_updated).forEach(([z,L])=>{if(!(z==="previous_opportunity"||z==="new_opportunity")&&L){const P={customer:"顧客",project:"案件",budget:"予算",schedule:"スケジュール",next_action:"次のアクション",issues:"課題"}[z]||z;Y.push({label:`  ${P}`,value:L})}})),J.after&&(J.after.accountName&&Y.push({label:"CRM取引先",value:J.after.accountName}),J.after.opportunityName&&Y.push({label:"CRM商談",value:J.after.opportunityName}),J.after.opportunityId&&Y.push({label:"CRM商談ID",value:J.after.opportunityId}))}return N.error_message&&Y.push({label:"エラー",value:N.error_message}),Y},I=async N=>{if(window.confirm("この紐付けを解除しますか？"))try{if((await fetch(`/api/crm-integration/reports/${e.id}/crm-mapping/${N}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)q.success("CRM紐付けを解除しました"),t.invalidateQueries(["crm-mapping",e.id]);else throw new Error("Failed to remove mapping")}catch(Y){console.error("Remove mapping error:",Y),q.error("紐付けの解除に失敗しました")}},K=async N=>{try{if((await fetch(`/api/crm-integration/reports/${e.id}/crm-mapping/${N}/priority`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({priority:100})})).ok)q.success("メインのCRM連携先を変更しました"),t.invalidateQueries(["crm-mapping",e.id]);else throw new Error("Failed to update priority")}catch(Y){console.error("Update priority error:",Y),q.error("優先順位の更新に失敗しました")}},X=()=>{var Y,J,z,L,P,E,B,oe,le,ne,de,Ae,fe,Ue;if(!((Y=v==null?void 0:v.mapping)!=null&&Y.crm_type)&&!((J=v==null?void 0:v.mappings)!=null&&J.length))return;const N={...v.mapping.crm_data,customer:((z=e.slots)==null?void 0:z.customer)||((L=e.crm_data)==null?void 0:L.customer),project:((P=e.slots)==null?void 0:P.project)||((E=e.crm_data)==null?void 0:E.project),budget:(B=e.slots)==null?void 0:B.budget,schedule:(oe=e.slots)==null?void 0:oe.schedule,participants:(le=e.slots)==null?void 0:le.participants,location:(ne=e.slots)==null?void 0:ne.location,next_action:(de=e.slots)==null?void 0:de.next_action,issues:(Ae=e.slots)==null?void 0:Ae.issues,opportunityName:((fe=e.slots)==null?void 0:fe.project)||((Ue=e.crm_data)==null?void 0:Ue.project)};j.mutate({crmType:v.mapping.crm_type,action:"update",crmData:N})};Kt();const H=e.mode==="meeting"||e.mode==="hearing",T=e.mode==="salesforce"||e.mode==="dynamics365",R=((V=e.crm_data)==null?void 0:V.actionType)==="create",G=((U=e.crm_data)==null?void 0:U.actionType)==="update"||T&&!((M=e.crm_data)!=null&&M.actionType),Q=((ee=c==null?void 0:c.salesforce)==null?void 0:ee.loggedIn)||!1,se=((ae=c==null?void 0:c.dynamics365)==null?void 0:ae.loggedIn)||!1,re=Q||se,$=async N=>{try{const Y=localStorage.getItem("token"),J=await fetch(`/api/oauth/${N}/authorize`,{headers:{Authorization:`Bearer ${Y}`}});if(!J.ok)throw new Error("Failed to get OAuth URL");const z=await J.json();window.open(z.authUrl,"_blank");const L=setInterval(async()=>{var P;try{const E=await wo.checkAuthStatus();(P=E.authStatus[N])!=null&&P.loggedIn&&(d(E.authStatus),clearInterval(L),q.success(`${N==="salesforce"?"Salesforce":"Dynamics 365"}にログインしました`))}catch(E){console.error("Auth check error:",E)}},2e3);setTimeout(()=>clearInterval(L),3e4)}catch(Y){console.error("OAuth login error:",Y),q.error("ログイン処理を開始できませんでした")}};return s.jsxs(Wq,{children:[s.jsx(qq,{children:"CRM連携"}),y&&s.jsx(Rf,{style:{backgroundColor:"var(--color-warning-light)",borderColor:"var(--color-warning)"},children:s.jsxs(co,{children:[s.jsx(uo,{style:{color:"var(--color-warning-dark)"},children:"⚠️ 下書き状態"}),s.jsx(Pa,{style:{color:"var(--color-warning-dark)",fontWeight:"var(--font-weight-medium)"},children:T?"CRMへの新規作成・更新は日報完了後に実行できます":H?"既存案件への紐付けのみ可能です。新規案件作成は日報完了後に実行できます":"CRM連携は日報完了後に実行できます"})]})}),v!=null&&v.mappings&&v.mappings.length>0?v.mappings.map((N,Y)=>s.jsxs(Rf,{children:[s.jsxs(co,{children:[s.jsxs(uo,{children:["連携先 ",v.mappings.length>1&&`(${Y+1}/${v.mappings.length})`,N.priority>0&&s.jsx("span",{style:{color:"var(--color-accent)",marginLeft:"8px"},children:"★ メイン"})]}),s.jsxs(Pa,{children:[N.crm_type==="salesforce"?"Salesforce":"Dynamics 365",s.jsx(fo,{style:{marginLeft:"auto",padding:"2px 8px",fontSize:"var(--font-size-micro)"},onClick:()=>I(N.id),children:"解除"})]})]}),N.crm_data.accountName&&s.jsxs(co,{children:[s.jsx(uo,{children:"取引先"}),s.jsx(Pa,{children:N.crm_data.accountName})]}),N.crm_data.opportunityName&&s.jsxs(co,{children:[s.jsx(uo,{children:"商談"}),s.jsx(Pa,{children:N.crm_data.opportunityName})]}),v.mappings.length>1&&Y!==0&&s.jsx(co,{children:s.jsx(fo,{style:{fontSize:"var(--font-size-micro)",padding:"4px 12px"},onClick:()=>K(N.id),children:"メインに設定"})})]},N.id||Y)):(v==null?void 0:v.mapped)&&((pe=v.mapping)==null?void 0:pe.crm_data)&&s.jsxs(Rf,{children:[s.jsxs(co,{children:[s.jsx(uo,{children:"連携先"}),s.jsx(Pa,{children:v.mapping.crm_type==="salesforce"?"Salesforce":"Dynamics 365"})]}),v.mapping.crm_data.accountName&&s.jsxs(co,{children:[s.jsx(uo,{children:"取引先"}),s.jsx(Pa,{children:v.mapping.crm_data.accountName})]}),v.mapping.crm_data.opportunityName&&s.jsxs(co,{children:[s.jsx(uo,{children:"商談"}),s.jsx(Pa,{children:v.mapping.crm_data.opportunityName})]}),v.mapping.last_sync_date&&s.jsxs(co,{children:[s.jsx(uo,{children:"最終同期"}),s.jsx(Pa,{children:new Date(v.mapping.last_sync_date).toLocaleString("ja-JP")})]})]}),u?s.jsx(Rf,{style:{marginBottom:"var(--space-3)"},children:s.jsx(co,{children:s.jsx(uo,{children:"ログイン状態を確認中..."})})}):s.jsx(s.Fragment,{children:s.jsxs("div",{style:{padding:"var(--space-3)",background:"var(--color-background)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-none)",marginBottom:"var(--space-4)"},children:[s.jsx("div",{style:{fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-bold)",color:"var(--color-text-primary)",marginBottom:"var(--space-3)"},children:"CRM連携ステータス"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr 1fr",gap:"var(--space-2)",fontSize:"var(--font-size-micro)",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--color-text-secondary)"},children:"CRMシステム"}),s.jsx("div",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--color-text-secondary)"},children:"ログイン状態"}),s.jsx("div",{style:{fontWeight:"var(--font-weight-bold)",color:"var(--color-text-secondary)"},children:"日報連携状態"}),s.jsx("div",{style:{padding:"var(--space-2)",background:"var(--color-surface)",borderLeft:"3px solid var(--color-accent)"},children:"Salesforce"}),s.jsx("div",{style:{padding:"var(--space-2)",background:"var(--color-surface)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:s.jsx("span",{style:{color:Q?"var(--color-success)":"var(--color-text-tertiary)"},children:Q?"● ログイン済み":"○ 未ログイン"})}),s.jsxs("div",{style:{padding:"var(--space-2)",background:"var(--color-surface)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[s.jsx("span",{style:{color:(ge=v==null?void 0:v.mappings)!=null&&ge.some(N=>N.crm_type==="salesforce")||v!=null&&v.mapped&&((ke=v==null?void 0:v.mapping)==null?void 0:ke.crm_type)==="salesforce"?"var(--color-primary)":"var(--color-text-tertiary)"},children:(Te=v==null?void 0:v.mappings)!=null&&Te.some(N=>N.crm_type==="salesforce")||v!=null&&v.mapped&&((ce=v==null?void 0:v.mapping)==null?void 0:ce.crm_type)==="salesforce"?"✓ この日報と連携済み":"－ 未連携"}),(()=>{var J,z,L,P,E;const N=(J=v==null?void 0:v.mappings)==null?void 0:J.find(B=>B.crm_type==="salesforce"),Y=((z=N==null?void 0:N.crm_data)==null?void 0:z.opportunityName)||(v==null?void 0:v.mapped)&&((L=v==null?void 0:v.mapping)==null?void 0:L.crm_type)==="salesforce"&&((E=(P=v==null?void 0:v.mapping)==null?void 0:P.crm_data)==null?void 0:E.opportunityName);return Y?s.jsxs("span",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-secondary)"},children:["(",Y,")"]}):null})()]}),s.jsx("div",{style:{padding:"var(--space-2)",background:"var(--color-surface)",borderLeft:"3px solid var(--color-accent)"},children:"Dynamics 365"}),s.jsx("div",{style:{padding:"var(--space-2)",background:"var(--color-surface)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:s.jsx("span",{style:{color:se?"var(--color-success)":"var(--color-text-tertiary)"},children:se?"● ログイン済み":"○ 未ログイン"})}),s.jsxs("div",{style:{padding:"var(--space-2)",background:"var(--color-surface)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[s.jsx("span",{style:{color:(me=v==null?void 0:v.mappings)!=null&&me.some(N=>N.crm_type==="dynamics365")||v!=null&&v.mapped&&((ve=v==null?void 0:v.mapping)==null?void 0:ve.crm_type)==="dynamics365"?"var(--color-primary)":"var(--color-text-tertiary)"},children:(ie=v==null?void 0:v.mappings)!=null&&ie.some(N=>N.crm_type==="dynamics365")||v!=null&&v.mapped&&((Be=v==null?void 0:v.mapping)==null?void 0:Be.crm_type)==="dynamics365"?"✓ この日報と連携済み":"－ 未連携"}),(()=>{var J,z,L,P,E;const N=(J=v==null?void 0:v.mappings)==null?void 0:J.find(B=>B.crm_type==="dynamics365"),Y=((z=N==null?void 0:N.crm_data)==null?void 0:z.opportunityName)||(v==null?void 0:v.mapped)&&((L=v==null?void 0:v.mapping)==null?void 0:L.crm_type)==="dynamics365"&&((E=(P=v==null?void 0:v.mapping)==null?void 0:P.crm_data)==null?void 0:E.opportunityName);return Y?s.jsxs("span",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-secondary)"},children:["(",Y,")"]}):null})()]})]}),s.jsx("div",{style:{marginTop:"var(--space-3)",padding:"var(--space-2)",background:"var(--color-accent-light)",fontSize:"var(--font-size-micro)",color:"var(--color-text-secondary)",borderRadius:"var(--radius-none)"},children:"💡 ログイン済みでも日報との連携は別途必要です。新規作成または既存案件への紐付けを行ってください。"})]})}),s.jsxs(Hq,{children:[H&&!u&&s.jsxs(s.Fragment,{children:[s.jsx(fo,{className:"primary",onClick:()=>{re?n(!0):h({isOpen:!0,crmType:"salesforce",action:"search",callback:()=>n(!0)})},title:re?"顧客名や案件名で既存のCRM案件を検索して紐付けます":"CRMにログインしてから既存案件を検索します",children:re?s.jsxs(s.Fragment,{children:["🔍 ",((_e=v==null?void 0:v.mappings)==null?void 0:_e.length)>0?"別のCRM案件を検索して紐付け":"既存CRM案件を検索して紐付け"]}):s.jsx(s.Fragment,{children:"🔍 CRMログイン後、既存案件を検索"})}),!y&&s.jsxs(s.Fragment,{children:[!((Se=v==null?void 0:v.mappings)!=null&&Se.some(N=>N.crm_type==="salesforce"))&&s.jsx(fo,{onClick:()=>{Q?k("salesforce"):h({isOpen:!0,crmType:"salesforce",action:"create",callback:()=>k("salesforce")})},disabled:i,children:"新規案件としてSalesforceに登録"}),!((De=v==null?void 0:v.mappings)!=null&&De.some(N=>N.crm_type==="dynamics365"))&&s.jsx(fo,{onClick:()=>{se?k("dynamics365"):h({isOpen:!0,crmType:"dynamics365",action:"create",callback:()=>k("dynamics365")})},disabled:i,children:"新規案件としてDynamics 365に登録"})]})]}),T&&R&&!(v!=null&&v.mapped)&&s.jsx(s.Fragment,{children:s.jsx(fo,{onClick:()=>k(e.mode),disabled:i||y,className:"primary",title:y?"日報を完了してから新規案件を作成してください":"",children:i?"作成中...":e.mode==="salesforce"?"新規案件としてSalesforceに登録":"新規案件としてDynamics 365に登録"})}),T&&G&&!(v!=null&&v.mapped)&&s.jsxs(s.Fragment,{children:[s.jsx(fo,{className:"primary",onClick:()=>n(!0),children:"既存のCRM案件に紐付ける"}),s.jsx(fo,{onClick:()=>k(e.mode),disabled:i||y,title:y?"日報を完了してから新規案件を作成してください":"",children:e.mode==="salesforce"?"新規案件としてSalesforceに登録":"新規案件としてDynamics 365に登録"})]}),((Qe=v==null?void 0:v.mappings)==null?void 0:Qe.length)>0&&s.jsx(s.Fragment,{children:v.mappings.map((N,Y)=>s.jsx(fo,{className:"success",onClick:()=>{var J,z,L,P,E,B,oe,le,ne,de,Ae,fe;j.mutate({crmType:N.crm_type,action:"update",crmData:{...N.crm_data,customer:((J=e.slots)==null?void 0:J.customer)||((z=e.crm_data)==null?void 0:z.customer),project:((L=e.slots)==null?void 0:L.project)||((P=e.crm_data)==null?void 0:P.project),budget:(E=e.slots)==null?void 0:E.budget,schedule:(B=e.slots)==null?void 0:B.schedule,participants:(oe=e.slots)==null?void 0:oe.participants,location:(le=e.slots)==null?void 0:le.location,next_action:(ne=e.slots)==null?void 0:ne.next_action,issues:(de=e.slots)==null?void 0:de.issues,opportunityName:((Ae=e.slots)==null?void 0:Ae.project)||((fe=e.crm_data)==null?void 0:fe.project)}})},disabled:i||y,title:y?"日報を完了してからCRMデータを更新してください":"",children:i?"同期中...":`${N.crm_type==="salesforce"?"Salesforce":"Dynamics 365"}のデータを更新`},`update-${N.id||Y}`))}),!((ot=v==null?void 0:v.mappings)!=null&&ot.length)&&(v==null?void 0:v.mapped)&&(v==null?void 0:v.mapping)&&s.jsx(fo,{className:"success",onClick:X,disabled:i||y,title:y?"日報を完了してからCRMデータを更新してください":"",children:i?"同期中...":"CRMデータを更新"})]}),(b&&b.length>0||((Ut=v==null?void 0:v.mapping)==null?void 0:Ut.last_sync_date))&&s.jsxs(Vq,{children:[s.jsx(uo,{children:"同期履歴"}),b&&b.length>0?b.map((N,Y)=>{const J=o===N.id,z=D(N),L=z.length>0||N.sync_data;return s.jsxs(Kq,{children:[s.jsxs(Yq,{onClick:()=>L&&O(N.id),className:J?"expanded":"",style:{cursor:L?"pointer":"default"},children:[s.jsxs("span",{children:[N.sync_type==="create"?"🆕 新規作成":N.sync_type==="update"?"🔄 既存更新":N.sync_type==="append"?"➕ 追記":N.sync_type==="link"?"🔗 紐付け":N.sync_type==="sync"?"🔄 同期":N.sync_type," → ",N.crm_type==="salesforce"?"Salesforce":"Dynamics 365"," | ",new Date(N.created_at).toLocaleString("ja-JP",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})," | ",s.jsx("span",{style:{color:N.sync_status==="completed"||N.sync_status==="synced"?"var(--color-success)":N.sync_status==="failed"?"var(--color-error)":"var(--color-warning)",fontWeight:"var(--font-weight-bold)"},children:N.sync_status==="completed"||N.sync_status==="synced"?"✓ 成功":N.sync_status==="failed"?"✗ 失敗":"⏳ 処理中"})]}),L&&s.jsx(Zq,{className:J?"expanded":"",children:"▼"})]}),J&&L&&s.jsx(Qq,{children:z.map((P,E)=>s.jsxs(Gq,{children:[s.jsx(Xq,{children:P.label}),s.jsx(Jq,{children:P.value||"-"})]},E))})]},`${N.id}-${Y}`)}):((A=v==null?void 0:v.mapping)==null?void 0:A.last_sync_date)&&s.jsxs(eH,{children:[s.jsxs("span",{children:[((_=v.mapping.crm_data)==null?void 0:_.actionType)==="create"?"🆕 新規作成":((W=v.mapping.crm_data)==null?void 0:W.actionType)==="update"?"🔄 既存更新":"🔄 同期"," → ",v.mapping.crm_type==="salesforce"?"Salesforce":"Dynamics 365"]}),s.jsxs("span",{children:[new Date(v.mapping.last_sync_date).toLocaleString("ja-JP")," - ",s.jsx("span",{style:{color:v.mapping.sync_status==="synced"?"var(--color-success)":v.mapping.sync_status==="failed"?"var(--color-error)":"var(--color-warning)"},children:v.mapping.sync_status==="synced"?"✓ 成功":v.mapping.sync_status==="failed"?"✗ 失敗":"⏳ 処理中"})]})]})]}),r&&s.jsx(Dq,{isOpen:r,onClose:()=>n(!1),onSelect:C}),s.jsx(Uq,{isOpen:p.isOpen,onClose:()=>h({isOpen:!1,crmType:null,action:null,callback:null}),onConfirm:async()=>{if(h({...p,isOpen:!1}),await $(p.crmType),p.callback){const N=setInterval(async()=>{var Y;try{(Y=(await wo.checkAuthStatus()).authStatus[p.crmType])!=null&&Y.loggedIn&&(clearInterval(N),p.callback())}catch(J){console.error("Login check error:",J)}},2e3);setTimeout(()=>clearInterval(N),3e4)}},crmType:p.crmType,action:p.action})]})},Yg=w.div`
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 var(--space-6);
  position: relative;
  z-index: 1;

  @media (max-width: 768px) {
    padding: 0 var(--space-4);
  }
`,Qg=w.div`
  background-color: var(--color-surface);
  padding: var(--space-6);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-structure);
  margin-bottom: var(--space-6);
  position: relative;
  transition: all 0.2s ease-in-out;
  
  &:hover {
    box-shadow: var(--shadow-elevation);
  }

  @media (max-width: 768px) {
    padding: var(--space-5);
    margin-bottom: var(--space-4);
  }
`,rH=w.div`
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-5);
  border-bottom: 2px solid var(--color-border);
  position: relative;

  @media (max-width: 768px) {
    margin-bottom: var(--space-5);
    padding-bottom: var(--space-4);
  }
`,nH=w.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--space-4);
  gap: var(--space-4);

  @media (max-width: 768px) {
    flex-direction: column;
    gap: var(--space-3);
  }
`,oH=w.div`
  display: flex;
  align-items: center;
  gap: var(--space-4);
  flex: 1;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
  }
`,aH=w.div`
  display: flex;
  gap: var(--space-3);
  flex-wrap: wrap;

  @media (max-width: 768px) {
    width: 100%;
    justify-content: flex-start;
  }
`,iH=w.h1`
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-thin);
  color: var(--color-primary);
  line-height: var(--line-height-compressed);
  margin: 0;
  letter-spacing: -0.025em;
  text-transform: uppercase;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

  @media (max-width: 768px) {
    font-size: var(--font-size-heading);
  }
`,CC=w.button`
  display: flex;
  align-items: center;
  gap: var(--space-2);
  background-color: var(--color-background);
  color: var(--color-text-primary);
  border: 2px solid var(--color-border);
  padding: var(--space-3) var(--space-4);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover {
    background-color: var(--color-surface);
    border-color: var(--color-primary);
    transform: translateY(-1px);
  }

  @media (max-width: 768px) {
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-size-micro);
  }
`,Nf=w.div`
  margin-bottom: var(--space-6);

  @media (max-width: 768px) {
    margin-bottom: var(--space-5);
  }
`,Lf=w.h2`
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin-bottom: var(--space-5);
  letter-spacing: -0.01em;
  text-transform: uppercase;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

  @media (max-width: 768px) {
    font-size: var(--font-size-lead);
    margin-bottom: var(--space-4);
  }
`,sH=w.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-5);

  @media (min-width: 1200px) {
    grid-template-columns: repeat(3, 1fr);
  }

  @media (max-width: 1024px) {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-4);
  }

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }
`,Bo=w.div`
  padding: var(--space-5);
  background: var(--color-background);
  border-radius: var(--radius-none);
  border: 2px solid var(--color-border);
  transition: all 0.2s ease-in-out;

  &:hover {
    background: var(--color-surface);
    border-color: var(--color-primary);
    box-shadow: var(--shadow-elevation);
    transform: translateY(-1px);
  }

  @media (max-width: 768px) {
    padding: var(--space-4);
  }
`,lH=w.div`
  margin-top: var(--space-6);
  padding: var(--space-5);
  background: var(--color-background);
  border-radius: var(--radius-none);
  border: 2px solid var(--color-border);

  @media (max-width: 768px) {
    padding: var(--space-4);
    margin-top: var(--space-5);
  }
`,cH=w.h3`
  font-size: var(--font-size-small);
  color: var(--color-text-primary);
  margin-bottom: var(--space-4);
  font-weight: var(--font-weight-bold);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
`,uH=w.div`
  margin-top: var(--space-6);
  padding: var(--space-5);
  background: var(--color-background);
  border-radius: var(--radius-none);
  border: 2px solid var(--color-border);

  @media (max-width: 768px) {
    padding: var(--space-4);
    margin-top: var(--space-5);
  }
`,dH=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-4);
  gap: var(--space-3);

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: stretch;
  }
`,fH=w.h3`
  font-size: var(--font-size-small);
  color: var(--color-text-primary);
  font-weight: var(--font-weight-bold);
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
`,pH=w.button`
  background: var(--color-primary);
  color: var(--color-text-inverse);
  border: 2px solid var(--color-primary);
  padding: var(--space-2) var(--space-4);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  border-radius: var(--radius-none);
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  white-space: nowrap;

  &:hover:not(:disabled) {
    background: var(--color-accent);
    border-color: var(--color-accent);
    transform: translateY(-1px);
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  @media (max-width: 768px) {
    width: 100%;
  }
`,hH=w.ol`
  list-style: none;
  counter-reset: topic-counter;
  padding: 0;
  margin: var(--space-4) 0;
`,vH=w.li`
  counter-increment: topic-counter;
  padding: var(--space-3);
  margin-bottom: var(--space-2);
  background: var(--color-surface);
  border-radius: var(--radius-none);
  border: 1px solid var(--color-border);
  color: var(--color-text-primary);
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  transition: all 0.2s ease-in-out;

  &:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-elevation);
  }

  &:before {
    content: counter(topic-counter);
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 28px;
    height: 28px;
    background: var(--color-primary);
    color: var(--color-text-inverse);
    border-radius: 50%;
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-small);
  }
`,mH=w.div`
  padding: var(--space-4);
  background: var(--color-surface);
  border-radius: var(--radius-none);
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  font-size: var(--font-size-small);
  line-height: var(--line-height-comfortable);
  margin-top: var(--space-3);
`,gH=w.p`
  color: var(--color-text-secondary);
  text-align: center;
  padding: var(--space-5);
  margin: 0;
  font-size: var(--font-size-body);
  line-height: var(--line-height-comfortable);
`,yH=w.div`
  color: var(--color-text-secondary);
  text-align: center;
  padding: var(--space-5);
  font-size: var(--font-size-body);
`,Di=w.div`
  font-size: var(--font-size-micro);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-2);
  font-weight: var(--font-weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

  @media (max-width: 768px) {
    font-size: var(--font-size-micro);
  }
`,Uo=w.div`
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  font-size: var(--font-size-body);
  line-height: var(--line-height-standard);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

  @media (max-width: 768px) {
    font-size: var(--font-size-small);
  }
`,xH=w.div`
  margin-top: var(--space-5);
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-5);

  @media (min-width: 1024px) {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-6);
  }
`,bH=w.div`
  margin-bottom: 0;
  padding: var(--space-5);
  background: var(--color-background);
  border-radius: var(--radius-none);
  border: 2px solid var(--color-border);
  border-left: 6px solid var(--color-primary);
  transition: all 0.2s ease-in-out;

  &:hover {
    background: var(--color-surface);
    border-color: var(--color-accent);
    border-left-color: var(--color-accent);
    box-shadow: var(--shadow-elevation);
    transform: translateY(-1px);
  }

  @media (max-width: 768px) {
    padding: var(--space-4);
  }
`,wH=w.div`
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin-bottom: var(--space-3);
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
  line-height: var(--line-height-standard);

  @media (max-width: 768px) {
    font-size: var(--font-size-small);
  }
`,SH=w.div`
  color: var(--color-text-secondary);
  margin-left: var(--space-6);
  line-height: var(--line-height-comfortable);

  @media (max-width: 768px) {
    font-size: var(--font-size-small);
    margin-left: var(--space-5);
  }
`,jH=w.div`
  min-height: 400px;
  display: flex;
  align-items: center;
  justify-content: center;
`,kH=w.div`
  text-align: center;
  padding: var(--space-12);
  color: var(--color-error);
`,CH=w.button`
  background-color: var(--color-primary);
  color: var(--color-text-inverse);
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-primary);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover:not(:disabled) {
    background-color: var(--color-warning);
    border-color: var(--color-warning);
    transform: translateY(-1px);
  }
  
  &:disabled {
    background-color: var(--color-text-tertiary);
    border-color: var(--color-text-tertiary);
    cursor: not-allowed;
  }
  
  @media (max-width: 768px) {
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-size-small);
  }
`,PH=w.button`
  background-color: var(--color-success);
  color: var(--color-text-inverse);
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-success);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover:not(:disabled) {
    background-color: var(--color-success);
    border-color: var(--color-success);
    transform: translateY(-1px);
  }
  
  &:disabled {
    background-color: var(--color-text-secondary);
    border-color: var(--color-text-secondary);
    cursor: not-allowed;
  }
  
  @media (max-width: 768px) {
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-size-small);
  }
`,AH=w.button`
  background-color: var(--color-error);
  color: var(--color-text-inverse);
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-error);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover:not(:disabled) {
    background-color: var(--color-error);
    border-color: var(--color-error);
    transform: translateY(-1px);
  }
  
  &:disabled {
    background-color: var(--color-text-secondary);
    border-color: var(--color-text-secondary);
    cursor: not-allowed;
  }
  
  @media (max-width: 768px) {
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-size-small);
  }
`,OH=w.button`
  background-color: var(--color-accent);
  color: var(--color-text-inverse);
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-accent);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  display: flex;
  align-items: center;
  gap: var(--space-2);
  
  &:hover:not(:disabled) {
    background-color: var(--color-text-inverse);
    color: var(--color-accent);
    transform: translateY(-1px);
  }
  
  &:disabled {
    background-color: var(--color-text-secondary);
    border-color: var(--color-text-secondary);
    cursor: not-allowed;
  }
  
  @media (max-width: 768px) {
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-size-small);
  }
`,_H=w.span`
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-none);
  font-size: var(--font-size-micro);
  font-weight: var(--font-weight-medium);
  letter-spacing: 0.08em;
  background: ${e=>e.status==="completed"?"var(--color-success-light)":"var(--color-warning-light)"};
  color: ${e=>e.status==="completed"?"var(--color-success)":"var(--color-warning)"};
  border: 1px solid transparent;
  white-space: nowrap;

  @media (max-width: 768px) {
    font-size: var(--font-size-micro);
    padding: var(--space-1) var(--space-3);
  }
`,Gg=w.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: var(--space-4);
`,Xg=w.div`
  background: white;
  border-radius: var(--radius-none);
  padding: var(--space-8);
  max-width: 500px;
  width: 100%;
  box-shadow: var(--shadow-structure);
  animation: slideIn 0.2s ease-out;

  @keyframes slideIn {
    from {
      transform: translateY(-20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @media (max-width: 768px) {
    padding: var(--space-6);
  }
`,Jg=w.h3`
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin-bottom: var(--space-4);
  text-align: center;
`,Zg=w.p`
  font-size: var(--font-size-body);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-6);
  text-align: center;
  line-height: var(--line-height-comfortable);
`,ey=w.div`
  display: flex;
  gap: var(--space-3);
  justify-content: center;
`,ty=w.button`
  color: var(--color-text-inverse);
  padding: var(--space-3) var(--space-5);
  border: 2px solid transparent;
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  min-width: 120px;

  &:hover:not(:disabled) {
    opacity: 0.9;
    transform: translateY(-1px);
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
`,ry=w.button`
  background-color: var(--color-background);
  color: var(--color-text-primary);
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  min-width: 120px;

  &:hover {
    background-color: var(--color-surface);
    border-color: var(--color-primary);
    transform: translateY(-1px);
  }
`,EH=()=>{const{id:e}=mc(),t=Kt(),{user:r}=oo(),n=ji(),[o,a]=m.useState(!1),[i,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState(!1),{data:p,isLoading:h,error:g}=Or({queryKey:["report",e],queryFn:()=>an.getReport(e)}),x=(p==null?void 0:p.tags)||[],y=_t({mutationFn:()=>an.updateReport(e,{status:"completed"}),onSuccess:()=>{n.invalidateQueries(["report",e]),n.invalidateQueries(["reports"]),q.success("日報を完了しました")},onError:()=>{q.error("日報の完了に失敗しました")}}),v=_t({mutationFn:()=>an.deleteReport(e),onSuccess:()=>{q.success("日報を削除しました"),t("/")},onError:()=>{q.error("日報の削除に失敗しました")}}),S=_t({mutationFn:()=>an.updateReportStatus(e,"draft"),onSuccess:()=>{q.success("日報を下書きに戻しました"),n.invalidateQueries(["report",e]),t(`/reports/${e}/edit`)},onError:R=>{var G,Q;console.error("Revert to draft error:",R),q.error(((Q=(G=R.response)==null?void 0:G.data)==null?void 0:Q.error)||"下書きに戻せませんでした")}}),b=_t({mutationFn:()=>an.generateSuggestions(e),onSuccess:R=>{n.invalidateQueries(["report",e]),q.success("AI提案を生成しました")},onError:R=>{console.error("Generate suggestions error:",R),q.error("AI提案の生成に失敗しました")}}),j=()=>{b.mutate()},k=p!=null&&p.ai_suggestions?typeof p.ai_suggestions=="string"?JSON.parse(p.ai_suggestions):p.ai_suggestions:null;if(h)return s.jsx(Yg,{children:s.jsx(Qg,{children:s.jsx(jH,{children:s.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid var(--color-border)",borderTopColor:"var(--color-primary)",borderRadius:"50%",animation:"spin 1s linear infinite"},children:s.jsx("style",{children:`
                @keyframes spin {
                  from { transform: rotate(0deg); }
                  to { transform: rotate(360deg); }
                }
              `})})})})});if(g)return s.jsx(Yg,{children:s.jsx(Qg,{children:s.jsxs(kH,{children:[s.jsx("p",{children:"日報の読み込みに失敗しました"}),s.jsx(CC,{onClick:()=>t("/"),children:"ホームに戻る"})]})})});const C=p.slots||{},O=r&&r.id===p.user_id,D=()=>{l(!0)},I=()=>{y.mutate(),l(!1)},K=()=>{d(!0)},X=()=>{v.mutate(),d(!1)},H=()=>{p.status==="completed"?f(!0):t(`/reports/${e}/edit`)},T=()=>{f(!1),S.mutate()};return s.jsxs(Yg,{children:[s.jsxs(Qg,{children:[s.jsx(rH,{children:s.jsxs(nH,{children:[s.jsxs(oH,{children:[s.jsxs(iH,{children:[rn(new Date(p.report_date),"yyyy年MM月dd日(E)",{locale:Vo}),"の日報"]}),s.jsx(_H,{status:p.status,children:p.status==="completed"?"完了":"下書き"})]}),s.jsxs(aH,{children:[O&&p.status==="draft"&&s.jsx(PH,{onClick:D,disabled:y.isPending,children:y.isPending?"処理中...":"日報を完了する"}),O&&s.jsxs(s.Fragment,{children:[s.jsx(OH,{onClick:()=>t(`/reports/${e}/scripts/generate`),children:"スクリプト生成"}),s.jsx(CH,{onClick:H,children:"編集"}),s.jsx(AH,{onClick:K,disabled:v.isPending,children:v.isPending?"削除中...":"削除"})]}),s.jsx(CC,{onClick:()=>t("/"),children:"戻る"})]})]})}),s.jsxs(Nf,{children:[s.jsx(Lf,{children:"基本情報"}),s.jsxs(sH,{children:[C.customer&&s.jsxs(Bo,{children:[s.jsx(Di,{children:"顧客"}),s.jsx(Uo,{children:C.customer})]}),C.project&&C.project.trim()&&s.jsxs(Bo,{children:[s.jsx(Di,{children:"案件"}),s.jsx(Uo,{children:C.project})]}),C.budget&&s.jsxs(Bo,{children:[s.jsx(Di,{children:"予算"}),s.jsx(Uo,{children:C.budget})]}),C.schedule&&s.jsxs(Bo,{children:[s.jsx(Di,{children:"スケジュール"}),s.jsx(Uo,{children:C.schedule})]}),C.location&&s.jsxs(Bo,{children:[s.jsx(Di,{children:"場所"}),s.jsx(Uo,{children:C.location})]}),C.participants&&C.participants.trim()&&s.jsxs(Bo,{children:[s.jsx(Di,{children:"参加者"}),s.jsx(Uo,{children:C.participants})]}),C.industry&&C.industry.trim()&&s.jsxs(Bo,{children:[s.jsx(Di,{children:"業界"}),s.jsx(Uo,{children:C.industry})]})]})]}),C.next_action&&(typeof C.next_action=="string"?C.next_action.trim():C.next_action.length>0)&&s.jsxs(Nf,{children:[s.jsx(Lf,{children:"次のアクション"}),s.jsx(Bo,{children:s.jsx(Uo,{children:typeof C.next_action=="string"?C.next_action.split(",").map((R,G)=>s.jsxs("div",{style:{marginBottom:"8px",display:"flex",alignItems:"flex-start"},children:[s.jsx("span",{style:{marginRight:"8px",color:"var(--color-accent)",fontWeight:"bold"},children:"•"}),s.jsx("span",{children:R.trim()})]},G)):Array.isArray(C.next_action)?C.next_action.map((R,G)=>{let Q="";if(typeof R=="object"&&R!==null)if(R.task){const se=[R.task];R.responsible&&se.push(`担当: ${R.responsible}`),R.deadline&&se.push(`期限: ${R.deadline}`),Q=se.join(" ")}else Q=R.action||R.text||JSON.stringify(R);else Q=String(R);return s.jsxs("div",{style:{marginBottom:"8px",display:"flex",alignItems:"flex-start"},children:[s.jsx("span",{style:{marginRight:"8px",color:"var(--color-accent)",fontWeight:"bold"},children:"•"}),s.jsx("span",{children:Q})]},G)}):null})})]}),C.issues&&(typeof C.issues=="string"?C.issues.trim():C.issues.length>0)&&s.jsxs(Nf,{children:[s.jsx(Lf,{children:"課題・リスク"}),s.jsx(Bo,{children:s.jsx(Uo,{children:typeof C.issues=="string"?C.issues.split(",").map((R,G)=>s.jsxs("div",{style:{marginBottom:"8px",display:"flex",alignItems:"flex-start"},children:[s.jsx("span",{style:{marginRight:"8px",color:"var(--color-error)",fontWeight:"bold"},children:"•"}),s.jsx("span",{children:R.trim()})]},G)):Array.isArray(C.issues)?C.issues.map((R,G)=>{let Q="";return typeof R=="object"&&R!==null?Q=R.issue||R.description||R.text||JSON.stringify(R):Q=String(R),s.jsxs("div",{style:{marginBottom:"8px",display:"flex",alignItems:"flex-start"},children:[s.jsx("span",{style:{marginRight:"8px",color:"var(--color-error)",fontWeight:"bold"},children:"•"}),s.jsx("span",{children:Q})]},G)}):null})})]}),p.questions_answers&&p.questions_answers.length>0&&s.jsxs(Nf,{children:[s.jsx(Lf,{children:"ヒアリング内容"}),s.jsx(xH,{children:p.questions_answers.map((R,G)=>s.jsxs(bH,{children:[s.jsxs(wH,{children:[s.jsxs("span",{children:["Q",G+1,"."]}),R.question]}),s.jsx(SH,{children:R.answer})]},G))})]}),x&&x.length>0&&s.jsxs(lH,{children:[s.jsx(cH,{children:"タグ"}),s.jsx($x,{tags:x,showCategory:!0,onTagClick:R=>{t(`/tags/${R.id}`)}})]}),s.jsxs(uH,{children:[s.jsxs(dH,{children:[s.jsx(fH,{children:"次回商談の提案 (AI生成)"}),s.jsx(pH,{onClick:j,disabled:b.isPending||k&&!k.has_past_reports,children:b.isPending?"生成中...":"提案を再生成"})]}),b.isPending?s.jsx(yH,{children:"AI提案を生成しています..."}):k&&k.has_past_reports?s.jsxs(s.Fragment,{children:[s.jsx(hH,{children:k.next_topics.map((R,G)=>s.jsx(vH,{children:R},G))}),k.reasoning&&s.jsxs(mH,{children:[s.jsx("strong",{children:"提案理由："})," ",k.reasoning]})]}):s.jsx(gH,{children:k&&!k.has_past_reports?"まだ過去の日報がありません。最初の商談として、顧客のニーズと課題をしっかり聞き取ることに集中しましょう。":"AI提案を生成するには「提案を再生成」ボタンをクリックしてください。"})]})]}),s.jsx(tH,{report:p}),i&&s.jsx(Gg,{onClick:()=>l(!1),children:s.jsxs(Xg,{onClick:R=>R.stopPropagation(),children:[s.jsx(Jg,{children:"日報を完了しますか？"}),s.jsxs(Zg,{children:["完了後も編集は可能です。",s.jsx("br",{}),"ステータスが「完了」に変更されます。"]}),s.jsxs(ey,{children:[s.jsx(ty,{onClick:I,disabled:y.isPending,style:{backgroundColor:"var(--color-success)",borderColor:"var(--color-success)"},children:y.isPending?"処理中...":"完了する"}),s.jsx(ry,{onClick:()=>l(!1),children:"キャンセル"})]})]})}),c&&s.jsx(Gg,{onClick:()=>d(!1),children:s.jsxs(Xg,{onClick:R=>R.stopPropagation(),children:[s.jsx(Jg,{children:"日報を削除しますか？"}),s.jsxs(Zg,{children:["この操作は取り消せません。",s.jsx("br",{}),"本当に削除してもよろしいですか？"]}),s.jsxs(ey,{children:[s.jsx(ty,{onClick:X,disabled:v.isPending,style:{backgroundColor:"var(--color-error)",borderColor:"var(--color-error)"},children:v.isPending?"削除中...":"削除する"}),s.jsx(ry,{onClick:()=>d(!1),children:"キャンセル"})]})]})}),u&&s.jsx(Gg,{onClick:()=>f(!1),children:s.jsxs(Xg,{onClick:R=>R.stopPropagation(),children:[s.jsx(Jg,{children:"完了済み日報の編集"}),s.jsxs(Zg,{children:["完了済みの日報を編集すると、ステータスが「下書き」に戻ります。",s.jsx("br",{}),"CRM連携情報は保持されますが、再度「日報を完了する」ボタンを押す必要があります。",s.jsx("br",{}),s.jsx("br",{}),"編集を続けますか？"]}),s.jsxs(ey,{children:[s.jsx(ty,{onClick:T,disabled:S.isPending,style:{backgroundColor:"var(--color-warning)",borderColor:"var(--color-warning)"},children:S.isPending?"処理中...":"下書きに戻して編集"}),s.jsx(ry,{onClick:()=>f(!1),children:"キャンセル"})]})]})})]})},ny=w.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-6) var(--space-5);
  min-height: 100vh;
  background: var(--color-background);

  @media (max-width: 768px) {
    padding: var(--space-5) var(--space-4);
  }
`,oy=w.div`
  background: var(--color-surface);
  border-radius: var(--radius-subtle);
  box-shadow: var(--shadow-structure);
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border: 1px solid var(--color-border);

  @media (max-width: 768px) {
    border-radius: var(--radius-subtle);
    box-shadow: var(--shadow-elevation);
  }
`,TH=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-6);
  background: var(--color-primary);
  border-bottom: 1px solid var(--color-border);
  position: relative;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-4);
    padding: var(--space-5);
  }
`,MH=w.h1`
  font-size: var(--font-size-heading);
  font-weight: var(--font-weight-thin);
  color: var(--color-text-inverse);
  letter-spacing: -0.025em;
  text-transform: uppercase;
  position: relative;

  @media (max-width: 768px) {
    font-size: var(--font-size-title);
  }
`,$H=w.div`
  display: flex;
  gap: 12px;
  position: relative;
  z-index: 1;

  @media (max-width: 768px) {
    width: 100%;
    flex-direction: column;
  }
`,PC=w.button`
  background: var(--color-accent);
  color: var(--color-text-inverse);
  padding: var(--space-3) var(--space-5);
  border: none;
  border-radius: var(--radius-subtle);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: var(--shadow-elevation);
  }
  
  &:active:not(:disabled) {
    transform: translateY(0);
  }
  
  &:disabled {
    background: var(--color-text-tertiary);
    cursor: not-allowed;
  }
  
  @media (max-width: 768px) {
    width: 100%;
    padding: var(--space-3) var(--space-4);
  }
`,zH=w.button`
  background: transparent;
  color: var(--color-text-inverse);
  padding: var(--space-3) var(--space-5);
  border: 1px solid var(--color-text-inverse);
  border-radius: var(--radius-subtle);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover {
    background: var(--color-text-inverse);
    color: var(--color-primary);
    transform: translateY(-1px);
  }
  
  @media (max-width: 768px) {
    width: 100%;
    padding: var(--space-3) var(--space-4);
  }
`,DH=w.div`
  flex: 1;
  overflow-y: auto;
  background: var(--color-surface);

  &::-webkit-scrollbar {
    width: 6px;
  }

  &::-webkit-scrollbar-track {
    background: var(--color-surface-alt);
  }

  &::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: var(--radius-subtle);
  }

  &::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-tertiary);
  }
`,IH=w.form`
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-5);
  padding: var(--space-6);

  @media (min-width: 1024px) {
    grid-template-columns: repeat(2, 1fr);
    column-gap: var(--space-6);
    row-gap: var(--space-5);
  }

  @media (max-width: 768px) {
    padding: var(--space-5);
    gap: var(--space-4);
  }
`,po=w.div`
  display: flex;
  flex-direction: column;
  position: relative;
  
  &.full-width {
    grid-column: 1 / -1;
  }

  &::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 0;
    right: 0;
    height: 1px;
    background: var(--color-border-light);
    opacity: 0;
    transition: opacity 0.3s;
  }

  &:focus-within::after {
    opacity: 1;
  }

  &:focus-within label {
    color: var(--color-accent);
  }

  &:focus-within label::before {
    background: var(--color-accent);
    transform: scale(1.5);
  }
`,ho=w.label`
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-2);
  letter-spacing: 0.05em;
  text-transform: uppercase;
  display: flex;
  align-items: center;
  gap: var(--space-2);
  transition: color 0.2s;

  &::before {
    content: '';
    width: 3px;
    height: 3px;
    background: var(--color-tertiary);
    transition: all 0.2s;
  }
`,Ii=w.input`
  width: 100%;
  min-height: 48px;
  padding: var(--space-3) var(--space-4);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-subtle);
  font-size: var(--font-size-body);
  background: var(--color-background);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  color: var(--color-text-primary);
  font-weight: var(--font-weight-regular);
  
  &::placeholder {
    color: var(--color-text-tertiary);
  }
  
  &:focus {
    outline: none;
    border-color: var(--color-accent);
    background: var(--color-background);
    box-shadow: var(--shadow-focused);
  }
  
  &:hover:not(:disabled):not(:focus) {
    border-color: var(--color-tertiary);
  }
  
  &:disabled {
    background: var(--color-surface-alt);
    color: var(--color-text-tertiary);
    cursor: not-allowed;
  }
`,Ix=w.textarea`
  width: 100%;
  padding: var(--space-3) var(--space-4);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-subtle);
  font-size: var(--font-size-body);
  min-height: ${e=>e.large?"200px":"140px"};
  line-height: var(--line-height-comfortable);
  background: var(--color-background);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  color: var(--color-text-primary);
  font-weight: var(--font-weight-regular);
  resize: vertical;
  
  &::placeholder {
    color: var(--color-text-tertiary);
    line-height: var(--line-height-comfortable);
  }
  
  &:focus {
    outline: none;
    border-color: var(--color-accent);
    background: var(--color-background);
    box-shadow: var(--shadow-focused);
  }
  
  &:hover:not(:disabled):not(:focus) {
    border-color: var(--color-tertiary);
  }
  
  &:disabled {
    background: var(--color-surface-alt);
    color: var(--color-text-tertiary);
    cursor: not-allowed;
  }
`,RH=w.div`
  min-height: 500px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 24px;
`,NH=w.div`
  width: 48px;
  height: 48px;
  border: 2px solid var(--color-border);
  border-top-color: var(--color-accent);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;

  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
`,LH=w.p`
  color: var(--color-text-secondary);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
`,FH=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  padding: 0 var(--space-4);
  
  @media (max-width: 768px) {
    padding: 0 var(--space-2);
  }
`,BH=w.div`
  background-color: var(--color-surface-alt);
  border-radius: var(--radius-subtle);
  padding: var(--space-5) var(--space-6);
  border: 1px solid var(--color-border);
  
  @media (max-width: 768px) {
    padding: var(--space-4) var(--space-4);
  }
`,UH=w.div`
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin-bottom: var(--space-3);
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
  
  span {
    color: var(--color-accent);
    font-weight: var(--font-weight-bold);
    min-width: 30px;
  }
`,WH=w(Ix)`
  margin-top: var(--space-2);
  background: var(--color-background);
  border: 1px solid var(--color-border);

  &:focus {
    border-color: var(--color-accent);
    outline: none;
  }
`,qH=w.div`
  margin-top: var(--space-6);
  padding: var(--space-5);
  background: var(--color-background);
  border-radius: var(--radius-subtle);
  border: 1px solid var(--color-border);
`,HH=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-4);
`,VH=w.h3`
  font-size: var(--font-size-body);
  color: var(--color-text-primary);
  font-weight: var(--font-weight-bold);
  margin: 0;
`,KH=w.button`
  background: transparent;
  color: var(--color-accent);
  border: 2px solid var(--color-accent);
  padding: var(--space-2) var(--space-4);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  border-radius: var(--radius-subtle);
  transition: all 0.2s;

  &:hover {
    background: var(--color-accent);
    color: var(--color-text-inverse);
  }
`,YH=w.div`
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
`,QH=w.div`
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  background: ${e=>e.color||"var(--color-accent)"};
  color: var(--color-text-inverse);
  border-radius: var(--radius-subtle);
  font-size: var(--font-size-small);
`,GH=w.button`
  background: transparent;
  border: none;
  color: var(--color-text-inverse);
  cursor: pointer;
  padding: 0;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.2s;
  font-size: var(--font-size-body);
  line-height: 1;

  &:hover {
    background: rgba(255, 255, 255, 0.2);
  }
`,XH=w.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: var(--space-4);
`,JH=w.div`
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-subtle);
  padding: var(--space-6);
  max-width: 600px;
  width: 100%;
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: var(--shadow-structure);
`,ZH=w.h3`
  font-size: var(--font-size-large);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin-bottom: var(--space-4);
`,eV=w.div`
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin-bottom: var(--space-4);
`,tV=w.button`
  background: ${e=>e.selected?"var(--color-accent)":"var(--color-background)"};
  color: ${e=>e.selected?"var(--color-text-inverse)":"var(--color-text)"};
  border: 2px solid ${e=>e.selected?"var(--color-accent)":"var(--color-border)"};
  padding: var(--space-2) var(--space-3);
  font-size: var(--font-size-small);
  cursor: pointer;
  border-radius: var(--radius-subtle);
  transition: all 0.2s;

  &:hover {
    border-color: var(--color-accent);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,rV=w.div`
  margin-bottom: var(--space-5);
`,nV=w.h4`
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-3);
`,AC=w.div`
  display: flex;
  gap: var(--space-3);
  justify-content: flex-end;
  margin-top: var(--space-5);
`,oV=w.div`
  border-top: 2px solid var(--color-border);
  padding-top: var(--space-5);
  margin-top: var(--space-5);
`,aV=w.h4`
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin-bottom: var(--space-4);
`,ay=w.div`
  margin-bottom: var(--space-4);
`,iy=w.label`
  display: block;
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  color: var(--color-text);
  margin-bottom: var(--space-2);
`,iV=w.input`
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-subtle);
  font-size: var(--font-size-small);
  background: var(--color-background);

  &:focus {
    outline: none;
    border-color: var(--color-accent);
  }
`,sV=w.select`
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-subtle);
  font-size: var(--font-size-small);
  background: var(--color-background);

  &:focus {
    outline: none;
    border-color: var(--color-accent);
  }
`,lV=w.div`
  display: flex;
  align-items: center;
  gap: var(--space-3);
`,cV=w.input`
  width: 60px;
  height: 40px;
  border: 2px solid var(--color-border);
  border-radius: var(--radius-subtle);
  cursor: pointer;

  &::-webkit-color-swatch-wrapper {
    padding: 0;
  }

  &::-webkit-color-swatch {
    border: none;
    border-radius: var(--radius-subtle);
  }
`,uV=w.button`
  background: transparent;
  color: var(--color-accent);
  border: 2px dashed var(--color-accent);
  padding: var(--space-3) var(--space-4);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  border-radius: var(--radius-subtle);
  transition: all 0.2s;
  width: 100%;
  margin-bottom: var(--space-5);

  &:hover {
    background: var(--color-accent);
    color: var(--color-text-inverse);
  }
`,Ff=w.button`
  background: ${e=>e.primary?"var(--color-accent)":"transparent"};
  color: ${e=>e.primary?"var(--color-text-inverse)":"var(--color-text)"};
  border: 2px solid ${e=>e.primary?"var(--color-accent)":"var(--color-border)"};
  padding: var(--space-3) var(--space-5);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  border-radius: var(--radius-subtle);
  transition: all 0.2s;

  &:hover:not(:disabled) {
    background: ${e=>e.primary?"var(--color-primary)":"var(--color-border)"};
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,dV=()=>{var re;const{id:e}=mc(),t=Kt(),{user:r}=oo(),n=ji(),{data:o,isLoading:a}=Or({queryKey:["report",e],queryFn:()=>an.getReport(e)}),[i,l]=m.useState({customer:"",project:"",next_action:"",budget:"",schedule:"",location:"",issues:"",participants:"",industry:""}),[c,d]=m.useState([]),[u,f]=m.useState(!1),[p,h]=m.useState(null),[g,x]=m.useState(!1),[y,v]=m.useState({name:"",category:"company",color:"#3B82F6"}),S=(o==null?void 0:o.tags)||[],{data:b=[]}=Or({queryKey:["allTags"],queryFn:()=>Ur.getAll()});Le.useEffect(()=>{o!=null&&o.slots&&l({customer:o.slots.customer||"",project:o.slots.project||"",next_action:o.slots.next_action?o.slots.next_action.replace(/,/g,`
`):"",budget:o.slots.budget||"",schedule:o.slots.schedule||"",location:o.slots.location||"",issues:o.slots.issues?o.slots.issues.replace(/,/g,`
`):"",participants:o.slots.participants||"",industry:o.slots.industry||""}),o!=null&&o.questions_answers&&d(o.questions_answers)},[o]);const j=_t({mutationFn:$=>an.updateReport(e,$),onSuccess:()=>{n.invalidateQueries(["report",e]),n.invalidateQueries(["reports"]),q.success("日報を更新しました"),t(`/reports/${e}`)},onError:()=>{q.error("日報の更新に失敗しました")}}),k=_t({mutationFn:$=>cl.syncReport($),onSuccess:()=>{q.success("Dynamics 365に同期しました")},onError:$=>{console.error("Dynamics 365 sync error:",$),q.error("Dynamics 365への同期に失敗しました")}}),C=_t({mutationFn:$=>Ur.addToReport(e,$),onSuccess:()=>{n.invalidateQueries(["report",e]),n.invalidateQueries(["allTags"]),q.success("タグを追加しました"),f(!1),h(null)},onError:$=>{var U,M;console.error("Add tag error:",$);const V=((M=(U=$.response)==null?void 0:U.data)==null?void 0:M.message)||"タグの追加に失敗しました";q.error(V)}}),O=_t({mutationFn:$=>Ur.removeFromReport(e,$),onSuccess:()=>{n.invalidateQueries(["report",e]),n.invalidateQueries(["allTags"]),q.success("タグを削除しました")},onError:$=>{var U,M;console.error("Remove tag error:",$);const V=((M=(U=$.response)==null?void 0:U.data)==null?void 0:M.message)||"タグの削除に失敗しました";q.error(V)}}),D=_t({mutationFn:async $=>{const U=(await Ur.createTag($)).tag;return await Ur.addToReport(e,U.id),U},onSuccess:()=>{n.invalidateQueries(["report",e]),n.invalidateQueries(["allTags"]),q.success("タグを作成して追加しました"),x(!1),v({name:"",category:"company",color:"#3B82F6"})},onError:$=>{var U,M;console.error("Create and add tag error:",$);const V=((M=(U=$.response)==null?void 0:U.data)==null?void 0:M.message)||"タグの作成に失敗しました";q.error(V)}}),I=()=>{const $={customer:i.customer,project:i.project,participants:i.participants,location:i.location,budget:i.budget,schedule:i.schedule,next_action:i.next_action,issues:i.issues,questions_answers:(o==null?void 0:o.questions_answers)||[],dynamics365_account_id:o==null?void 0:o.dynamics365_account_id,dynamics365_opportunity_id:o==null?void 0:o.dynamics365_opportunity_id};k.mutate($)};if(a)return s.jsx(ny,{children:s.jsx(oy,{children:s.jsxs(RH,{children:[s.jsx(NH,{}),s.jsx(LH,{children:"日報を読み込んでいます..."})]})})});if(!o||o.user_id!==(r==null?void 0:r.id))return s.jsx(ny,{children:s.jsx(oy,{children:s.jsx("p",{children:"この日報を編集する権限がありません"})})});const K=$=>{$.preventDefault();const V={customer:i.customer,project:i.project,next_action:i.next_action.trim()?i.next_action.split(`
`).map(U=>U.trim()).filter(U=>U).join(", "):"",budget:i.budget,schedule:i.schedule,location:i.location,issues:i.issues.trim()?i.issues.split(`
`).map(U=>U.trim()).filter(U=>U).join(", "):"",participants:i.participants,industry:i.industry};j.mutate({slots:V,questions_answers:c,status:"draft"})},X=$=>{const{name:V,value:U}=$.target;l(M=>({...M,[V]:U}))},H=($,V)=>{d(U=>{const M=[...U];return M[$]={...M[$],answer:V},M})},T=()=>{p&&C.mutate(p)},R=$=>{window.confirm("このタグを削除しますか？")&&O.mutate($)},G=()=>{if(!y.name.trim()){q.error("タグ名を入力してください");return}D.mutate(y)},Q=b.reduce(($,V)=>($[V.category]||($[V.category]=[]),$[V.category].push(V),$),{}),se=S.map($=>$.id);return s.jsxs(ny,{children:[s.jsxs(oy,{children:[s.jsxs(TH,{children:[s.jsx(MH,{children:"日報を編集"}),s.jsxs($H,{children:[s.jsx(PC,{form:"edit-form",type:"submit",disabled:j.isPending,children:j.isPending?"保存中...":"保存する"}),((re=o==null?void 0:o.slots)==null?void 0:re.dynamics365_account_id)&&s.jsx(PC,{type:"button",onClick:I,disabled:k.isPending,style:{background:"var(--color-secondary)",borderColor:"var(--color-secondary)"},children:k.isPending?"同期中...":"Dynamics 365に同期"}),s.jsx(zH,{onClick:()=>t(`/reports/${e}`),children:"キャンセル"})]})]}),s.jsxs(DH,{children:[s.jsxs(IH,{id:"edit-form",onSubmit:K,children:[s.jsxs(po,{children:[s.jsx(ho,{htmlFor:"customer",children:"顧客名"}),s.jsx(Ii,{id:"customer",name:"customer",value:i.customer,onChange:X,placeholder:"例: 株式会社〇〇"})]}),s.jsxs(po,{children:[s.jsx(ho,{htmlFor:"project",children:"案件名"}),s.jsx(Ii,{id:"project",name:"project",value:i.project,onChange:X,placeholder:"例: 新システム導入プロジェクト"})]}),s.jsxs(po,{children:[s.jsx(ho,{htmlFor:"budget",children:"予算"}),s.jsx(Ii,{id:"budget",name:"budget",value:i.budget,onChange:X,placeholder:"例: 1,000万円"})]}),s.jsxs(po,{children:[s.jsx(ho,{htmlFor:"schedule",children:"スケジュール"}),s.jsx(Ii,{id:"schedule",name:"schedule",value:i.schedule,onChange:X,placeholder:"例: 2024年3月末まで"})]}),s.jsxs(po,{children:[s.jsx(ho,{htmlFor:"location",children:"場所"}),s.jsx(Ii,{id:"location",name:"location",value:i.location,onChange:X,placeholder:"例: 東京本社 会議室A"})]}),s.jsxs(po,{className:"full-width",children:[s.jsx(ho,{htmlFor:"next_action",children:"次のアクション"}),s.jsx(Ix,{id:"next_action",name:"next_action",value:i.next_action,onChange:X,placeholder:`例:
・見積書を作成して送付
・次回ミーティングの日程調整
・技術資料の準備`,large:!0})]}),s.jsxs(po,{children:[s.jsx(ho,{htmlFor:"participants",children:"参加者"}),s.jsx(Ii,{id:"participants",name:"participants",value:i.participants,onChange:X,placeholder:"例: 田中部長、山田様、鈴木様"})]}),s.jsxs(po,{children:[s.jsx(ho,{htmlFor:"industry",children:"業界"}),s.jsx(Ii,{id:"industry",name:"industry",value:i.industry,onChange:X,placeholder:"例: 建設業、IT業、製造業など"})]}),s.jsxs(po,{className:"full-width",children:[s.jsx(ho,{htmlFor:"issues",children:"課題・リスク"}),s.jsx(Ix,{id:"issues",name:"issues",value:i.issues,onChange:X,placeholder:`例:
・予算オーバーの懸念あり
・競合他社も提案中
・意思決定者が不明確`,large:!0})]})]}),c&&c.length>0&&s.jsxs(po,{className:"full-width",children:[s.jsx(ho,{style:{fontSize:"var(--font-size-body)",marginBottom:"var(--space-4)",marginLeft:"var(--space-4)",display:"block"},children:"ヒアリング内容"}),s.jsx(FH,{children:c.map(($,V)=>s.jsxs(BH,{children:[s.jsxs(UH,{children:[s.jsxs("span",{children:["Q",V+1,"."]}),$.question]}),s.jsx(WH,{value:$.answer||"",onChange:U=>H(V,U.target.value),placeholder:"回答を入力してください",rows:4})]},V))})]}),s.jsxs(qH,{children:[s.jsxs(HH,{children:[s.jsx(VH,{children:"タグ"}),s.jsx(KH,{type:"button",onClick:()=>f(!0),children:"+ タグを追加"})]}),S&&S.length>0?s.jsx(YH,{children:S.map($=>s.jsxs(QH,{color:$.color,children:[$.name,$.category&&s.jsxs("span",{style:{marginLeft:"var(--space-2)",opacity:.8,fontSize:"var(--font-size-micro)"},children:["(",$.category,")"]}),s.jsx(GH,{type:"button",onClick:()=>R($.id),children:"×"})]},$.id))}):s.jsx("p",{style:{color:"var(--color-text-secondary)",fontSize:"var(--font-size-small)",margin:0},children:"タグが設定されていません"})]})]})]}),u&&s.jsx(XH,{onClick:()=>f(!1),children:s.jsxs(JH,{onClick:$=>$.stopPropagation(),children:[s.jsx(ZH,{children:"タグを追加"}),s.jsx(uV,{type:"button",onClick:()=>x(!g),children:g?"既存のタグから選択":"+ 新しいタグを作成"}),g?s.jsxs(oV,{children:[s.jsx(aV,{children:"新しいタグを作成"}),s.jsxs(ay,{children:[s.jsx(iy,{children:"タグ名 *"}),s.jsx(iV,{type:"text",placeholder:"例: 重要顧客",value:y.name,onChange:$=>v({...y,name:$.target.value})})]}),s.jsxs(ay,{children:[s.jsx(iy,{children:"カテゴリ *"}),s.jsxs(sV,{value:y.category,onChange:$=>v({...y,category:$.target.value}),children:[s.jsx("option",{value:"company",children:"会社"}),s.jsx("option",{value:"person",children:"人物"}),s.jsx("option",{value:"topic",children:"トピック"}),s.jsx("option",{value:"emotion",children:"感情"}),s.jsx("option",{value:"stage",children:"ステージ"}),s.jsx("option",{value:"industry",children:"業界"}),s.jsx("option",{value:"product",children:"製品"})]})]}),s.jsxs(ay,{children:[s.jsx(iy,{children:"色"}),s.jsxs(lV,{children:[s.jsx(cV,{type:"color",value:y.color,onChange:$=>v({...y,color:$.target.value})}),s.jsx("span",{style:{fontSize:"var(--font-size-small)",color:"var(--color-text-secondary)"},children:y.color})]})]}),s.jsxs(AC,{children:[s.jsx(Ff,{type:"button",primary:!0,onClick:G,disabled:D.isPending,children:D.isPending?"作成中...":"作成して追加"}),s.jsx(Ff,{type:"button",onClick:()=>{f(!1),x(!1),v({name:"",category:"company",color:"#3B82F6"})},children:"キャンセル"})]})]}):Object.keys(Q).length>0?s.jsxs(s.Fragment,{children:[Object.entries(Q).map(([$,V])=>s.jsxs(rV,{children:[s.jsx(nV,{children:$}),s.jsx(eV,{children:V.map(U=>{const M=se.includes(U.id),ee=p===U.id;return s.jsxs(tV,{type:"button",selected:ee,disabled:M,onClick:()=>{M||h(ee?null:U.id)},children:[U.name,M&&" (追加済み)"]},U.id)})})]},$)),s.jsxs(AC,{children:[s.jsx(Ff,{type:"button",primary:!0,onClick:T,disabled:!p||C.isPending,children:C.isPending?"追加中...":"追加"}),s.jsx(Ff,{type:"button",onClick:()=>{f(!1),h(null)},children:"キャンセル"})]})]}):s.jsxs("p",{style:{color:"var(--color-text-secondary)",marginBottom:"var(--space-4)",textAlign:"center"},children:["既存のタグがありません。",s.jsx("br",{}),"上のボタンから新しいタグを作成してください。"]})]})})]})},OC=w.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;

  @media (max-width: 768px) {
    padding: 0;
  }
`,_C=w.h1`
  font-size: 2rem;
  font-weight: bold;
  color: #1f2937;
  margin-bottom: 2rem;

  @media (max-width: 768px) {
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
    padding: 0 1rem;
  }
`,fV=w.div`
  background-color: white;
  padding: 1.5rem;
  border-radius: 0.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  margin-bottom: 2rem;

  @media (max-width: 768px) {
    border-radius: 0;
    padding: 1rem;
    margin-bottom: 1rem;
  }
`,pV=w.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`,EC=w.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
`,TC=w.label`
  font-size: 0.875rem;
  font-weight: 500;
  color: #374151;
`,MC=w.select`
  padding: 0.5rem;
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  font-size: 1rem;
  background-color: white;

  &:focus {
    outline: none;
    border-color: #2563eb;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  }
`,hV=w.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
`,Bf=w.div`
  background-color: white;
  padding: 1.5rem;
  border-radius: 0.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

  @media (max-width: 768px) {
    padding: 1rem;
  }
`,Uf=w.div`
  font-size: 0.875rem;
  color: #6b7280;
  margin-bottom: 0.5rem;
`,Wf=w.div`
  font-size: 2rem;
  font-weight: bold;
  color: #1f2937;

  @media (max-width: 768px) {
    font-size: 1.5rem;
  }
`,qf=w.div`
  font-size: 0.875rem;
  color: ${e=>e.positive?"#10b981":"#6b7280"};
  margin-top: 0.5rem;
`,vV=w.div`
  background-color: white;
  padding: 2rem;
  border-radius: 0.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

  @media (max-width: 768px) {
    padding: 1rem;
    border-radius: 0;
  }
`,mV=w.h2`
  font-size: 1.25rem;
  font-weight: 600;
  color: #1f2937;
  margin-bottom: 1.5rem;

  @media (max-width: 768px) {
    font-size: 1.125rem;
    margin-bottom: 1rem;
  }
`,gV=w.div`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,yV=w.div`
  padding: 1rem;
  border: 1px solid #e5e7eb;
  border-radius: 0.375rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #f9fafb;
  }

  @media (max-width: 768px) {
    padding: 0.75rem;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }
`,xV=w.div`
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
`,bV=w.div`
  font-weight: 500;
  color: #1f2937;
`,wV=w.div`
  font-size: 0.875rem;
  color: #6b7280;
`,SV=w.span`
  padding: 0.25rem 0.75rem;
  border-radius: 0.25rem;
  font-size: 0.875rem;
  font-weight: 500;
  background-color: ${e=>e.status==="completed"?"#d1fae5":"#fef3c7"};
  color: ${e=>e.status==="completed"?"#065f46":"#92400e"};
`,jV=w.div`
  text-align: center;
  padding: 3rem;
  color: #6b7280;
`,kV=()=>{const{user:e,isManager:t}=oo(),[r,n]=m.useState("thisMonth"),[o,a]=m.useState((e==null?void 0:e.id)||"all"),i=()=>{const h=new Date;switch(r){case"thisMonth":return{start:Tf(h),end:Ef(h)};case"lastMonth":const g=Lk(h,1);return{start:Tf(g),end:Ef(g)};case"last3Months":return{start:Tf(Lk(h,2)),end:Ef(h)};default:return{start:Tf(h),end:Ef(h)}}},{start:l,end:c}=i(),{data:d=[]}=Or({queryKey:["subordinates"],queryFn:Bd.getSubordinates,enabled:t}),{data:u=[],isLoading:f}=Or({queryKey:["analytics-reports",r,o],queryFn:()=>an.getReports({startDate:rn(l,"yyyy-MM-dd"),endDate:rn(c,"yyyy-MM-dd"),userId:t&&o!=="all"?o:void 0})}),p=Le.useMemo(()=>{const h=u.filter(v=>v.status==="completed"),g=u.filter(v=>v.status==="draft"),x=new Set(u.map(v=>v.customer).filter(Boolean)),y=new Set(u.map(v=>v.project).filter(Boolean));return{totalReports:u.length,completedReports:h.length,draftReports:g.length,completionRate:u.length>0?Math.round(h.length/u.length*100):0,uniqueCustomers:x.size,uniqueProjects:y.size}},[u]);return f?s.jsxs(OC,{children:[s.jsx(_C,{children:t?"チーム分析":"マイ分析"}),s.jsx("div",{children:"読み込み中..."})]}):s.jsxs(OC,{children:[s.jsx(_C,{children:t?"チーム分析":"マイ分析"}),s.jsx(fV,{children:s.jsxs(pV,{children:[s.jsxs(EC,{children:[s.jsx(TC,{children:"期間"}),s.jsxs(MC,{value:r,onChange:h=>n(h.target.value),children:[s.jsx("option",{value:"thisMonth",children:"今月"}),s.jsx("option",{value:"lastMonth",children:"先月"}),s.jsx("option",{value:"last3Months",children:"過去3ヶ月"})]})]}),t&&s.jsxs(EC,{children:[s.jsx(TC,{children:"担当者"}),s.jsxs(MC,{value:o,onChange:h=>a(h.target.value),children:[s.jsx("option",{value:"all",children:"全員"}),s.jsxs("option",{value:e.id,children:[e.name,"（自分）"]}),d.map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))]})]})]})}),s.jsxs(hV,{children:[s.jsxs(Bf,{children:[s.jsx(Uf,{children:"総日報数"}),s.jsx(Wf,{children:p.totalReports}),s.jsxs(qf,{positive:p.completionRate>=80,children:["完了率: ",p.completionRate,"%"]})]}),s.jsxs(Bf,{children:[s.jsx(Uf,{children:"完了済み日報"}),s.jsx(Wf,{children:p.completedReports}),s.jsxs(qf,{children:["下書き: ",p.draftReports,"件"]})]}),s.jsxs(Bf,{children:[s.jsx(Uf,{children:"顧客数"}),s.jsx(Wf,{children:p.uniqueCustomers}),s.jsx(qf,{children:"ユニーク顧客"})]}),s.jsxs(Bf,{children:[s.jsx(Uf,{children:"案件数"}),s.jsx(Wf,{children:p.uniqueProjects}),s.jsx(qf,{children:"進行中案件"})]})]}),s.jsxs(vV,{children:[s.jsx(mV,{children:"最近の日報"}),u.length>0?s.jsx(gV,{children:u.slice(0,10).map(h=>s.jsxs(yV,{onClick:()=>window.location.href=`/reports/${h.id}`,children:[s.jsxs(xV,{children:[s.jsxs(bV,{children:[rn(new Date(h.report_date),"yyyy年MM月dd日(E)",{locale:Vo}),t&&h.user_name&&` - ${h.user_name}`]}),s.jsxs(wV,{children:[h.customer||"顧客未設定"," / ",h.project||"案件未設定"]})]}),s.jsx(SV,{status:h.status,children:h.status==="completed"?"完了":"下書き"})]},h.id))}):s.jsx(jV,{children:"選択した期間の日報がありません"})]})]})};function y5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=y5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function He(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=y5(e))&&(n&&(n+=" "),n+=t);return n}var Qv={},x5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(x5);var t1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(t1);var r1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(r1);var Gv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],o=r.length;if(o===0)return n;let a=0,i="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<o;){const d=r[a];l?d==="\\"&&a+1<o?(a++,i+=r[a]):d===l?l="":i+=d:c?d==='"'||d==="'"?l=d:d==="]"?(c=!1,n.push(i),i=""):i+=d:d==="["?(c=!0,i&&(n.push(i),i="")):d==="."?i&&(n.push(i),i=""):i+=d,a++}return i&&n.push(i),n}e.toPath=t})(Gv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x5,r=t1,n=r1,o=Gv;function a(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?r.isDeepKey(c)?a(l,o.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return i(l,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function i(l,c,d){if(c.length===0)return d;let u=l;for(let f=0;f<c.length;f++){if(u==null||t.isUnsafeProperty(c[f]))return d;u=u[c[f]]}return u===void 0?d:u}e.get=a})(Qv);var CV=Qv.get;const vi=Ro(CV);var b5={exports:{}},nt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1=Symbol.for("react.transitional.element"),o1=Symbol.for("react.portal"),Xv=Symbol.for("react.fragment"),Jv=Symbol.for("react.strict_mode"),Zv=Symbol.for("react.profiler"),em=Symbol.for("react.consumer"),tm=Symbol.for("react.context"),rm=Symbol.for("react.forward_ref"),nm=Symbol.for("react.suspense"),om=Symbol.for("react.suspense_list"),am=Symbol.for("react.memo"),im=Symbol.for("react.lazy"),PV=Symbol.for("react.view_transition"),AV=Symbol.for("react.client.reference");function Nn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case n1:switch(e=e.type,e){case Xv:case Zv:case Jv:case nm:case om:case PV:return e;default:switch(e=e&&e.$$typeof,e){case tm:case rm:case im:case am:return e;case em:return e;default:return t}}case o1:return t}}}nt.ContextConsumer=em;nt.ContextProvider=tm;nt.Element=n1;nt.ForwardRef=rm;nt.Fragment=Xv;nt.Lazy=im;nt.Memo=am;nt.Portal=o1;nt.Profiler=Zv;nt.StrictMode=Jv;nt.Suspense=nm;nt.SuspenseList=om;nt.isContextConsumer=function(e){return Nn(e)===em};nt.isContextProvider=function(e){return Nn(e)===tm};nt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===n1};nt.isForwardRef=function(e){return Nn(e)===rm};nt.isFragment=function(e){return Nn(e)===Xv};nt.isLazy=function(e){return Nn(e)===im};nt.isMemo=function(e){return Nn(e)===am};nt.isPortal=function(e){return Nn(e)===o1};nt.isProfiler=function(e){return Nn(e)===Zv};nt.isStrictMode=function(e){return Nn(e)===Jv};nt.isSuspense=function(e){return Nn(e)===nm};nt.isSuspenseList=function(e){return Nn(e)===om};nt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xv||e===Zv||e===Jv||e===nm||e===om||typeof e=="object"&&e!==null&&(e.$$typeof===im||e.$$typeof===am||e.$$typeof===tm||e.$$typeof===em||e.$$typeof===rm||e.$$typeof===AV||e.getModuleId!==void 0)};nt.typeOf=Nn;b5.exports=nt;var OV=b5.exports,tr=e=>e===0?0:e>0?1:-1,pn=e=>typeof e=="number"&&e!=+e,rs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,xe=e=>(typeof e=="number"||e instanceof Number)&&!pn(e),zo=e=>xe(e)||typeof e=="string",_V=0,hd=e=>{var t=++_V;return"".concat(e||"").concat(t)},Tr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(t)&&typeof t!="string")return n;var a;if(rs(t)){if(r==null)return n;var i=t.indexOf("%");a=r*parseFloat(t.slice(0,i))/100}else a=+t;return pn(a)&&(a=n),o&&r!=null&&a>r&&(a=r),a},w5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},$C=(e,t)=>xe(e)&&xe(t)?r=>e+r*(t-e):()=>t;function Yn(e,t,r){return xe(e)&&xe(t)?e+r*(t-e):t}function S5(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):vi(n,t))===r)}var dt=e=>e===null||typeof e>"u",qd=e=>dt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),EV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function a1(e){if(typeof e!="string")return!1;var t=EV;return t.includes(e)}var TV=["viewBox","children"],zC=["points","pathLength"],sy={svg:TV,polygon:zC,polyline:zC},i1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(m.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(o=>{a1(o)&&(n[o]=a=>r[o](r,a))}),n},MV=(e,t,r)=>n=>(e(t,r,n),null),Hd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(o=>{var a=e[o];a1(o)&&typeof a=="function"&&(n||(n={}),n[o]=MV(a,t,r))}),n},$V=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function j5(e){if(typeof e!="string")return!1;var t=$V;return t.includes(e)}function ya(e){var t=Object.entries(e).filter(r=>{var[n]=r;return j5(n)});return Object.fromEntries(t)}var DC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",IC=null,ly=null,k5=e=>{if(e===IC&&Array.isArray(ly))return ly;var t=[];return m.Children.forEach(e,r=>{dt(r)||(OV.isFragment(r)?t=t.concat(k5(r.props.children)):t.push(r))}),ly=t,IC=e,t};function Vd(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(o=>DC(o)):n=[DC(t)],k5(e).forEach(o=>{var a=vi(o,"type.displayName")||vi(o,"type.name");n.indexOf(a)!==-1&&r.push(o)}),r}var C5=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,zV=(e,t,r,n)=>{var o;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(o=n&&(sy==null?void 0:sy[n]))!==null&&o!==void 0?o:[],i=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&a.includes(t)||j5(t)),c=!!r&&a1(t);return i||l||c},vt=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(m.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var o={};return Object.keys(n).forEach(a=>{var i;zV((i=n)===null||i===void 0?void 0:i[a],a,t,r)&&(o[a]=n[a])}),o},DV=["children","width","height","viewBox","className","style","title","desc"];function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rx.apply(null,arguments)}function IV(e,t){if(e==null)return{};var r,n,o=RV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function RV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var s1=m.forwardRef((e,t)=>{var{children:r,width:n,height:o,viewBox:a,className:i,style:l,title:c,desc:d}=e,u=IV(e,DV),f=a||{width:n,height:o,x:0,y:0},p=He("recharts-surface",i);return m.createElement("svg",Rx({},vt(u,!0,"svg"),{className:p,width:n,height:o,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),m.createElement("title",null,c),m.createElement("desc",null,d),r)}),NV=["children","className"];function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nx.apply(null,arguments)}function LV(e,t){if(e==null)return{};var r,n,o=FV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function FV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wr=m.forwardRef((e,t)=>{var{children:r,className:n}=e,o=LV(e,NV),a=He("recharts-layer",n);return m.createElement("g",Nx({className:a},vt(o,!0),{ref:t}),r)}),P5=m.createContext(null),BV=()=>m.useContext(P5);function it(e){return function(){return e}}const A5=Math.cos,Dh=Math.sin,ao=Math.sqrt,Ih=Math.PI,sm=2*Ih,Lx=Math.PI,Fx=2*Lx,Ki=1e-6,UV=Fx-Ki;function O5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function WV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return O5;const r=10**t;return function(n){this._+=n[0];for(let o=1,a=n.length;o<a;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}class qV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?O5:WV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,o){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(t,r,n,o,a,i){this._append`C${+t},${+r},${+n},${+o},${this._x1=+a},${this._y1=+i}`}arcTo(t,r,n,o,a){if(t=+t,r=+r,n=+n,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let i=this._x1,l=this._y1,c=n-t,d=o-r,u=i-t,f=l-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Ki)if(!(Math.abs(f*c-d*u)>Ki)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-i,g=o-l,x=c*c+d*d,y=h*h+g*g,v=Math.sqrt(x),S=Math.sqrt(p),b=a*Math.tan((Lx-Math.acos((x+p-y)/(2*v*S)))/2),j=b/S,k=b/v;Math.abs(j-1)>Ki&&this._append`L${t+j*u},${r+j*f}`,this._append`A${a},${a},0,0,${+(f*h>u*g)},${this._x1=t+k*c},${this._y1=r+k*d}`}}arc(t,r,n,o,a,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(o),c=n*Math.sin(o),d=t+l,u=r+c,f=1^i,p=i?o-a:a-o;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Ki||Math.abs(this._y1-u)>Ki)&&this._append`L${d},${u}`,n&&(p<0&&(p=p%Fx+Fx),p>UV?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:p>Ki&&this._append`A${n},${n},0,${+(p>=Lx)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}}function l1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qV(t)}function c1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _5(e){this._context=e}_5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lm(e){return new _5(e)}function E5(e){return e[0]}function T5(e){return e[1]}function M5(e,t){var r=it(!0),n=null,o=lm,a=null,i=l1(l);e=typeof e=="function"?e:e===void 0?E5:it(e),t=typeof t=="function"?t:t===void 0?T5:it(t);function l(c){var d,u=(c=c1(c)).length,f,p=!1,h;for(n==null&&(a=o(h=i())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,d,c),+t(f,d,c));if(h)return a=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:it(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:it(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:it(!!c),l):r},l.curve=function(c){return arguments.length?(o=c,n!=null&&(a=o(n)),l):o},l.context=function(c){return arguments.length?(c==null?n=a=null:a=o(n=c),l):n},l}function Hf(e,t,r){var n=null,o=it(!0),a=null,i=lm,l=null,c=l1(d);e=typeof e=="function"?e:e===void 0?E5:it(+e),t=typeof t=="function"?t:it(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?T5:it(+r);function d(f){var p,h,g,x=(f=c1(f)).length,y,v=!1,S,b=new Array(x),j=new Array(x);for(a==null&&(l=i(S=c())),p=0;p<=x;++p){if(!(p<x&&o(y=f[p],p,f))===v)if(v=!v)h=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=p-1;g>=h;--g)l.point(b[g],j[g]);l.lineEnd(),l.areaEnd()}v&&(b[p]=+e(y,p,f),j[p]=+t(y,p,f),l.point(n?+n(y,p,f):b[p],r?+r(y,p,f):j[p]))}if(S)return l=null,S+""||null}function u(){return M5().defined(o).curve(i).context(a)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:it(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:it(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:it(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:it(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:it(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:it(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(o=typeof f=="function"?f:it(!!f),d):o},d.curve=function(f){return arguments.length?(i=f,a!=null&&(l=i(a)),d):i},d.context=function(f){return arguments.length?(f==null?a=l=null:l=i(a=f),d):a},d}class $5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function HV(e){return new $5(e,!0)}function VV(e){return new $5(e,!1)}const u1={draw(e,t){const r=ao(t/Ih);e.moveTo(r,0),e.arc(0,0,r,0,sm)}},KV={draw(e,t){const r=ao(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},z5=ao(1/3),YV=z5*2,QV={draw(e,t){const r=ao(t/YV),n=r*z5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},GV={draw(e,t){const r=ao(t),n=-r/2;e.rect(n,n,r,r)}},XV=.8908130915292852,D5=Dh(Ih/10)/Dh(7*Ih/10),JV=Dh(sm/10)*D5,ZV=-A5(sm/10)*D5,eK={draw(e,t){const r=ao(t*XV),n=JV*r,o=ZV*r;e.moveTo(0,-r),e.lineTo(n,o);for(let a=1;a<5;++a){const i=sm*a/5,l=A5(i),c=Dh(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*o,c*n+l*o)}e.closePath()}},cy=ao(3),tK={draw(e,t){const r=-ao(t/(cy*3));e.moveTo(0,r*2),e.lineTo(-cy*r,-r),e.lineTo(cy*r,-r),e.closePath()}},wn=-.5,Sn=ao(3)/2,Bx=1/ao(12),rK=(Bx/2+1)*3,nK={draw(e,t){const r=ao(t/rK),n=r/2,o=r*Bx,a=n,i=r*Bx+r,l=-a,c=i;e.moveTo(n,o),e.lineTo(a,i),e.lineTo(l,c),e.lineTo(wn*n-Sn*o,Sn*n+wn*o),e.lineTo(wn*a-Sn*i,Sn*a+wn*i),e.lineTo(wn*l-Sn*c,Sn*l+wn*c),e.lineTo(wn*n+Sn*o,wn*o-Sn*n),e.lineTo(wn*a+Sn*i,wn*i-Sn*a),e.lineTo(wn*l+Sn*c,wn*c-Sn*l),e.closePath()}};function oK(e,t){let r=null,n=l1(o);e=typeof e=="function"?e:it(e||u1),t=typeof t=="function"?t:it(t===void 0?64:+t);function o(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return o.type=function(a){return arguments.length?(e=typeof a=="function"?a:it(a),o):e},o.size=function(a){return arguments.length?(t=typeof a=="function"?a:it(+a),o):t},o.context=function(a){return arguments.length?(r=a??null,o):r},o}function Rh(){}function Nh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function I5(e){this._context=e}I5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aK(e){return new I5(e)}function R5(e){this._context=e}R5.prototype={areaStart:Rh,areaEnd:Rh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iK(e){return new R5(e)}function N5(e){this._context=e}N5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sK(e){return new N5(e)}function L5(e){this._context=e}L5.prototype={areaStart:Rh,areaEnd:Rh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lK(e){return new L5(e)}function RC(e){return e<0?-1:1}function NC(e,t,r){var n=e._x1-e._x0,o=t-e._x1,a=(e._y1-e._y0)/(n||o<0&&-0),i=(r-e._y1)/(o||n<0&&-0),l=(a*o+i*n)/(n+o);return(RC(a)+RC(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(l))||0}function LC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function uy(e,t,r){var n=e._x0,o=e._y0,a=e._x1,i=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,o+l*t,a-l,i-l*r,a,i)}function Lh(e){this._context=e}Lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uy(this,this._t0,LC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,uy(this,LC(this,r=NC(this,e,t)),r);break;default:uy(this,this._t0,r=NC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function F5(e){this._context=new B5(e)}(F5.prototype=Object.create(Lh.prototype)).point=function(e,t){Lh.prototype.point.call(this,t,e)};function B5(e){this._context=e}B5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,o,a){this._context.bezierCurveTo(t,e,n,r,a,o)}};function cK(e){return new Lh(e)}function uK(e){return new F5(e)}function U5(e){this._context=e}U5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=FC(e),o=FC(t),a=0,i=1;i<r;++a,++i)this._context.bezierCurveTo(n[0][a],o[0][a],n[1][a],o[1][a],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function FC(e){var t,r=e.length-1,n,o=new Array(r),a=new Array(r),i=new Array(r);for(o[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,a[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/a[t-1],a[t]-=n,i[t]-=n*i[t-1];for(o[r-1]=i[r-1]/a[r-1],t=r-2;t>=0;--t)o[t]=(i[t]-o[t+1])/a[t];for(a[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-o[t+1];return[o,a]}function dK(e){return new U5(e)}function cm(e,t){this._context=e,this._t=t}cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function fK(e){return new cm(e,.5)}function pK(e){return new cm(e,0)}function hK(e){return new cm(e,1)}function tc(e,t){if((i=e.length)>1)for(var r=1,n,o,a=e[t[0]],i,l=a.length;r<i;++r)for(o=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(o[n][1])?o[n][0]:o[n][1]}function Ux(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function vK(e,t){return e[t]}function mK(e){const t=[];return t.key=e,t}function gK(){var e=it([]),t=Ux,r=tc,n=vK;function o(a){var i=Array.from(e.apply(this,arguments),mK),l,c=i.length,d=-1,u;for(const f of a)for(l=0,++d;l<c;++l)(i[l][d]=[0,+n(f,i[l].key,d,a)]).data=f;for(l=0,u=c1(t(i));l<c;++l)i[u[l]].index=l;return r(i,u),i}return o.keys=function(a){return arguments.length?(e=typeof a=="function"?a:it(Array.from(a)),o):e},o.value=function(a){return arguments.length?(n=typeof a=="function"?a:it(+a),o):n},o.order=function(a){return arguments.length?(t=a==null?Ux:typeof a=="function"?a:it(Array.from(a)),o):t},o.offset=function(a){return arguments.length?(r=a??tc,o):r},o}function yK(e,t){if((n=e.length)>0){for(var r,n,o=0,a=e[0].length,i;o<a;++o){for(i=r=0;r<n;++r)i+=e[r][o][1]||0;if(i)for(r=0;r<n;++r)e[r][o][1]/=i}tc(e,t)}}function xK(e,t){if((o=e.length)>0){for(var r=0,n=e[t[0]],o,a=n.length;r<a;++r){for(var i=0,l=0;i<o;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}tc(e,t)}}function bK(e,t){if(!(!((i=e.length)>0)||!((a=(o=e[t[0]]).length)>0))){for(var r=0,n=1,o,a,i;n<a;++n){for(var l=0,c=0,d=0;l<i;++l){for(var u=e[t[l]],f=u[n][1]||0,p=u[n-1][1]||0,h=(f-p)/2,g=0;g<l;++g){var x=e[t[g]],y=x[n][1]||0,v=x[n-1][1]||0;h+=y-v}c+=f,d+=h*f}o[n-1][1]+=o[n-1][0]=r,c&&(r-=d/c)}o[n-1][1]+=o[n-1][0]=r,tc(e,t)}}var wK=["type","size","sizeType"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wx.apply(null,arguments)}function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function UC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(r),!0).forEach(function(n){SK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SK(e,t,r){return(t=jK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jK(e){var t=kK(e,"string");return typeof t=="symbol"?t:t+""}function kK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CK(e,t){if(e==null)return{};var r,n,o=PK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function PK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W5={symbolCircle:u1,symbolCross:KV,symbolDiamond:QV,symbolSquare:GV,symbolStar:eK,symbolTriangle:tK,symbolWye:nK},AK=Math.PI/180,OK=e=>{var t="symbol".concat(qd(e));return W5[t]||u1},_K=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*AK;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},EK=(e,t)=>{W5["symbol".concat(qd(e))]=t},d1=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,o=CK(e,wK),a=UC(UC({},o),{},{type:t,size:r,sizeType:n}),i=()=>{var f=OK(t),p=oK().type(f).size(_K(r,n,t));return p()},{className:l,cx:c,cy:d}=a,u=vt(a,!0);return c===+c&&d===+d&&r===+r?m.createElement("path",Wx({},u,{className:He("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:i()})):null};d1.registerSymbol=EK;function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qx.apply(null,arguments)}function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function TK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){f1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f1(e,t,r){return(t=MK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=$K(e,"string");return typeof t=="symbol"?t:t+""}function $K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jn=32;class p1 extends m.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,o=jn/2,a=jn/6,i=jn/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return m.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:o,x2:jn,y2:o,className:"recharts-legend-icon"});if(c==="line")return m.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*i,",").concat(o,`
            H`).concat(jn,"M").concat(2*i,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(i,",").concat(o),className:"recharts-legend-icon"});if(c==="rect")return m.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(jn/8,"h").concat(jn,"v").concat(jn*3/4,"h").concat(-jn,"z"),className:"recharts-legend-icon"});if(m.isValidElement(t.legendIcon)){var d=TK({},t);return delete d.legendIcon,m.cloneElement(t.legendIcon,d)}return m.createElement(d1,{fill:l,cx:o,cy:o,size:jn,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:o,inactiveColor:a,iconType:i}=this.props,l={x:0,y:0,width:jn,height:jn},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var p=u.formatter||o,h=He({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var g=u.inactive?a:u.color,x=p?p(u.value,u,f):u.value;return m.createElement("li",qx({className:h,style:c,key:"legend-item-".concat(f)},Hd(this.props,u,f)),m.createElement(s1,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(x," legend icon")},this.renderIcon(u,i)),m.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},x))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return m.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}f1(p1,"displayName","Legend");f1(p1,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var q5={},H5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const o=new Map;for(let a=0;a<r.length;a++){const i=r[a],l=n(i);o.has(l)||o.set(l,i)}return Array.from(o.values())}e.uniqBy=t})(H5);var h1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(h1);var V5={},um={},K5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(K5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K5;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(um);var Y5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Y5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=um,r=Y5;function n(o){return r.isObjectLike(o)&&t.isArrayLike(o)}e.isArrayLikeObject=n})(V5);var Q5={},G5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qv;function r(n){return function(o){return t.get(o,n)}}e.property=r})(G5);var X5={},dy={},fy={},v1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(v1);var m1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(m1);var dm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(dm);var qC;function zK(){return qC||(qC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g1(),r=v1,n=m1,o=dm;function a(f,p,h){return typeof h!="function"?t.isMatch(f,p):i(f,p,function g(x,y,v,S,b,j){const k=h(x,y,v,S,b,j);return k!==void 0?!!k:i(x,y,g,j)},new Map)}function i(f,p,h,g){if(p===f)return!0;switch(typeof p){case"object":return l(f,p,h,g);case"function":return Object.keys(p).length>0?i(f,{...p},h,g):o.eq(f,p);default:return r.isObject(f)?typeof p=="string"?p==="":!0:o.eq(f,p)}}function l(f,p,h,g){if(p==null)return!0;if(Array.isArray(p))return d(f,p,h,g);if(p instanceof Map)return c(f,p,h,g);if(p instanceof Set)return u(f,p,h,g);const x=Object.keys(p);if(f==null)return x.length===0;if(x.length===0)return!0;if(g&&g.has(p))return g.get(p)===f;g&&g.set(p,f);try{for(let y=0;y<x.length;y++){const v=x[y];if(!n.isPrimitive(f)&&!(v in f)||p[v]===void 0&&f[v]!==void 0||p[v]===null&&f[v]!==null||!h(f[v],p[v],v,f,p,g))return!1}return!0}finally{g&&g.delete(p)}}function c(f,p,h,g){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,y]of p.entries()){const v=f.get(x);if(h(v,y,x,f,p,g)===!1)return!1}return!0}function d(f,p,h,g){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let y=0;y<p.length;y++){const v=p[y];let S=!1;for(let b=0;b<f.length;b++){if(x.has(b))continue;const j=f[b];let k=!1;if(h(j,v,y,f,p,g)&&(k=!0),k){x.add(b),S=!0;break}}if(!S)return!1}return!0}function u(f,p,h,g){return p.size===0?!0:f instanceof Set?d([...f],[...p],h,g):!1}e.isMatchWith=a,e.isSetMatch=u}(fy)),fy}var HC;function g1(){return HC||(HC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zK();function r(n,o){return t.isMatchWith(n,o,()=>{})}e.isMatch=r}(dy)),dy}var J5={},y1={},x1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(x1);var fm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(fm);var pm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",o="[object Boolean]",a="[object Arguments]",i="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",p="[object ArrayBuffer]",h="[object Object]",g="[object Error]",x="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",S="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",k="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",D="[object BigInt64Array]",I="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=u,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=j,e.booleanTag=o,e.dataViewTag=x,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=I,e.float64ArrayTag=K,e.functionTag=f,e.int16ArrayTag=C,e.int32ArrayTag=O,e.int8ArrayTag=k,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=S,e.uint32ArrayTag=b,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(pm);var Z5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Z5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x1,r=fm,n=pm,o=m1,a=Z5;function i(u,f){return l(u,void 0,u,new Map,f)}function l(u,f,p,h=new Map,g=void 0){const x=g==null?void 0:g(u,f,p,h);if(x!=null)return x;if(o.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const y=new Array(u.length);h.set(u,y);for(let v=0;v<u.length;v++)y[v]=l(u[v],v,p,h,g);return Object.hasOwn(u,"index")&&(y.index=u.index),Object.hasOwn(u,"input")&&(y.input=u.input),y}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const y=new RegExp(u.source,u.flags);return y.lastIndex=u.lastIndex,y}if(u instanceof Map){const y=new Map;h.set(u,y);for(const[v,S]of u)y.set(v,l(S,v,p,h,g));return y}if(u instanceof Set){const y=new Set;h.set(u,y);for(const v of u)y.add(l(v,void 0,p,h,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const y=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,y);for(let v=0;v<u.length;v++)y[v]=l(u[v],v,p,h,g);return y}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const y=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,y),c(y,u,p,h,g),y}if(typeof File<"u"&&u instanceof File){const y=new File([u],u.name,{type:u.type});return h.set(u,y),c(y,u,p,h,g),y}if(u instanceof Blob){const y=new Blob([u],{type:u.type});return h.set(u,y),c(y,u,p,h,g),y}if(u instanceof Error){const y=new u.constructor;return h.set(u,y),y.message=u.message,y.name=u.name,y.stack=u.stack,y.cause=u.cause,c(y,u,p,h,g),y}if(typeof u=="object"&&d(u)){const y=Object.create(Object.getPrototypeOf(u));return h.set(u,y),c(y,u,p,h,g),y}return u}function c(u,f,p=u,h,g){const x=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<x.length;y++){const v=x[y],S=Object.getOwnPropertyDescriptor(u,v);(S==null||S.writable)&&(u[v]=l(f[v],v,p,h,g))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=l,e.copyProperties=c})(y1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y1;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(J5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g1(),r=J5;function n(o){return o=r.cloneDeep(o),a=>t.isMatch(a,o)}e.matches=n})(X5);var eT={},tT={},rT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y1,r=pm;function n(o,a){return t.cloneDeepWith(o,(i,l,c,d)=>{const u=a==null?void 0:a(i,l,c,d);if(u!=null)return u;if(typeof o=="object")switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(f,o),f}case r.argumentsTag:{const f={};return t.copyProperties(f,o),f.length=o.length,f[Symbol.iterator]=o[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(rT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rT;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(tT);var nT={},b1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,o=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<o;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(b1);var oT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fm;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(oT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t1,r=b1,n=oT,o=Gv;function a(i,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(i==null?void 0:i[l])==null?c=o.toPath(l):c=[l],c.length===0)return!1;let d=i;for(let u=0;u<c.length;u++){const f=c[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=a})(nT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g1(),r=r1,n=tT,o=Qv,a=nT;function i(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(d){const u=o.get(d,l);return u===void 0?a.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=i})(eT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h1,r=G5,n=X5,o=eT;function a(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?o.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=a})(Q5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H5,r=h1,n=V5,o=Q5;function a(i,l=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),o.iteratee(l)):[]}e.uniqBy=a})(q5);var DK=q5.uniqBy;const VC=Ro(DK);function aT(e,t,r){return t===!0?VC(e,r):typeof t=="function"?VC(e,t):e}var iT={exports:{}},sT={},lT={exports:{}},cT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc=m;function IK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var RK=typeof Object.is=="function"?Object.is:IK,NK=rc.useState,LK=rc.useEffect,FK=rc.useLayoutEffect,BK=rc.useDebugValue;function UK(e,t){var r=t(),n=NK({inst:{value:r,getSnapshot:t}}),o=n[0].inst,a=n[1];return FK(function(){o.value=r,o.getSnapshot=t,py(o)&&a({inst:o})},[e,r,t]),LK(function(){return py(o)&&a({inst:o}),e(function(){py(o)&&a({inst:o})})},[e]),BK(r),r}function py(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!RK(e,r)}catch{return!0}}function WK(e,t){return t()}var qK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?WK:UK;cT.useSyncExternalStore=rc.useSyncExternalStore!==void 0?rc.useSyncExternalStore:qK;lT.exports=cT;var HK=lT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=m,VK=HK;function KK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var YK=typeof Object.is=="function"?Object.is:KK,QK=VK.useSyncExternalStore,GK=hm.useRef,XK=hm.useEffect,JK=hm.useMemo,ZK=hm.useDebugValue;sT.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var a=GK(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=JK(function(){function c(h){if(!d){if(d=!0,u=h,h=n(h),o!==void 0&&i.hasValue){var g=i.value;if(o(g,h))return f=g}return f=h}if(g=f,YK(u,h))return g;var x=n(h);return o!==void 0&&o(g,x)?(u=h,g):(u=h,f=x)}var d=!1,u,f,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,n,o]);var l=QK(e,a[0],a[1]);return XK(function(){i.hasValue=!0,i.value=l},[l]),ZK(l),l};iT.exports=sT;var eY=iT.exports,w1=m.createContext(null),tY=e=>e,kt=()=>{var e=m.useContext(w1);return e?e.store.dispatch:tY},Bp=()=>{},rY=()=>Bp,nY=(e,t)=>e===t;function Pe(e){var t=m.useContext(w1);return eY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:rY,t?t.store.getState:Bp,t?t.store.getState:Bp,t?e:Bp,nY)}function oY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function aY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function iY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var KC=e=>Array.isArray(e)?e:[e];function sY(e){const t=Array.isArray(e[0])?e[0]:e;return iY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function lY(e,t){const r=[],{length:n}=e;for(let o=0;o<n;o++)r.push(e[o].apply(null,t));return r}var cY=class{constructor(e){this.value=e}deref(){return this.value}},uY=typeof WeakRef<"u"?WeakRef:cY,dY=0,YC=1;function Vf(){return{s:dY,v:void 0,o:null,p:null}}function uT(e,t={}){let r=Vf();const{resultEqualityCheck:n}=t;let o,a=0;function i(){var f;let l=r;const{length:c}=arguments;for(let p=0,h=c;p<h;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const y=x.get(g);y===void 0?(l=Vf(),x.set(g,l)):l=y}else{let x=l.p;x===null&&(l.p=x=new Map);const y=x.get(g);y===void 0?(l=Vf(),x.set(g,l)):l=y}}const d=l;let u;if(l.s===YC)u=l.v;else if(u=e.apply(null,arguments),a++,n){const p=((f=o==null?void 0:o.deref)==null?void 0:f.call(o))??o;p!=null&&n(p,u)&&(u=p,a!==0&&a--),o=typeof u=="object"&&u!==null||typeof u=="function"?new uY(u):u}return d.s=YC,d.v=u,u}return i.clearCache=()=>{r=Vf(),i.resetResultsCount()},i.resultsCount=()=>a,i.resetResultsCount=()=>{a=0},i}function fY(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...o)=>{let a=0,i=0,l,c={},d=o.pop();typeof d=="object"&&(c=d,d=o.pop()),oY(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:f,memoizeOptions:p=[],argsMemoize:h=uT,argsMemoizeOptions:g=[]}=u,x=KC(p),y=KC(g),v=sY(o),S=f(function(){return a++,d.apply(null,arguments)},...x),b=h(function(){i++;const k=lY(v,arguments);return l=S.apply(null,k),l},...y);return Object.assign(b,{resultFunc:d,memoizedResultFunc:S,dependencies:v,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var Z=fY(uT),pY=Object.assign((e,t=Z)=>{aY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((i,l,c)=>(i[r[c]]=l,i),{}))},{withTypes:()=>pY}),dT={},fT={},pT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,o,a)=>{if(n!==o){const i=t(n),l=t(o);if(i===l&&i===0){if(n<o)return a==="desc"?1:-1;if(n>o)return a==="desc"?-1:1}return a==="desc"?l-i:i-l}return 0};e.compareValues=r})(pT);var hT={},S1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(S1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S1,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function o(a,i){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||i!=null&&Object.hasOwn(i,a)}e.isKey=o})(hT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pT,r=hT,n=Gv;function o(a,i,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const d=(h,g)=>{let x=h;for(let y=0;y<g.length&&x!=null;++y)x=x[g[y]];return x},u=(h,g)=>g==null||h==null?g:typeof h=="object"&&"key"in h?Object.hasOwn(g,h.key)?g[h.key]:d(g,h.path):typeof h=="function"?h(g):Array.isArray(h)?d(g,h):typeof g=="object"?g[h]:g,f=i.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return a.map(h=>({original:h,criteria:f.map(g=>u(g,h))})).slice().sort((h,g)=>{for(let x=0;x<f.length;x++){const y=t.compareValues(h.criteria[x],g.criteria[x],l[x]);if(y!==0)return y}return 0}).map(h=>h.original)}e.orderBy=o})(fT);var vT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const o=[],a=Math.floor(n),i=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<a?i(u,c+1):o.push(u)}};return i(r,0),o}e.flatten=t})(vT);var j1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b1,r=um,n=v1,o=dm;function a(i,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?o.eq(c[l],i):!1}e.isIterateeCall=a})(j1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fT,r=vT,n=j1;function o(a,...i){const l=i.length;return l>1&&n.isIterateeCall(a,i[0],i[1])?i=[]:l>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(a,r.flatten(i),["asc"])}e.sortBy=o})(dT);var hY=dT.sortBy;const vm=Ro(hY);var mT=e=>e.legend.settings,vY=e=>e.legend.size,mY=e=>e.legend.payload,gY=Z([mY,mT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?vm(n,r):n});function yY(){return Pe(gY)}var Kf=1;function gT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=m.useState({height:0,left:0,top:0,width:0}),n=m.useCallback(o=>{if(o!=null){var a=o.getBoundingClientRect(),i={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(i.height-t.height)>Kf||Math.abs(i.left-t.left)>Kf||Math.abs(i.top-t.top)>Kf||Math.abs(i.width-t.width)>Kf)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function or(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var xY=typeof Symbol=="function"&&Symbol.observable||"@@observable",QC=xY,hy=()=>Math.random().toString(36).substring(7).split("").join("."),bY={INIT:`@@redux/INIT${hy()}`,REPLACE:`@@redux/REPLACE${hy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hy()}`},Fh=bY;function k1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function yT(e,t,r){if(typeof e!="function")throw new Error(or(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(or(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(or(1));return r(yT)(e,t)}let n=e,o=t,a=new Map,i=a,l=0,c=!1;function d(){i===a&&(i=new Map,a.forEach((y,v)=>{i.set(v,y)}))}function u(){if(c)throw new Error(or(3));return o}function f(y){if(typeof y!="function")throw new Error(or(4));if(c)throw new Error(or(5));let v=!0;d();const S=l++;return i.set(S,y),function(){if(v){if(c)throw new Error(or(6));v=!1,d(),i.delete(S),a=null}}}function p(y){if(!k1(y))throw new Error(or(7));if(typeof y.type>"u")throw new Error(or(8));if(typeof y.type!="string")throw new Error(or(17));if(c)throw new Error(or(9));try{c=!0,o=n(o,y)}finally{c=!1}return(a=i).forEach(S=>{S()}),y}function h(y){if(typeof y!="function")throw new Error(or(10));n=y,p({type:Fh.REPLACE})}function g(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(or(11));function S(){const j=v;j.next&&j.next(u())}return S(),{unsubscribe:y(S)}},[QC](){return this}}}return p({type:Fh.INIT}),{dispatch:p,subscribe:f,getState:u,replaceReducer:h,[QC]:g}}function wY(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Fh.INIT})>"u")throw new Error(or(12));if(typeof r(void 0,{type:Fh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(or(13))})}function xT(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const i=t[a];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let o;try{wY(r)}catch(a){o=a}return function(i={},l){if(o)throw o;let c=!1;const d={};for(let u=0;u<n.length;u++){const f=n[u],p=r[f],h=i[f],g=p(h,l);if(typeof g>"u")throw l&&l.type,new Error(or(14));d[f]=g,c=c||g!==h}return c=c||n.length!==Object.keys(i).length,c?d:i}}function Bh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function SY(...e){return t=>(r,n)=>{const o=t(r,n);let a=()=>{throw new Error(or(15))};const i={getState:o.getState,dispatch:(c,...d)=>a(c,...d)},l=e.map(c=>c(i));return a=Bh(...l)(o.dispatch),{...o,dispatch:a}}}function bT(e){return k1(e)&&"type"in e&&typeof e.type=="string"}var wT=Symbol.for("immer-nothing"),GC=Symbol.for("immer-draftable"),hn=Symbol.for("immer-state");function Jn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var nc=Object.getPrototypeOf;function Ts(e){return!!e&&!!e[hn]}function da(e){var t;return e?ST(e)||Array.isArray(e)||!!e[GC]||!!((t=e.constructor)!=null&&t[GC])||gm(e)||ym(e):!1}var jY=Object.prototype.constructor.toString();function ST(e){if(!e||typeof e!="object")return!1;const t=nc(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===jY}function Uh(e,t){mm(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function mm(e){const t=e[hn];return t?t.type_:Array.isArray(e)?1:gm(e)?2:ym(e)?3:0}function Hx(e,t){return mm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jT(e,t,r){const n=mm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function kY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function gm(e){return e instanceof Map}function ym(e){return e instanceof Set}function Yi(e){return e.copy_||e.base_}function Vx(e,t){if(gm(e))return new Map(e);if(ym(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=ST(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[hn];let o=Reflect.ownKeys(n);for(let a=0;a<o.length;a++){const i=o[a],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(nc(e),n)}else{const n=nc(e);if(n!==null&&r)return{...e};const o=Object.create(n);return Object.assign(o,e)}}function C1(e,t=!1){return xm(e)||Ts(e)||!da(e)||(mm(e)>1&&(e.set=e.add=e.clear=e.delete=CY),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>C1(n,!0))),e}function CY(){Jn(2)}function xm(e){return Object.isFrozen(e)}var PY={};function Ms(e){const t=PY[e];return t||Jn(0,e),t}var vd;function kT(){return vd}function AY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XC(e,t){t&&(Ms("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Kx(e){Yx(e),e.drafts_.forEach(OY),e.drafts_=null}function Yx(e){e===vd&&(vd=e.parent_)}function JC(e){return vd=AY(vd,e)}function OY(e){const t=e[hn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ZC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[hn].modified_&&(Kx(t),Jn(4)),da(e)&&(e=Wh(t,e),t.parent_||qh(t,e)),t.patches_&&Ms("Patches").generateReplacementPatches_(r[hn].base_,e,t.patches_,t.inversePatches_)):e=Wh(t,r,[]),Kx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wT?e:void 0}function Wh(e,t,r){if(xm(t))return t;const n=t[hn];if(!n)return Uh(t,(o,a)=>e4(e,n,t,o,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return qh(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const o=n.copy_;let a=o,i=!1;n.type_===3&&(a=new Set(o),o.clear(),i=!0),Uh(a,(l,c)=>e4(e,n,o,l,c,r,i)),qh(e,o,!1),r&&e.patches_&&Ms("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function e4(e,t,r,n,o,a,i){if(Ts(o)){const l=a&&t&&t.type_!==3&&!Hx(t.assigned_,n)?a.concat(n):void 0,c=Wh(e,o,l);if(jT(r,n,c),Ts(c))e.canAutoFreeze_=!1;else return}else i&&r.add(o);if(da(o)&&!xm(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Wh(e,o),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&qh(e,o)}}function qh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&C1(t,r)}function _Y(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:kT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,a=P1;r&&(o=[n],a=md);const{revoke:i,proxy:l}=Proxy.revocable(o,a);return n.draft_=l,n.revoke_=i,l}var P1={get(e,t){if(t===hn)return e;const r=Yi(e);if(!Hx(r,t))return EY(e,r,t);const n=r[t];return e.finalized_||!da(n)?n:n===vy(e.base_,t)?(my(e),e.copy_[t]=Gx(n,e)):n},has(e,t){return t in Yi(e)},ownKeys(e){return Reflect.ownKeys(Yi(e))},set(e,t,r){const n=CT(Yi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const o=vy(Yi(e),t),a=o==null?void 0:o[hn];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(kY(r,o)&&(r!==void 0||Hx(e.base_,t)))return!0;my(e),Qx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return vy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,my(e),Qx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Yi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Jn(11)},getPrototypeOf(e){return nc(e.base_)},setPrototypeOf(){Jn(12)}},md={};Uh(P1,(e,t)=>{md[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});md.deleteProperty=function(e,t){return md.set.call(this,e,t,void 0)};md.set=function(e,t,r){return P1.set.call(this,e[0],t,r,e[0])};function vy(e,t){const r=e[hn];return(r?Yi(r):e)[t]}function EY(e,t,r){var o;const n=CT(t,r);return n?"value"in n?n.value:(o=n.get)==null?void 0:o.call(e.draft_):void 0}function CT(e,t){if(!(t in e))return;let r=nc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=nc(r)}}function Qx(e){e.modified_||(e.modified_=!0,e.parent_&&Qx(e.parent_))}function my(e){e.copy_||(e.copy_=Vx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var TY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const i=this;return function(c=a,...d){return i.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&Jn(6),n!==void 0&&typeof n!="function"&&Jn(7);let o;if(da(t)){const a=JC(this),i=Gx(t,void 0);let l=!0;try{o=r(i),l=!1}finally{l?Kx(a):Yx(a)}return XC(a,n),ZC(o,a)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===wT&&(o=void 0),this.autoFreeze_&&C1(o,!0),n){const a=[],i=[];Ms("Patches").generateReplacementPatches_(t,o,a,i),n(a,i)}return o}else Jn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,c=>t(c,...l));let n,o;return[this.produce(t,r,(i,l)=>{n=i,o=l}),n,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){da(e)||Jn(8),Ts(e)&&(e=na(e));const t=JC(this),r=Gx(e,void 0);return r[hn].isManual_=!0,Yx(t),r}finishDraft(e,t){const r=e&&e[hn];(!r||!r.isManual_)&&Jn(9);const{scope_:n}=r;return XC(n,t),ZC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));const n=Ms("Patches").applyPatches_;return Ts(e)?n(e,t):this.produce(e,o=>n(o,t))}};function Gx(e,t){const r=gm(e)?Ms("MapSet").proxyMap_(e,t):ym(e)?Ms("MapSet").proxySet_(e,t):_Y(e,t);return(t?t.scope_:kT()).drafts_.push(r),r}function na(e){return Ts(e)||Jn(10,e),PT(e)}function PT(e){if(!da(e)||xm(e))return e;const t=e[hn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Vx(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Vx(e,!0);return Uh(r,(n,o)=>{jT(r,n,PT(o))}),t&&(t.finalized_=!1),r}var vn=new TY,AT=vn.produce;vn.produceWithPatches.bind(vn);vn.setAutoFreeze.bind(vn);vn.setUseStrictShallowCopy.bind(vn);vn.applyPatches.bind(vn);vn.createDraft.bind(vn);vn.finishDraft.bind(vn);function OT(e){return({dispatch:r,getState:n})=>o=>a=>typeof a=="function"?a(r,n,e):o(a)}var MY=OT(),$Y=OT,zY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bh:Bh.apply(null,arguments)};function In(e,t){function r(...n){if(t){let o=t(...n);if(!o)throw new Error(dn(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>bT(n)&&n.type===e,r}var _T=class Su extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Su.prototype)}static get[Symbol.species](){return Su}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Su(...t[0].concat(this)):new Su(...t.concat(this))}};function t4(e){return da(e)?AT(e,()=>{}):e}function Yf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function DY(e){return typeof e=="boolean"}var IY=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:o=!0,actionCreatorCheck:a=!0}=t??{};let i=new _T;return r&&(DY(r)?i.push(MY):i.push($Y(r.extraArgument))),i},RY="RTK_autoBatch",r4=e=>t=>{setTimeout(t,e)},NY=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let o=!0,a=!1,i=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:r4(10):e.type==="callback"?e.queueNotification:r4(e.timeout),d=()=>{i=!1,a&&(a=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>o&&u(),p=n.subscribe(f);return l.add(u),()=>{p(),l.delete(u)}},dispatch(u){var f;try{return o=!((f=u==null?void 0:u.meta)!=null&&f[RY]),a=!o,a&&(i||(i=!0,c(d))),n.dispatch(u)}finally{o=!0}}})},LY=e=>function(r){const{autoBatch:n=!0}=r??{};let o=new _T(e);return n&&o.push(NY(typeof n=="object"?n:void 0)),o};function FY(e){const t=IY(),{reducer:r=void 0,middleware:n,devTools:o=!0,preloadedState:a=void 0,enhancers:i=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(k1(r))l=xT(r);else throw new Error(dn(1));let c;typeof n=="function"?c=n(t):c=t();let d=Bh;o&&(d=zY({trace:!1,...typeof o=="object"&&o}));const u=SY(...c),f=LY(u);let p=typeof i=="function"?i(f):f();const h=d(...p);return yT(l,a,h)}function ET(e){const t={},r=[];let n;const o={addCase(a,i){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(dn(28));if(l in t)throw new Error(dn(29));return t[l]=i,o},addMatcher(a,i){return r.push({matcher:a,reducer:i}),o},addDefaultCase(a){return n=a,o}};return e(o),[t,r,n]}function BY(e){return typeof e=="function"}function UY(e,t){let[r,n,o]=ET(t),a;if(BY(e))a=()=>t4(e());else{const l=t4(e);a=()=>l}function i(l=a(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[o]),d.reduce((u,f)=>{if(f)if(Ts(u)){const h=f(u,c);return h===void 0?u:h}else{if(da(u))return AT(u,p=>f(p,c));{const p=f(u,c);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},l)}return i.getInitialState=a,i}var WY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qY=(e=21)=>{let t="",r=e;for(;r--;)t+=WY[Math.random()*64|0];return t},HY=Symbol.for("rtk-slice-createasyncthunk");function VY(e,t){return`${e}/${t}`}function KY({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[HY];return function(o){const{name:a,reducerPath:i=a}=o;if(!a)throw new Error(dn(11));const l=(typeof o.reducers=="function"?o.reducers(QY()):o.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(j,k){const C=typeof j=="string"?j:j.type;if(!C)throw new Error(dn(12));if(C in d.sliceCaseReducersByType)throw new Error(dn(13));return d.sliceCaseReducersByType[C]=k,u},addMatcher(j,k){return d.sliceMatchers.push({matcher:j,reducer:k}),u},exposeAction(j,k){return d.actionCreators[j]=k,u},exposeCaseReducer(j,k){return d.sliceCaseReducersByName[j]=k,u}};c.forEach(j=>{const k=l[j],C={reducerName:j,type:VY(a,j),createNotation:typeof o.reducers=="function"};XY(k)?ZY(C,k,u,t):GY(C,k,u)});function f(){const[j={},k=[],C=void 0]=typeof o.extraReducers=="function"?ET(o.extraReducers):[o.extraReducers],O={...j,...d.sliceCaseReducersByType};return UY(o.initialState,D=>{for(let I in O)D.addCase(I,O[I]);for(let I of d.sliceMatchers)D.addMatcher(I.matcher,I.reducer);for(let I of k)D.addMatcher(I.matcher,I.reducer);C&&D.addDefaultCase(C)})}const p=j=>j,h=new Map,g=new WeakMap;let x;function y(j,k){return x||(x=f()),x(j,k)}function v(){return x||(x=f()),x.getInitialState()}function S(j,k=!1){function C(D){let I=D[j];return typeof I>"u"&&k&&(I=Yf(g,C,v)),I}function O(D=p){const I=Yf(h,k,()=>new WeakMap);return Yf(I,D,()=>{const K={};for(const[X,H]of Object.entries(o.selectors??{}))K[X]=YY(H,D,()=>Yf(g,D,v),k);return K})}return{reducerPath:j,getSelectors:O,get selectors(){return O(C)},selectSlice:C}}const b={name:a,reducer:y,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:v,...S(i),injectInto(j,{reducerPath:k,...C}={}){const O=k??i;return j.inject({reducerPath:O,reducer:y},C),{...b,...S(O,!0)}}};return b}}function YY(e,t,r,n){function o(a,...i){let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...i)}return o.unwrapped=e,o}var xn=KY();function QY(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function GY({type:e,reducerName:t,createNotation:r},n,o){let a,i;if("reducer"in n){if(r&&!JY(n))throw new Error(dn(17));a=n.reducer,i=n.prepare}else a=n;o.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,i?In(e,i):In(e))}function XY(e){return e._reducerDefinitionType==="asyncThunk"}function JY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ZY({type:e,reducerName:t},r,n,o){if(!o)throw new Error(dn(18));const{payloadCreator:a,fulfilled:i,pending:l,rejected:c,settled:d,options:u}=r,f=o(e,a,u);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),d&&n.addMatcher(f.settled,d),n.exposeCaseReducer(t,{fulfilled:i||Qf,pending:l||Qf,rejected:c||Qf,settled:d||Qf})}function Qf(){}var eQ="task",TT="listener",MT="completed",A1="cancelled",tQ=`task-${A1}`,rQ=`task-${MT}`,Xx=`${TT}-${A1}`,nQ=`${TT}-${MT}`,bm=class{constructor(e){Qm(this,"name","TaskAbortError");Qm(this,"message");this.code=e,this.message=`${eQ} ${A1} (reason: ${e})`}},O1=(e,t)=>{if(typeof e!="function")throw new TypeError(dn(32))},Hh=()=>{},$T=(e,t=Hh)=>(e.catch(t),e),zT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),xs=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},bs=e=>{if(e.aborted){const{reason:t}=e;throw new bm(t)}};function DT(e,t){let r=Hh;return new Promise((n,o)=>{const a=()=>o(new bm(e.reason));if(e.aborted){a();return}r=zT(e,a),t.finally(()=>r()).then(n,o)}).finally(()=>{r=Hh})}var oQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof bm?"cancelled":"rejected",error:r}}finally{t==null||t()}},Vh=e=>t=>$T(DT(e,t).then(r=>(bs(e),r))),IT=e=>{const t=Vh(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ml}=Object,n4={},wm="listenerMiddleware",aQ=(e,t)=>{const r=n=>zT(e,()=>xs(n,e.reason));return(n,o)=>{O1(n);const a=new AbortController;r(a);const i=oQ(async()=>{bs(e),bs(a.signal);const l=await n({pause:Vh(a.signal),delay:IT(a.signal),signal:a.signal});return bs(a.signal),l},()=>xs(a,rQ));return o!=null&&o.autoJoin&&t.push(i.catch(Hh)),{result:Vh(e)(i),cancel(){xs(a,tQ)}}}},iQ=(e,t)=>{const r=async(n,o)=>{bs(t);let a=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:n,effect:(f,p)=>{p.unsubscribe(),c([f,p.getState(),p.getOriginalState()])}});a=()=>{u(),d()}})];o!=null&&l.push(new Promise(c=>setTimeout(c,o,null)));try{const c=await DT(t,Promise.race(l));return bs(t),c}finally{a()}};return(n,o)=>$T(r(n,o))},RT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:o,effect:a}=e;if(t)o=In(t).match;else if(r)t=r.type,o=r.match;else if(n)o=n;else if(!o)throw new Error(dn(21));return O1(a),{predicate:o,type:t,effect:a}},NT=Ml(e=>{const{type:t,predicate:r,effect:n}=RT(e);return{id:qY(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(dn(22))}}},{withTypes:()=>NT}),o4=(e,t)=>{const{type:r,effect:n,predicate:o}=RT(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===o)&&a.effect===n)},Jx=e=>{e.pending.forEach(t=>{xs(t,Xx)})},sQ=e=>()=>{e.forEach(Jx),e.clear()},a4=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},LT=Ml(In(`${wm}/add`),{withTypes:()=>LT}),lQ=In(`${wm}/removeAll`),FT=Ml(In(`${wm}/remove`),{withTypes:()=>FT}),cQ=(...e)=>{console.error(`${wm}/error`,...e)},Kd=(e={})=>{const t=new Map,{extra:r,onError:n=cQ}=e;O1(n);const o=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&Jx(u)}),a=u=>{const f=o4(t,u)??NT(u);return o(f)};Ml(a,{withTypes:()=>a});const i=u=>{const f=o4(t,u);return f&&(f.unsubscribe(),u.cancelActive&&Jx(f)),!!f};Ml(i,{withTypes:()=>i});const l=async(u,f,p,h)=>{const g=new AbortController,x=iQ(a,g.signal),y=[];try{u.pending.add(g),await Promise.resolve(u.effect(f,Ml({},p,{getOriginalState:h,condition:(v,S)=>x(v,S).then(Boolean),take:x,delay:IT(g.signal),pause:Vh(g.signal),extra:r,signal:g.signal,fork:aQ(g.signal,y),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((v,S,b)=>{v!==g&&(xs(v,Xx),b.delete(v))})},cancel:()=>{xs(g,Xx),u.pending.delete(g)},throwIfCancelled:()=>{bs(g.signal)}})))}catch(v){v instanceof bm||a4(n,v,{raisedBy:"effect"})}finally{await Promise.all(y),xs(g,nQ),u.pending.delete(g)}},c=sQ(t);return{middleware:u=>f=>p=>{if(!bT(p))return f(p);if(LT.match(p))return a(p.payload);if(lQ.match(p)){c();return}if(FT.match(p))return i(p.payload);let h=u.getState();const g=()=>{if(h===n4)throw new Error(dn(23));return h};let x;try{if(x=f(p),t.size>0){const y=u.getState(),v=Array.from(t.values());for(const S of v){let b=!1;try{b=S.predicate(p,y,h)}catch(j){b=!1,a4(n,j,{raisedBy:"predicate"})}b&&l(S,p,u,g)}}}finally{h=n4}return x},startListening:a,stopListening:i,clearListeners:c}};function dn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},BT=xn({name:"chartLayout",initialState:uQ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:dQ,setLayout:fQ,setChartSize:pQ,setScale:hQ}=BT.actions,vQ=BT.reducer;function i4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function s4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(r),!0).forEach(function(n){mQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mQ(e,t,r){return(t=gQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=yQ(e,"string");return typeof t=="symbol"?t:t+""}function yQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kh=Math.PI/180,xQ=e=>e*180/Math.PI,Lt=(e,t,r,n)=>({x:e+Math.cos(-Kh*n)*r,y:t+Math.sin(-Kh*n)*r}),UT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},bQ=(e,t)=>{var{x:r,y:n}=e,{x:o,y:a}=t;return Math.sqrt((r-o)**2+(n-a)**2)},wQ=(e,t)=>{var{x:r,y:n}=e,{cx:o,cy:a}=t,i=bQ({x:r,y:n},{x:o,y:a});if(i<=0)return{radius:i,angle:0};var l=(r-o)/i,c=Math.acos(l);return n>a&&(c=2*Math.PI-c),{radius:i,angle:xQ(c),angleInRadian:c}},SQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),o=Math.floor(r/360),a=Math.min(n,o);return{startAngle:t-a*360,endAngle:r-a*360}},jQ=(e,t)=>{var{startAngle:r,endAngle:n}=t,o=Math.floor(r/360),a=Math.floor(n/360),i=Math.min(o,a);return e+i*360},kQ=(e,t)=>{var{x:r,y:n}=e,{radius:o,angle:a}=wQ({x:r,y:n},t),{innerRadius:i,outerRadius:l}=t;if(o<i||o>l||o===0)return null;var{startAngle:c,endAngle:d}=SQ(t),u=a,f;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=c}return f?s4(s4({},t),{},{radius:o,angle:jQ(u,t)}):null};function WT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function l4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(r),!0).forEach(function(n){CQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CQ(e,t,r){return(t=PQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tt(e,t,r){return dt(e)||dt(t)?r:zo(t)?vi(e,t,r):typeof t=="function"?t(e):r}var OQ=(e,t,r,n,o)=>{var a,i=-1,l=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&o!=null&&Math.abs(Math.abs(o[1]-o[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?r[c-1].coordinate:r[l-1].coordinate,u=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,p=void 0;if(tr(u-d)!==tr(f-u)){var h=[];if(tr(f-u)===tr(o[1]-o[0])){p=f;var g=u+o[1]-o[0];h[0]=Math.min(g,(g+d)/2),h[1]=Math.max(g,(g+d)/2)}else{p=d;var x=f+o[1]-o[0];h[0]=Math.min(u,(x+u)/2),h[1]=Math.max(u,(x+u)/2)}var y=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>y[0]&&e<=y[1]||e>=h[0]&&e<=h[1]){({index:i}=r[c]);break}}else{var v=Math.min(d,f),S=Math.max(d,f);if(e>(v+u)/2&&e<=(S+u)/2){({index:i}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:i}=t[b]);break}}return i},_Q=(e,t,r)=>{if(t&&r){var{width:n,height:o}=r,{align:a,verticalAlign:i,layout:l}=t;if((l==="vertical"||l==="horizontal"&&i==="middle")&&a!=="center"&&xe(e[a]))return _n(_n({},e),{},{[a]:e[a]+(n||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&i!=="middle"&&xe(e[i]))return _n(_n({},e),{},{[i]:e[i]+(o||0)})}return e},Ci=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",qT=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var o,a,i=e.map(l=>(l.coordinate===t&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate));return o||i.push(t),a||i.push(r),i},HT=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:o,range:a,scale:i,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:p,axisType:h}=e;if(!i)return null;var g=l==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,x=o==="category"&&i.bandwidth?i.bandwidth()/g:0;if(x=h==="angleAxis"&&a&&a.length>=2?tr(a[0]-a[1])*2*x:x,f||p){var y=(f||p||[]).map((v,S)=>{var b=n?n.indexOf(v):v;return{coordinate:i(b)+x,value:v,offset:x,index:S}});return y.filter(v=>!pn(v.coordinate))}return c&&d?d.map((v,S)=>({coordinate:i(v)+x,value:v,index:S,offset:x})):i.ticks&&u!=null?i.ticks(u).map((v,S)=>({coordinate:i(v)+x,value:v,offset:x,index:S})):i.domain().map((v,S)=>({coordinate:i(v)+x,value:n?n[v]:v,index:S,offset:x}))},c4=1e-4,EQ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),o=Math.min(n[0],n[1])-c4,a=Math.max(n[0],n[1])+c4,i=e(t[0]),l=e(t[r-1]);(i<o||i>a||l<o||l>a)&&e.domain([t[0],t[r-1]])}},TQ=(e,t)=>{if(!t||t.length!==2||!xe(t[0])||!xe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),o=[e[0],e[1]];return(!xe(e[0])||e[0]<r)&&(o[0]=r),(!xe(e[1])||e[1]>n)&&(o[1]=n),o[0]>n&&(o[0]=n),o[1]<r&&(o[1]=r),o},MQ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var o=0,a=0,i=0;i<t;++i){var l=pn(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=o,e[i][r][1]=o+l,o=e[i][r][1]):(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1])}},$Q=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var o=0,a=0;a<t;++a){var i=pn(e[a][r][1])?e[a][r][0]:e[a][r][1];i>=0?(e[a][r][0]=o,e[a][r][1]=o+i,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},zQ={sign:MQ,expand:yK,none:tc,silhouette:xK,wiggle:bK,positive:$Q},DQ=(e,t,r)=>{var n=zQ[r],o=gK().keys(t).value((a,i)=>+tt(a,i,0)).order(Ux).offset(n);return o(e)};function IQ(e){return e==null?void 0:String(e)}function u4(e){var{axis:t,ticks:r,bandSize:n,entry:o,index:a,dataKey:i}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!dt(o[t.dataKey])){var l=S5(r,"value",o[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=tt(o,dt(i)?t.dataKey:i);return dt(c)?null:t.scale(c)}var d4=e=>{var{axis:t,ticks:r,offset:n,bandSize:o,entry:a,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var l=tt(a,t.dataKey,t.scale.domain()[i]);return dt(l)?null:t.scale(l)-o/2+n},RQ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return n<=0&&o>=0?0:o<0?o:n}return r[0]},NQ=e=>{var t=e.flat(2).filter(xe);return[Math.min(...t),Math.max(...t)]},LQ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],FQ=(e,t,r)=>{if(e!=null)return LQ(Object.keys(e).reduce((n,o)=>{var a=e[o],{stackedData:i}=a,l=i.reduce((c,d)=>{var u=WT(d,t,r),f=NQ(u);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},f4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var o=vm(t,u=>u.coordinate),a=1/0,i=1,l=o.length;i<l;i++){var c=o[i],d=o[i-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function h4(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:o,name:a}=e;return _n(_n({},t),{},{dataKey:r,payload:n,value:o,name:a})}function Sc(e,t){if(e)return String(e);if(typeof t=="string")return t}function BQ(e,t,r,n,o){if(r==="horizontal"||r==="vertical"){var a=e>=o.left&&e<=o.left+o.width&&t>=o.top&&t<=o.top+o.height;return a?{x:e,y:t}:null}return n?kQ({x:e,y:t},n):null}var UQ=(e,t,r,n)=>{var o=t.find(d=>d&&d.index===r);if(o){if(e==="horizontal")return{x:o.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,{radius:i}=n;return _n(_n(_n({},n),Lt(n.cx,n.cy,i,a)),{},{angle:a,radius:i})}var l=o.coordinate,{angle:c}=n;return _n(_n(_n({},n),Lt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},WQ=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,xa=e=>e.layout.width,ba=e=>e.layout.height,qQ=e=>e.layout.scale,VT=e=>e.layout.margin,_1=Z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),E1=Z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),KT="data-recharts-item-index",YT="data-recharts-item-data-key",Sm=60;function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(n){HQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HQ(e,t,r){return(t=VQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YQ=e=>e.brush.height,Yt=Z([xa,ba,VT,YQ,_1,E1,mT,vY],(e,t,r,n,o,a,i,l)=>{var c=a.reduce((g,x)=>{var{orientation:y}=x;if(!x.mirror&&!x.hide){var v=typeof x.width=="number"?x.width:Sm;return Aa(Aa({},g),{},{[y]:g[y]+v})}return g},{left:r.left||0,right:r.right||0}),d=o.reduce((g,x)=>{var{orientation:y}=x;return!x.mirror&&!x.hide?Aa(Aa({},g),{},{[y]:vi(g,"".concat(y))+x.height}):g},{top:r.top||0,bottom:r.bottom||0}),u=Aa(Aa({},d),c),f=u.bottom;u.bottom+=n,u=_Q(u,i,l);var p=e-u.left-u.right,h=t-u.top-u.bottom;return Aa(Aa({brushBottom:f},u),{},{width:Math.max(p,0),height:Math.max(h,0)})}),QQ=Z(Yt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),QT=Z(xa,ba,(e,t)=>({x:0,y:0,width:e,height:t})),GQ=m.createContext(null),Xr=()=>m.useContext(GQ)!=null,jm=e=>e.brush,km=Z([jm,Yt,VT],(e,t,r)=>({height:e.height,x:xe(e.x)?e.x:t.left,y:xe(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:xe(e.width)?e.width:t.width})),T1=()=>{var e,t=Xr(),r=Pe(QQ),n=Pe(km),o=(e=Pe(jm))===null||e===void 0?void 0:e.padding;return!t||!n||!o?r:{width:n.width-o.left-o.right,height:n.height-o.top-o.bottom,x:o.left,y:o.top}},XQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},GT=()=>{var e;return(e=Pe(Yt))!==null&&e!==void 0?e:XQ},M1=()=>Pe(xa),$1=()=>Pe(ba),JQ={top:0,right:0,bottom:0,left:0},ZQ=()=>{var e;return(e=Pe(t=>t.layout.margin))!==null&&e!==void 0?e:JQ},Fe=e=>e.layout.layoutType,Cm=()=>Pe(Fe),eG={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},XT=xn({name:"legend",initialState:eG,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=na(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:m4,setLegendSettings:tG,addLegendPayload:JT,removeLegendPayload:ZT}=XT.actions,rG=XT.reducer,nG=["contextPayload"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(null,arguments)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){z1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z1(e,t,r){return(t=oG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=aG(e,"string");return typeof t=="symbol"?t:t+""}function aG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iG(e,t){if(e==null)return{};var r,n,o=sG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function sG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lG(e){return e.value}function cG(e){var{contextPayload:t}=e,r=iG(e,nG),n=aT(t,e.payloadUniqBy,lG),o=oc(oc({},r),{},{payload:n});return m.isValidElement(e.content)?m.cloneElement(e.content,o):typeof e.content=="function"?m.createElement(e.content,o):m.createElement(p1,o)}function uG(e,t,r,n,o,a){var{layout:i,align:l,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&i==="vertical"?d={left:((n||0)-a.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((o||0)-a.height)/2}:u=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),oc(oc({},d),u)}function dG(e){var t=kt();return m.useEffect(()=>{t(tG(e))},[t,e]),null}function fG(e){var t=kt();return m.useEffect(()=>(t(m4(e)),()=>{t(m4({width:0,height:0}))}),[t,e]),null}function pG(e){var t=yY(),r=BV(),n=ZQ(),{width:o,height:a,wrapperStyle:i,portal:l}=e,[c,d]=gT([t]),u=M1(),f=$1(),p=u-(n.left||0)-(n.right||0),h=Pm.getWidthOrHeight(e.layout,a,o,p),g=l?i:oc(oc({position:"absolute",width:(h==null?void 0:h.width)||o||"auto",height:(h==null?void 0:h.height)||a||"auto"},uG(i,e,n,u,f,c)),i),x=l??r;if(x==null)return null;var y=m.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},m.createElement(dG,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),m.createElement(fG,{width:c.width,height:c.height}),m.createElement(cG,Zx({},e,h,{margin:n,chartWidth:u,chartHeight:f,contextPayload:t})));return Mw.createPortal(y,x)}class Pm extends m.PureComponent{static getWidthOrHeight(t,r,n,o){return t==="vertical"&&xe(r)?{height:r}:t==="horizontal"?{width:n||o}:null}render(){return m.createElement(pG,this.props)}}z1(Pm,"displayName","Legend");z1(Pm,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eb.apply(null,arguments)}function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function gy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){hG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=mG(e,"string");return typeof t=="symbol"?t:t+""}function mG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gG(e){return Array.isArray(e)&&zo(e[0])&&zo(e[1])?e.join(" ~ "):e}var yG=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:o={},payload:a,formatter:i,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:p=!1}=e,h=()=>{if(a&&a.length){var k={padding:0,margin:0},C=(l?vm(a,l):a).map((O,D)=>{if(O.type==="none")return null;var I=O.formatter||i||gG,{value:K,name:X}=O,H=K,T=X;if(I){var R=I(K,X,O,D,a);if(Array.isArray(R))[H,T]=R;else if(R!=null)H=R;else return null}var G=gy({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},n);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:G},zo(T)?m.createElement("span",{className:"recharts-tooltip-item-name"},T):null,zo(T)?m.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,m.createElement("span",{className:"recharts-tooltip-item-value"},H),m.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:k},C)}return null},g=gy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=gy({margin:0},o),y=!dt(u),v=y?u:"",S=He("recharts-default-tooltip",c),b=He("recharts-tooltip-label",d);y&&f&&a!==void 0&&a!==null&&(v=f(u,a));var j=p?{role:"status","aria-live":"assertive"}:{};return m.createElement("div",eb({className:S,style:g},j),m.createElement("p",{className:b,style:x},m.isValidElement(v)?v:"".concat(v)),h())},Zc="recharts-tooltip-wrapper",xG={visibility:"hidden"};function bG(e){var{coordinate:t,translateX:r,translateY:n}=e;return He(Zc,{["".concat(Zc,"-right")]:xe(r)&&t&&xe(t.x)&&r>=t.x,["".concat(Zc,"-left")]:xe(r)&&t&&xe(t.x)&&r<t.x,["".concat(Zc,"-bottom")]:xe(n)&&t&&xe(t.y)&&n>=t.y,["".concat(Zc,"-top")]:xe(n)&&t&&xe(t.y)&&n<t.y})}function x4(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:o,position:a,reverseDirection:i,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(a&&xe(a[n]))return a[n];var u=r[n]-l-(o>0?o:0),f=r[n]+o;if(t[n])return i[n]?u:f;var p=c[n];if(p==null)return 0;if(i[n]){var h=u,g=p;return h<g?Math.max(f,p):Math.max(u,p)}if(d==null)return 0;var x=f+l,y=p+d;return x>y?Math.max(u,p):Math.max(f,p)}function wG(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function SG(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:o,reverseDirection:a,tooltipBox:i,useTranslate3d:l,viewBox:c}=e,d,u,f;return i.height>0&&i.width>0&&r?(u=x4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:o,reverseDirection:a,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=x4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:o,reverseDirection:a,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),d=wG({translateX:u,translateY:f,useTranslate3d:l})):d=xG,{cssProperties:d,cssClasses:bG({translateX:u,translateY:f,coordinate:r})}}function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(n){tb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tb(e,t,r){return(t=jG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jG(e){var t=kG(e,"string");return typeof t=="symbol"?t:t+""}function kG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CG extends m.PureComponent{constructor(){super(...arguments),tb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),tb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,o,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(o=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&o!==void 0?o:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:o,children:a,coordinate:i,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:f,useTranslate3d:p,viewBox:h,wrapperStyle:g,lastBoundingBox:x,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:S,cssProperties:b}=SG({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:p,viewBox:h}),j=v?{}:Gf(Gf({transition:c&&t?"transform ".concat(n,"ms ").concat(o):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=Gf(Gf({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return m.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:k,ref:y},a)}}var PG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ls={isSsr:PG()},e6=()=>Pe(e=>e.rootProps.accessibilityLayer);function mn(e){return Number.isFinite(e)}function ac(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rb.apply(null,arguments)}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function S4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){AG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AG(e,t,r){return(t=OG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j4={curveBasisClosed:iK,curveBasisOpen:sK,curveBasis:aK,curveBumpX:HV,curveBumpY:VV,curveLinearClosed:lK,curveLinear:lm,curveMonotoneX:cK,curveMonotoneY:uK,curveNatural:dK,curveStep:fK,curveStepAfter:hK,curveStepBefore:pK},Xf=e=>mn(e.x)&&mn(e.y),eu=e=>e.x,tu=e=>e.y,EG=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(qd(e));return(r==="curveMonotone"||r==="curveBump")&&t?j4["".concat(r).concat(t==="vertical"?"Y":"X")]:j4[r]||lm},TG=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:o,connectNulls:a=!1}=e,i=EG(t,o),l=a?r.filter(Xf):r,c;if(Array.isArray(n)){var d=a?n.filter(f=>Xf(f)):n,u=l.map((f,p)=>S4(S4({},f),{},{base:d[p]}));return o==="vertical"?c=Hf().y(tu).x1(eu).x0(f=>f.base.x):c=Hf().x(eu).y1(tu).y0(f=>f.base.y),c.defined(Xf).curve(i),c(u)}return o==="vertical"&&xe(n)?c=Hf().y(tu).x1(eu).x0(n):xe(n)?c=Hf().x(eu).y1(tu).y0(n):c=M5().x(eu).y(tu),c.defined(Xf).curve(i),c(l)},D1=e=>{var{className:t,points:r,path:n,pathRef:o}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?TG(e):n;return m.createElement("path",rb({},ya(e),i1(e),{className:He("recharts-curve",t),d:a===null?void 0:a,ref:o}))},MG=["x","y","top","left","width","height","className"];function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nb.apply(null,arguments)}function k4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function $G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k4(Object(r),!0).forEach(function(n){zG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zG(e,t,r){return(t=DG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=IG(e,"string");return typeof t=="symbol"?t:t+""}function IG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RG(e,t){if(e==null)return{};var r,n,o=NG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function NG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LG=(e,t,r,n,o,a)=>"M".concat(e,",").concat(o,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),FG=e=>{var{x:t=0,y:r=0,top:n=0,left:o=0,width:a=0,height:i=0,className:l}=e,c=RG(e,MG),d=$G({x:t,y:r,top:n,left:o,width:a,height:i},c);return!xe(t)||!xe(r)||!xe(a)||!xe(i)||!xe(n)||!xe(o)?null:m.createElement("path",nb({},vt(d,!0),{className:He("recharts-cross",l),d:LG(t,r,a,i,n,o)}))};function BG(e,t,r,n){var o=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-o:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-o,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function C4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function UG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(r),!0).forEach(function(n){WG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WG(e,t,r){return(t=qG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qG(e){var t=HG(e,"string");return typeof t=="symbol"?t:t+""}function HG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bn(e,t){var r=UG({},e),n=t,o=Object.keys(t),a=o.reduce((i,l)=>(i[l]===void 0&&n[l]!==void 0&&(i[l]=n[l]),i),r);return a}var t6={},r6={},n6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(n6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n6,r=x1,n=fm,o=pm,a=dm;function i(d,u,f){return l(d,u,void 0,void 0,void 0,void 0,f)}function l(d,u,f,p,h,g,x){const y=x(d,u,f,p,h,g);if(y!==void 0)return y;if(typeof d==typeof u)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===u;case"number":return d===u||Object.is(d,u);case"function":return d===u;case"object":return c(d,u,g,x)}return c(d,u,g,x)}function c(d,u,f,p){if(Object.is(d,u))return!0;let h=n.getTag(d),g=n.getTag(u);if(h===o.argumentsTag&&(h=o.objectTag),g===o.argumentsTag&&(g=o.objectTag),h!==g)return!1;switch(h){case o.stringTag:return d.toString()===u.toString();case o.numberTag:{const v=d.valueOf(),S=u.valueOf();return a.eq(v,S)}case o.booleanTag:case o.dateTag:case o.symbolTag:return Object.is(d.valueOf(),u.valueOf());case o.regexpTag:return d.source===u.source&&d.flags===u.flags;case o.functionTag:return d===u}f=f??new Map;const x=f.get(d),y=f.get(u);if(x!=null&&y!=null)return x===u;f.set(d,u),f.set(u,d);try{switch(h){case o.mapTag:{if(d.size!==u.size)return!1;for(const[v,S]of d.entries())if(!u.has(v)||!l(S,u.get(v),v,d,u,f,p))return!1;return!0}case o.setTag:{if(d.size!==u.size)return!1;const v=Array.from(d.values()),S=Array.from(u.values());for(let b=0;b<v.length;b++){const j=v[b],k=S.findIndex(C=>l(j,C,void 0,d,u,f,p));if(k===-1)return!1;S.splice(k,1)}return!0}case o.arrayTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:case o.bigUint64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.bigInt64ArrayTag:case o.float32ArrayTag:case o.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(u)||d.length!==u.length)return!1;for(let v=0;v<d.length;v++)if(!l(d[v],u[v],v,d,u,f,p))return!1;return!0}case o.arrayBufferTag:return d.byteLength!==u.byteLength?!1:c(new Uint8Array(d),new Uint8Array(u),f,p);case o.dataViewTag:return d.byteLength!==u.byteLength||d.byteOffset!==u.byteOffset?!1:c(new Uint8Array(d),new Uint8Array(u),f,p);case o.errorTag:return d.name===u.name&&d.message===u.message;case o.objectTag:{if(!(c(d.constructor,u.constructor,f,p)||t.isPlainObject(d)&&t.isPlainObject(u)))return!1;const S=[...Object.keys(d),...r.getSymbols(d)],b=[...Object.keys(u),...r.getSymbols(u)];if(S.length!==b.length)return!1;for(let j=0;j<S.length;j++){const k=S[j],C=d[k];if(!Object.hasOwn(u,k))return!1;const O=u[k];if(!l(C,O,k,d,u,f,p))return!1}return!0}default:return!1}}finally{f.delete(d),f.delete(u)}}e.isEqualWith=i})(r6);var o6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(o6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r6,r=o6;function n(o,a){return t.isEqualWith(o,a,r.noop)}e.isEqual=n})(t6);var VG=t6.isEqual;const KG=Ro(VG);var Yh=1e-4,a6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],i6=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),P4=(e,t)=>r=>{var n=a6(e,t);return i6(n,r)},YG=(e,t)=>r=>{var n=a6(e,t),o=[...n.map((a,i)=>a*i).slice(1),0];return i6(o,r)},A4=function(){for(var t,r,n,o,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];if(i.length===1)switch(i[0]){case"linear":[t,n,r,o]=[0,0,1,1];break;case"ease":[t,n,r,o]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,o]=[.42,0,1,1];break;case"ease-out":[t,n,r,o]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,o]=[0,0,.58,1];break;default:{var c=i[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,o]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else i.length===4&&([t,n,r,o]=i);var d=P4(t,r),u=P4(n,o),f=YG(t,r),p=g=>g>1?1:g<0?0:g,h=g=>{for(var x=g>1?1:g,y=x,v=0;v<8;++v){var S=d(y)-x,b=f(y);if(Math.abs(S-x)<Yh||b<Yh)return u(y);y=p(y-S/b)}return u(y)};return h.isStepper=!1,h},QG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:o=17}=t,a=(i,l,c)=>{var d=-(i-l)*r,u=c*n,f=c+(d-u)*o/1e3,p=c*o/1e3+i;return Math.abs(p-l)<Yh&&Math.abs(f)<Yh?[l,0]:[p,f]};return a.isStepper=!0,a.dt=o,a},s6=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return A4(e);case"spring":return QG();default:if(e.split("(")[0]==="cubic-bezier")return A4(e)}return typeof e=="function"?e:null};function O4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function _4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(r),!0).forEach(function(n){GG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GG(e,t,r){return(t=XG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZG=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),eX=(e,t,r)=>e.map(n=>"".concat(ZG(n)," ").concat(t,"ms ").concat(r)).join(","),tX=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(o=>n.includes(o))),yd=(e,t)=>Object.keys(t).reduce((r,n)=>_4(_4({},r),{},{[n]:e(n,t[n])}),{});function E4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(r),!0).forEach(function(n){rX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rX(e,t,r){return(t=nX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nX(e){var t=oX(e,"string");return typeof t=="symbol"?t:t+""}function oX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qh=(e,t,r)=>e+(t-e)*r,ob=e=>{var{from:t,to:r}=e;return t!==r},l6=(e,t,r)=>{var n=yd((o,a)=>{if(ob(a)){var[i,l]=e(a.from,a.to,a.velocity);return ir(ir({},a),{},{from:i,velocity:l})}return a},t);return r<1?yd((o,a)=>ob(a)?ir(ir({},a),{},{velocity:Qh(a.velocity,n[o].velocity,r),from:Qh(a.from,n[o].from,r)}):a,t):l6(e,n,r-1)};function aX(e,t,r,n,o,a){var i,l=n.reduce((p,h)=>ir(ir({},p),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>yd((p,h)=>h.from,l),d=()=>!Object.values(l).filter(ob).length,u=null,f=p=>{i||(i=p);var h=p-i,g=h/r.dt;l=l6(r,l,g),o(ir(ir(ir({},e),t),c())),i=p,d()||(u=a.setTimeout(f))};return()=>(u=a.setTimeout(f),()=>{u()})}function iX(e,t,r,n,o,a,i){var l=null,c=o.reduce((f,p)=>ir(ir({},f),{},{[p]:[e[p],t[p]]}),{}),d,u=f=>{d||(d=f);var p=(f-d)/n,h=yd((x,y)=>Qh(...y,r(p)),c);if(a(ir(ir(ir({},e),t),h)),p<1)l=i.setTimeout(u);else{var g=yd((x,y)=>Qh(...y,r(1)),c);a(ir(ir(ir({},e),t),g))}};return()=>(l=i.setTimeout(u),()=>{l()})}const c6=(e,t,r,n,o,a)=>{var i=tX(e,t);return r.isStepper===!0?aX(e,t,r,i,o,a):iX(e,t,r,n,i,o,a)};function sX(e){var t,r=()=>null,n=!1,o=null,a=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,[c,...d]=l;if(typeof c=="number"){o=e.setTimeout(a.bind(null,d),c);return}a(c),o=e.setTimeout(a.bind(null,d));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,o&&(o(),o=null),a(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class lX{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),o=null,a=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(o=requestAnimationFrame(a))};return o=requestAnimationFrame(a),()=>{cancelAnimationFrame(o)}}}function u6(){return sX(new lX)}var cX=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ab.apply(null,arguments)}function uX(e,t){if(e==null)return{};var r,n,o=dX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function dX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function T4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(r),!0).forEach(function(n){ns(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ns(e,t,r){return(t=fX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fX(e){var t=pX(e,"string");return typeof t=="symbol"?t:t+""}function pX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class I1 extends m.PureComponent{constructor(t,r){super(t,r),ns(this,"mounted",!1),ns(this,"manager",void 0),ns(this,"stopJSAnimation",null),ns(this,"unSubscribe",null);var{isActive:n,attributeName:o,from:a,to:i,children:l,duration:c,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:i});return}if(a){if(typeof l=="function"){this.state={style:a};return}this.state={style:o?{[o]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:o,shouldReAnimate:a,to:i,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var d={style:o?{[o]:i}:i};this.state&&c&&(o&&c[o]!==i||!o&&c!==i)&&this.setState(d);return}if(!(KG(t.to,i)&&t.canBegin&&t.isActive)){var u=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=u||a?l:t.to;if(this.state&&c){var p={style:o?{[o]:f}:f};(o&&c[o]!==f||!o&&c!==f)&&this.setState(p)}this.runAnimation(Oa(Oa({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:o,easing:a,begin:i,onAnimationEnd:l,onAnimationStart:c}=t,d=c6(r,n,s6(a),o,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=d()};this.manager.start([c,i,u,o,l])}runAnimation(t){var{begin:r,duration:n,attributeName:o,to:a,easing:i,onAnimationStart:l,onAnimationEnd:c,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof i=="function"||typeof d=="function"||i==="spring"){this.runJSAnimation(t);return}var u=o?{[o]:a}:a,f=eX(Object.keys(u),n,i);this.manager.start([l,r,Oa(Oa({},u),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:o,attributeName:a,easing:i,isActive:l,from:c,to:d,canBegin:u,onAnimationEnd:f,shouldReAnimate:p,onAnimationReStart:h,animationManager:g}=t,x=uX(t,cX),y=m.Children.count(r),v=this.state.style;if(typeof r=="function")return r(v);if(!l||y===0||o<=0)return r;var S=b=>{var{style:j={},className:k}=b.props,C=m.cloneElement(b,Oa(Oa({},x),{},{style:Oa(Oa({},j),v),className:k}));return C};return y===1?S(m.Children.only(r)):m.createElement("div",null,m.Children.map(r,b=>S(b)))}}ns(I1,"displayName","Animate");ns(I1,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var d6=m.createContext(null);function Gh(e){var t,r,n=m.useContext(d6);return m.createElement(I1,ab({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:u6()}))}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(null,arguments)}var M4=(e,t,r,n,o)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var u=[0,0,0,0],f=0,p=4;f<p;f++)u[f]=o[f]>a?a:o[f];d="M".concat(e,",").concat(t+i*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),d+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+i*u[1])),d+="L ".concat(e+r,",").concat(t+n-i*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),d+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-i*u[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var h=Math.min(a,o);d="M ".concat(e,",").concat(t+i*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,`
            L `).concat(e+r-l*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*h,`
            L `).concat(e+r,",").concat(t+n-i*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,`
            L `).concat(e+l*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*h," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},hX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f6=e=>{var t=bn(e,hX),r=m.useRef(null),[n,o]=m.useState(-1);m.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&o(v)}catch{}},[]);var{x:a,y:i,width:l,height:c,radius:d,className:u}=t,{animationEasing:f,animationDuration:p,animationBegin:h,isAnimationActive:g,isUpdateAnimationActive:x}=t;if(a!==+a||i!==+i||l!==+l||c!==+c||l===0||c===0)return null;var y=He("recharts-rectangle",u);return x?m.createElement(Gh,{canBegin:n>0,from:{width:l,height:c,x:a,y:i},to:{width:l,height:c,x:a,y:i},duration:p,animationEasing:f,isActive:x},v=>{var{width:S,height:b,x:j,y:k}=v;return m.createElement(Gh,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:p,isActive:g,easing:f},m.createElement("path",Xh({},vt(t,!0),{className:y,d:M4(j,k,S,b,d),ref:r})))}):m.createElement("path",Xh({},vt(t,!0),{className:y,d:M4(a,i,l,c,d)}))};function p6(e){var{cx:t,cy:r,radius:n,startAngle:o,endAngle:a}=e,i=Lt(t,r,n,o),l=Lt(t,r,n,a);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:o,endAngle:a}}function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ib.apply(null,arguments)}var vX=(e,t)=>{var r=tr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Jf=e=>{var{cx:t,cy:r,radius:n,angle:o,sign:a,isExternal:i,cornerRadius:l,cornerIsExternal:c}=e,d=l*(i?1:-1)+n,u=Math.asin(l/d)/Kh,f=c?o:o+a*u,p=Lt(t,r,d,f),h=Lt(t,r,n,f),g=c?o-a*u:o,x=Lt(t,r,d*Math.cos(u*Kh),g);return{center:p,circleTangency:h,lineTangency:x,theta:u}},h6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:o,startAngle:a,endAngle:i}=e,l=vX(a,i),c=a+l,d=Lt(t,r,o,a),u=Lt(t,r,o,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var p=Lt(t,r,n,a),h=Lt(t,r,n,c);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},mX=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:o,cornerRadius:a,forceCornerRadius:i,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=tr(d-c),{circleTangency:f,lineTangency:p,theta:h}=Jf({cx:t,cy:r,radius:o,angle:c,sign:u,cornerRadius:a,cornerIsExternal:l}),{circleTangency:g,lineTangency:x,theta:y}=Jf({cx:t,cy:r,radius:o,angle:d,sign:-u,cornerRadius:a,cornerIsExternal:l}),v=l?Math.abs(c-d):Math.abs(c-d)-h-y;if(v<0)return i?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):h6({cx:t,cy:r,innerRadius:n,outerRadius:o,startAngle:c,endAngle:d});var S="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:k}=Jf({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:C,lineTangency:O,theta:D}=Jf({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),I=l?Math.abs(c-d):Math.abs(c-d)-k-D;if(I<0&&a===0)return"".concat(S,"L").concat(t,",").concat(r,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(I>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"Z")}else S+="L".concat(t,",").concat(r,"Z");return S},gX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},v6=e=>{var t=bn(e,gX),{cx:r,cy:n,innerRadius:o,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=t;if(a<o||d===u)return null;var p=He("recharts-sector",f),h=a-o,g=Tr(i,h,0,!0),x;return g>0&&Math.abs(d-u)<360?x=mX({cx:r,cy:n,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):x=h6({cx:r,cy:n,innerRadius:o,outerRadius:a,startAngle:d,endAngle:u}),m.createElement("path",ib({},vt(t,!0),{className:p,d:x}))};function yX(e,t,r){var n,o,a,i;if(e==="horizontal")n=t.x,a=n,o=r.top,i=r.top+r.height;else if(e==="vertical")o=t.y,i=o,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:d,outerRadius:u,angle:f}=t,p=Lt(l,c,d,f),h=Lt(l,c,u,f);n=p.x,o=p.y,a=h.x,i=h.y}else return p6(t);return[{x:n,y:o},{x:a,y:i}]}var m6={},g6={},y6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S1;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(y6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y6;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(g6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j1,r=g6;function n(o,a,i){i&&typeof i!="number"&&t.isIterateeCall(o,a,i)&&(a=i=void 0),o=r.toFinite(o),a===void 0?(a=o,o=0):a=r.toFinite(a),i=i===void 0?o<a?1:-1:r.toFinite(i);const l=Math.max(Math.ceil((a-o)/(i||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=o,o+=i;return c}e.range=n})(m6);var xX=m6.range;const x6=Ro(xX);function ui(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function R1(e){let t,r,n;e.length!==2?(t=ui,r=(l,c)=>ui(e(l),c),n=(l,c)=>e(l)-c):(t=e===ui||e===bX?e:wX,r=e,n=e);function o(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){const f=o(l,c,d,u-1);return f>d&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:o,center:i,right:a}}function wX(){return 0}function b6(e){return e===null?NaN:+e}function*SX(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const jX=R1(ui),Yd=jX.right;R1(b6).center;class $4 extends Map{constructor(t,r=PX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,o]of t)this.set(n,o)}get(t){return super.get(z4(this,t))}has(t){return super.has(z4(this,t))}set(t,r){return super.set(kX(this,t),r)}delete(t){return super.delete(CX(this,t))}}function z4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function kX({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function CX({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function PX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function AX(e=ui){if(e===ui)return w6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function w6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const OX=Math.sqrt(50),_X=Math.sqrt(10),EX=Math.sqrt(2);function Jh(e,t,r){const n=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(n)),a=n/Math.pow(10,o),i=a>=OX?10:a>=_X?5:a>=EX?2:1;let l,c,d;return o<0?(d=Math.pow(10,-o)/i,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,o)*i,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?Jh(e,t,r*2):[l,c,d]}function sb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[o,a,i]=n?Jh(t,e,r):Jh(e,t,r);if(!(a>=o))return[];const l=a-o+1,c=new Array(l);if(n)if(i<0)for(let d=0;d<l;++d)c[d]=(a-d)/-i;else for(let d=0;d<l;++d)c[d]=(a-d)*i;else if(i<0)for(let d=0;d<l;++d)c[d]=(o+d)/-i;else for(let d=0;d<l;++d)c[d]=(o+d)*i;return c}function lb(e,t,r){return t=+t,e=+e,r=+r,Jh(e,t,r)[2]}function cb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,o=n?lb(t,e,r):lb(e,t,r);return(n?-1:1)*(o<0?1/-o:o)}function D4(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function I4(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function S6(e,t,r=0,n=1/0,o){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(o=o===void 0?w6:AX(o);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),h=Math.max(r,Math.floor(t-d*f/c+p)),g=Math.min(n,Math.floor(t+(c-d)*f/c+p));S6(e,t,h,g,o)}const a=e[t];let i=r,l=n;for(ru(e,r,t),o(e[n],a)>0&&ru(e,r,n);i<l;){for(ru(e,i,l),++i,--l;o(e[i],a)<0;)++i;for(;o(e[l],a)>0;)--l}o(e[r],a)===0?ru(e,r,l):(++l,ru(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function ru(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function TX(e,t,r){if(e=Float64Array.from(SX(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return I4(e);if(t>=1)return D4(e);var n,o=(n-1)*t,a=Math.floor(o),i=D4(S6(e,a).subarray(0,a+1)),l=I4(e.subarray(a+1));return i+(l-i)*(o-a)}}function MX(e,t,r=b6){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,o=(n-1)*t,a=Math.floor(o),i=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return i+(l-i)*(o-a)}}function $X(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var n=-1,o=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(o);++n<o;)a[n]=e+n*r;return a}function Ln(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ub=Symbol("implicit");function N1(){var e=new $4,t=[],r=[],n=ub;function o(a){let i=e.get(a);if(i===void 0){if(n!==ub)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return o.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new $4;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return o},o.range=function(a){return arguments.length?(r=Array.from(a),o):r.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return N1(t,r).unknown(n)},Ln.apply(o,arguments),o}function L1(){var e=N1().unknown(void 0),t=e.domain,r=e.range,n=0,o=1,a,i,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var p=t().length,h=o<n,g=h?o:n,x=h?n:o;a=(x-g)/Math.max(1,p-c+d*2),l&&(a=Math.floor(a)),g+=(x-g-a*(p-c))*u,i=a*(1-c),l&&(g=Math.round(g),i=Math.round(i));var y=$X(p).map(function(v){return g+a*v});return r(h?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,o]=p,n=+n,o=+o,f()):[n,o]},e.rangeRound=function(p){return[n,o]=p,n=+n,o=+o,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(p){return arguments.length?(l=!!p,f()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,f()):d},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return L1(t(),[n,o]).round(l).paddingInner(c).paddingOuter(d).align(u)},Ln.apply(f(),arguments)}function j6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return j6(t())},e}function zX(){return j6(L1.apply(null,arguments).paddingInner(1))}function F1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function k6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Qd(){}var xd=.7,Zh=1/xd,$l="\\s*([+-]?\\d+)\\s*",bd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DX=/^#([0-9a-f]{3,8})$/,IX=new RegExp(`^rgb\\(${$l},${$l},${$l}\\)$`),RX=new RegExp(`^rgb\\(${Mo},${Mo},${Mo}\\)$`),NX=new RegExp(`^rgba\\(${$l},${$l},${$l},${bd}\\)$`),LX=new RegExp(`^rgba\\(${Mo},${Mo},${Mo},${bd}\\)$`),FX=new RegExp(`^hsl\\(${bd},${Mo},${Mo}\\)$`),BX=new RegExp(`^hsla\\(${bd},${Mo},${Mo},${bd}\\)$`),R4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};F1(Qd,wd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:N4,formatHex:N4,formatHex8:UX,formatHsl:WX,formatRgb:L4,toString:L4});function N4(){return this.rgb().formatHex()}function UX(){return this.rgb().formatHex8()}function WX(){return C6(this).formatHsl()}function L4(){return this.rgb().formatRgb()}function wd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=DX.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?F4(t):r===3?new qr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Zf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Zf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=IX.exec(e))?new qr(t[1],t[2],t[3],1):(t=RX.exec(e))?new qr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=NX.exec(e))?Zf(t[1],t[2],t[3],t[4]):(t=LX.exec(e))?Zf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FX.exec(e))?W4(t[1],t[2]/100,t[3]/100,1):(t=BX.exec(e))?W4(t[1],t[2]/100,t[3]/100,t[4]):R4.hasOwnProperty(e)?F4(R4[e]):e==="transparent"?new qr(NaN,NaN,NaN,0):null}function F4(e){return new qr(e>>16&255,e>>8&255,e&255,1)}function Zf(e,t,r,n){return n<=0&&(e=t=r=NaN),new qr(e,t,r,n)}function qX(e){return e instanceof Qd||(e=wd(e)),e?(e=e.rgb(),new qr(e.r,e.g,e.b,e.opacity)):new qr}function db(e,t,r,n){return arguments.length===1?qX(e):new qr(e,t,r,n??1)}function qr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}F1(qr,db,k6(Qd,{brighter(e){return e=e==null?Zh:Math.pow(Zh,e),new qr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xd:Math.pow(xd,e),new qr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qr(ws(this.r),ws(this.g),ws(this.b),ev(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:B4,formatHex:B4,formatHex8:HX,formatRgb:U4,toString:U4}));function B4(){return`#${os(this.r)}${os(this.g)}${os(this.b)}`}function HX(){return`#${os(this.r)}${os(this.g)}${os(this.b)}${os((isNaN(this.opacity)?1:this.opacity)*255)}`}function U4(){const e=ev(this.opacity);return`${e===1?"rgb(":"rgba("}${ws(this.r)}, ${ws(this.g)}, ${ws(this.b)}${e===1?")":`, ${e})`}`}function ev(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ws(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function os(e){return e=ws(e),(e<16?"0":"")+e.toString(16)}function W4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zn(e,t,r,n)}function C6(e){if(e instanceof Zn)return new Zn(e.h,e.s,e.l,e.opacity);if(e instanceof Qd||(e=wd(e)),!e)return new Zn;if(e instanceof Zn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,l=a-o,c=(a+o)/2;return l?(t===a?i=(r-n)/l+(r<n)*6:r===a?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?a+o:2-a-o,i*=60):l=c>0&&c<1?0:i,new Zn(i,l,c,e.opacity)}function VX(e,t,r,n){return arguments.length===1?C6(e):new Zn(e,t,r,n??1)}function Zn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}F1(Zn,VX,k6(Qd,{brighter(e){return e=e==null?Zh:Math.pow(Zh,e),new Zn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xd:Math.pow(xd,e),new Zn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new qr(yy(e>=240?e-240:e+120,o,n),yy(e,o,n),yy(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Zn(q4(this.h),ep(this.s),ep(this.l),ev(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ev(this.opacity);return`${e===1?"hsl(":"hsla("}${q4(this.h)}, ${ep(this.s)*100}%, ${ep(this.l)*100}%${e===1?")":`, ${e})`}`}}));function q4(e){return e=(e||0)%360,e<0?e+360:e}function ep(e){return Math.max(0,Math.min(1,e||0))}function yy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const B1=e=>()=>e;function KX(e,t){return function(r){return e+r*t}}function YX(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function QX(e){return(e=+e)==1?P6:function(t,r){return r-t?YX(t,r,e):B1(isNaN(t)?r:t)}}function P6(e,t){var r=t-e;return r?KX(e,r):B1(isNaN(e)?t:e)}const H4=function e(t){var r=QX(t);function n(o,a){var i=r((o=db(o)).r,(a=db(a)).r),l=r(o.g,a.g),c=r(o.b,a.b),d=P6(o.opacity,a.opacity);return function(u){return o.r=i(u),o.g=l(u),o.b=c(u),o.opacity=d(u),o+""}}return n.gamma=e,n}(1);function GX(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),o;return function(a){for(o=0;o<r;++o)n[o]=e[o]*(1-a)+t[o]*a;return n}}function XX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function JX(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,o=new Array(n),a=new Array(r),i;for(i=0;i<n;++i)o[i]=jc(e[i],t[i]);for(;i<r;++i)a[i]=t[i];return function(l){for(i=0;i<n;++i)a[i]=o[i](l);return a}}function ZX(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function tv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function eJ(e,t){var r={},n={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?r[o]=jc(e[o],t[o]):n[o]=t[o];return function(a){for(o in r)n[o]=r[o](a);return n}}var fb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xy=new RegExp(fb.source,"g");function tJ(e){return function(){return e}}function rJ(e){return function(t){return e(t)+""}}function nJ(e,t){var r=fb.lastIndex=xy.lastIndex=0,n,o,a,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=fb.exec(e))&&(o=xy.exec(t));)(a=o.index)>r&&(a=t.slice(r,a),l[i]?l[i]+=a:l[++i]=a),(n=n[0])===(o=o[0])?l[i]?l[i]+=o:l[++i]=o:(l[++i]=null,c.push({i,x:tv(n,o)})),r=xy.lastIndex;return r<t.length&&(a=t.slice(r),l[i]?l[i]+=a:l[++i]=a),l.length<2?c[0]?rJ(c[0].x):tJ(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function jc(e,t){var r=typeof t,n;return t==null||r==="boolean"?B1(t):(r==="number"?tv:r==="string"?(n=wd(t))?(t=n,H4):nJ:t instanceof wd?H4:t instanceof Date?ZX:XX(t)?GX:Array.isArray(t)?JX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eJ:tv)(e,t)}function U1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function oJ(e,t){t===void 0&&(t=e,e=jc);for(var r=0,n=t.length-1,o=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(o,o=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return a[l](i-l)}}function aJ(e){return function(){return e}}function rv(e){return+e}var V4=[0,1];function _r(e){return e}function pb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:aJ(isNaN(t)?NaN:.5)}function iJ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function sJ(e,t,r){var n=e[0],o=e[1],a=t[0],i=t[1];return o<n?(n=pb(o,n),a=r(i,a)):(n=pb(n,o),a=r(a,i)),function(l){return a(n(l))}}function lJ(e,t,r){var n=Math.min(e.length,t.length)-1,o=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)o[i]=pb(e[i],e[i+1]),a[i]=r(t[i],t[i+1]);return function(l){var c=Yd(e,l,1,n)-1;return a[c](o[c](l))}}function Gd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Am(){var e=V4,t=V4,r=jc,n,o,a,i=_r,l,c,d;function u(){var p=Math.min(e.length,t.length);return i!==_r&&(i=iJ(e[0],e[p-1])),l=p>2?lJ:sJ,c=d=null,f}function f(p){return p==null||isNaN(p=+p)?a:(c||(c=l(e.map(n),t,r)))(n(i(p)))}return f.invert=function(p){return i(o((d||(d=l(t,e.map(n),tv)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,rv),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=U1,u()},f.clamp=function(p){return arguments.length?(i=p?!0:_r,u()):i!==_r},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,o=h,u()}}function W1(){return Am()(_r,_r)}function cJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ic(e){return e=nv(Math.abs(e)),e?e[1]:NaN}function uJ(e,t){return function(r,n){for(var o=r.length,a=[],i=0,l=e[0],c=0;o>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(o-=l,o+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return a.reverse().join(t)}}function dJ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var fJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sd(e){if(!(t=fJ.exec(e)))throw new Error("invalid format: "+e);var t;return new q1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sd.prototype=q1.prototype;function q1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}q1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pJ(e){e:for(var t=e.length,r=1,n=-1,o;r<t;++r)switch(e[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(o+1):e}var A6;function hJ(e,t){var r=nv(e,t);if(!r)return e+"";var n=r[0],o=r[1],a=o-(A6=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+nv(e,Math.max(0,t+a-1))[0]}function K4(e,t){var r=nv(e,t);if(!r)return e+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}const Y4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>K4(e*100,t),r:K4,s:hJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Q4(e){return e}var G4=Array.prototype.map,X4=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function vJ(e){var t=e.grouping===void 0||e.thousands===void 0?Q4:uJ(G4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Q4:dJ(G4.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Sd(f);var p=f.fill,h=f.align,g=f.sign,x=f.symbol,y=f.zero,v=f.width,S=f.comma,b=f.precision,j=f.trim,k=f.type;k==="n"?(S=!0,k="g"):Y4[k]||(b===void 0&&(b=12),j=!0,k="g"),(y||p==="0"&&h==="=")&&(y=!0,p="0",h="=");var C=x==="$"?r:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",O=x==="$"?n:/[%p]/.test(k)?i:"",D=Y4[k],I=/[defgprs%]/.test(k);b=b===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function K(X){var H=C,T=O,R,G,Q;if(k==="c")T=D(X)+T,X="";else{X=+X;var se=X<0||1/X<0;if(X=isNaN(X)?c:D(Math.abs(X),b),j&&(X=pJ(X)),se&&+X==0&&g!=="+"&&(se=!1),H=(se?g==="("?g:l:g==="-"||g==="("?"":g)+H,T=(k==="s"?X4[8+A6/3]:"")+T+(se&&g==="("?")":""),I){for(R=-1,G=X.length;++R<G;)if(Q=X.charCodeAt(R),48>Q||Q>57){T=(Q===46?o+X.slice(R+1):X.slice(R))+T,X=X.slice(0,R);break}}}S&&!y&&(X=t(X,1/0));var re=H.length+X.length+T.length,$=re<v?new Array(v-re+1).join(p):"";switch(S&&y&&(X=t($+X,$.length?v-T.length:1/0),$=""),h){case"<":X=H+X+T+$;break;case"=":X=H+$+X+T;break;case"^":X=$.slice(0,re=$.length>>1)+H+X+T+$.slice(re);break;default:X=$+H+X+T;break}return a(X)}return K.toString=function(){return f+""},K}function u(f,p){var h=d((f=Sd(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(ic(p)/3)))*3,x=Math.pow(10,-g),y=X4[8+g/3];return function(v){return h(x*v)+y}}return{format:d,formatPrefix:u}}var tp,H1,O6;mJ({thousands:",",grouping:[3],currency:["$",""]});function mJ(e){return tp=vJ(e),H1=tp.format,O6=tp.formatPrefix,tp}function gJ(e){return Math.max(0,-ic(Math.abs(e)))}function yJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ic(t)/3)))*3-ic(Math.abs(e)))}function xJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ic(t)-ic(e))+1}function _6(e,t,r,n){var o=cb(e,t,r),a;switch(n=Sd(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=yJ(o,i))&&(n.precision=a),O6(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=xJ(o,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=gJ(o))&&(n.precision=a-(n.type==="%")*2);break}}return H1(n)}function Pi(e){var t=e.domain;return e.ticks=function(r){var n=t();return sb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var o=t();return _6(o[0],o[o.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),o=0,a=n.length-1,i=n[o],l=n[a],c,d,u=10;for(l<i&&(d=i,i=l,l=d,d=o,o=a,a=d);u-- >0;){if(d=lb(i,l,r),d===c)return n[o]=i,n[a]=l,t(n);if(d>0)i=Math.floor(i/d)*d,l=Math.ceil(l/d)*d;else if(d<0)i=Math.ceil(i*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function E6(){var e=W1();return e.copy=function(){return Gd(e,E6())},Ln.apply(e,arguments),Pi(e)}function T6(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,rv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return T6(e).unknown(t)},e=arguments.length?Array.from(e,rv):[0,1],Pi(r)}function M6(e,t){e=e.slice();var r=0,n=e.length-1,o=e[r],a=e[n],i;return a<o&&(i=r,r=n,n=i,i=o,o=a,a=i),e[r]=t.floor(o),e[n]=t.ceil(a),e}function J4(e){return Math.log(e)}function Z4(e){return Math.exp(e)}function bJ(e){return-Math.log(-e)}function wJ(e){return-Math.exp(-e)}function SJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jJ(e){return e===10?SJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function eP(e){return(t,r)=>-e(-t,r)}function V1(e){const t=e(J4,Z4),r=t.domain;let n=10,o,a;function i(){return o=kJ(n),a=jJ(n),r()[0]<0?(o=eP(o),a=eP(a),e(bJ,wJ)):e(J4,Z4),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let p=o(d),h=o(u),g,x;const y=l==null?10:+l;let v=[];if(!(n%1)&&h-p<y){if(p=Math.floor(p),h=Math.ceil(h),d>0){for(;p<=h;++p)for(g=1;g<n;++g)if(x=p<0?g/a(-p):g*a(p),!(x<d)){if(x>u)break;v.push(x)}}else for(;p<=h;++p)for(g=n-1;g>=1;--g)if(x=p>0?g/a(-p):g*a(p),!(x<d)){if(x>u)break;v.push(x)}v.length*2<y&&(v=sb(d,u,y))}else v=sb(p,h,Math.min(h-p,y)).map(a);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Sd(c)).precision==null&&(c.trim=!0),c=H1(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let f=u/a(Math.round(o(u)));return f*n<n-.5&&(f*=n),f<=d?c(u):""}},t.nice=()=>r(M6(r(),{floor:l=>a(Math.floor(o(l))),ceil:l=>a(Math.ceil(o(l)))})),t}function $6(){const e=V1(Am()).domain([1,10]);return e.copy=()=>Gd(e,$6()).base(e.base()),Ln.apply(e,arguments),e}function tP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function K1(e){var t=1,r=e(tP(t),rP(t));return r.constant=function(n){return arguments.length?e(tP(t=+n),rP(t)):t},Pi(r)}function z6(){var e=K1(Am());return e.copy=function(){return Gd(e,z6()).constant(e.constant())},Ln.apply(e,arguments)}function nP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function CJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PJ(e){return e<0?-e*e:e*e}function Y1(e){var t=e(_r,_r),r=1;function n(){return r===1?e(_r,_r):r===.5?e(CJ,PJ):e(nP(r),nP(1/r))}return t.exponent=function(o){return arguments.length?(r=+o,n()):r},Pi(t)}function Q1(){var e=Y1(Am());return e.copy=function(){return Gd(e,Q1()).exponent(e.exponent())},Ln.apply(e,arguments),e}function AJ(){return Q1.apply(null,arguments).exponent(.5)}function oP(e){return Math.sign(e)*e*e}function OJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function D6(){var e=W1(),t=[0,1],r=!1,n;function o(a){var i=OJ(e(a));return isNaN(i)?n:r?Math.round(i):i}return o.invert=function(a){return e.invert(oP(a))},o.domain=function(a){return arguments.length?(e.domain(a),o):e.domain()},o.range=function(a){return arguments.length?(e.range((t=Array.from(a,rv)).map(oP)),o):t.slice()},o.rangeRound=function(a){return o.range(a).round(!0)},o.round=function(a){return arguments.length?(r=!!a,o):r},o.clamp=function(a){return arguments.length?(e.clamp(a),o):e.clamp()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return D6(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ln.apply(o,arguments),Pi(o)}function I6(){var e=[],t=[],r=[],n;function o(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=MX(e,i/l);return a}function a(i){return i==null||isNaN(i=+i)?n:t[Yd(r,i)]}return a.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ui),o()},a.range=function(i){return arguments.length?(t=Array.from(i),o()):t.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return I6().domain(e).range(t).unknown(n)},Ln.apply(a,arguments)}function R6(){var e=0,t=1,r=1,n=[.5],o=[0,1],a;function i(c){return c!=null&&c<=c?o[Yd(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(o=Array.from(c)).length-1,l()):o.slice()},i.invertExtent=function(c){var d=o.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},i.unknown=function(c){return arguments.length&&(a=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return R6().domain([e,t]).range(o).unknown(a)},Ln.apply(Pi(i),arguments)}function N6(){var e=[.5],t=[0,1],r,n=1;function o(a){return a!=null&&a<=a?t[Yd(e,a,0,n)]:r}return o.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(a){var i=t.indexOf(a);return[e[i-1],e[i]]},o.unknown=function(a){return arguments.length?(r=a,o):r},o.copy=function(){return N6().domain(e).range(t).unknown(r)},Ln.apply(o,arguments)}const by=new Date,wy=new Date;function Qt(e,t,r,n){function o(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(e(a=new Date(+a)),a),o.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),o.round=a=>{const i=o(a),l=o.ceil(a);return a-i<l-a?i:l},o.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),o.range=(a,i,l)=>{const c=[];if(a=o.ceil(a),l=l==null?1:Math.floor(l),!(a<i)||!(l>0))return c;let d;do c.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<i);return c},o.filter=a=>Qt(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!a(i););else for(;--l>=0;)for(;t(i,1),!a(i););}),r&&(o.count=(a,i)=>(by.setTime(+a),wy.setTime(+i),e(by),e(wy),Math.floor(r(by,wy))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(n?i=>n(i)%a===0:i=>o.count(0,i)%a===0):o)),o}const ov=Qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ov.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ov);ov.range;const ea=1e3,Mn=ea*60,ta=Mn*60,fa=ta*24,G1=fa*7,aP=fa*30,Sy=fa*365,as=Qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCSeconds());as.range;const X1=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ea)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getMinutes());X1.range;const J1=Qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getUTCMinutes());J1.range;const Z1=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ea-e.getMinutes()*Mn)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getHours());Z1.range;const e2=Qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getUTCHours());e2.range;const Xd=Qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mn)/fa,e=>e.getDate()-1);Xd.range;const Om=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fa,e=>e.getUTCDate()-1);Om.range;const L6=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fa,e=>Math.floor(e/fa));L6.range;function Fs(e){return Qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Mn)/G1)}const _m=Fs(0),av=Fs(1),_J=Fs(2),EJ=Fs(3),sc=Fs(4),TJ=Fs(5),MJ=Fs(6);_m.range;av.range;_J.range;EJ.range;sc.range;TJ.range;MJ.range;function Bs(e){return Qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/G1)}const Em=Bs(0),iv=Bs(1),$J=Bs(2),zJ=Bs(3),lc=Bs(4),DJ=Bs(5),IJ=Bs(6);Em.range;iv.range;$J.range;zJ.range;lc.range;DJ.range;IJ.range;const t2=Qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());t2.range;const r2=Qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());r2.range;const pa=Qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pa.range;const ha=Qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ha.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ha.range;function F6(e,t,r,n,o,a){const i=[[as,1,ea],[as,5,5*ea],[as,15,15*ea],[as,30,30*ea],[a,1,Mn],[a,5,5*Mn],[a,15,15*Mn],[a,30,30*Mn],[o,1,ta],[o,3,3*ta],[o,6,6*ta],[o,12,12*ta],[n,1,fa],[n,2,2*fa],[r,1,G1],[t,1,aP],[t,3,3*aP],[e,1,Sy]];function l(d,u,f){const p=u<d;p&&([d,u]=[u,d]);const h=f&&typeof f.range=="function"?f:c(d,u,f),g=h?h.range(d,+u+1):[];return p?g.reverse():g}function c(d,u,f){const p=Math.abs(u-d)/f,h=R1(([,,y])=>y).right(i,p);if(h===i.length)return e.every(cb(d/Sy,u/Sy,f));if(h===0)return ov.every(Math.max(cb(d,u,f),1));const[g,x]=i[p/i[h-1][2]<i[h][2]/p?h-1:h];return g.every(x)}return[l,c]}const[RJ,NJ]=F6(ha,r2,Em,L6,e2,J1),[LJ,FJ]=F6(pa,t2,_m,Xd,Z1,X1);function jy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ky(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function BJ(e){var t=e.dateTime,r=e.date,n=e.time,o=e.periods,a=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,d=ou(o),u=au(o),f=ou(a),p=au(a),h=ou(i),g=au(i),x=ou(l),y=au(l),v=ou(c),S=au(c),b={a:se,A:re,b:$,B:V,c:null,d:dP,e:dP,f:uZ,g:bZ,G:SZ,H:sZ,I:lZ,j:cZ,L:B6,m:dZ,M:fZ,p:U,q:M,Q:hP,s:vP,S:pZ,u:hZ,U:vZ,V:mZ,w:gZ,W:yZ,x:null,X:null,y:xZ,Y:wZ,Z:jZ,"%":pP},j={a:ee,A:ae,b:pe,B:ge,c:null,d:fP,e:fP,f:AZ,g:RZ,G:LZ,H:kZ,I:CZ,j:PZ,L:W6,m:OZ,M:_Z,p:ke,q:Te,Q:hP,s:vP,S:EZ,u:TZ,U:MZ,V:$Z,w:zZ,W:DZ,x:null,X:null,y:IZ,Y:NZ,Z:FZ,"%":pP},k={a:K,A:X,b:H,B:T,c:R,d:cP,e:cP,f:nZ,g:lP,G:sP,H:uP,I:uP,j:ZJ,L:rZ,m:JJ,M:eZ,p:I,q:XJ,Q:aZ,s:iZ,S:tZ,u:VJ,U:KJ,V:YJ,w:HJ,W:QJ,x:G,X:Q,y:lP,Y:sP,Z:GJ,"%":oZ};b.x=C(r,b),b.X=C(n,b),b.c=C(t,b),j.x=C(r,j),j.X=C(n,j),j.c=C(t,j);function C(ce,me){return function(ve){var ie=[],Be=-1,_e=0,Se=ce.length,De,Qe,ot;for(ve instanceof Date||(ve=new Date(+ve));++Be<Se;)ce.charCodeAt(Be)===37&&(ie.push(ce.slice(_e,Be)),(Qe=iP[De=ce.charAt(++Be)])!=null?De=ce.charAt(++Be):Qe=De==="e"?" ":"0",(ot=me[De])&&(De=ot(ve,Qe)),ie.push(De),_e=Be+1);return ie.push(ce.slice(_e,Be)),ie.join("")}}function O(ce,me){return function(ve){var ie=nu(1900,void 0,1),Be=D(ie,ce,ve+="",0),_e,Se;if(Be!=ve.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(me&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(_e=ky(nu(ie.y,0,1)),Se=_e.getUTCDay(),_e=Se>4||Se===0?iv.ceil(_e):iv(_e),_e=Om.offset(_e,(ie.V-1)*7),ie.y=_e.getUTCFullYear(),ie.m=_e.getUTCMonth(),ie.d=_e.getUTCDate()+(ie.w+6)%7):(_e=jy(nu(ie.y,0,1)),Se=_e.getDay(),_e=Se>4||Se===0?av.ceil(_e):av(_e),_e=Xd.offset(_e,(ie.V-1)*7),ie.y=_e.getFullYear(),ie.m=_e.getMonth(),ie.d=_e.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Se="Z"in ie?ky(nu(ie.y,0,1)).getUTCDay():jy(nu(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Se+5)%7:ie.w+ie.U*7-(Se+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,ky(ie)):jy(ie)}}function D(ce,me,ve,ie){for(var Be=0,_e=me.length,Se=ve.length,De,Qe;Be<_e;){if(ie>=Se)return-1;if(De=me.charCodeAt(Be++),De===37){if(De=me.charAt(Be++),Qe=k[De in iP?me.charAt(Be++):De],!Qe||(ie=Qe(ce,ve,ie))<0)return-1}else if(De!=ve.charCodeAt(ie++))return-1}return ie}function I(ce,me,ve){var ie=d.exec(me.slice(ve));return ie?(ce.p=u.get(ie[0].toLowerCase()),ve+ie[0].length):-1}function K(ce,me,ve){var ie=h.exec(me.slice(ve));return ie?(ce.w=g.get(ie[0].toLowerCase()),ve+ie[0].length):-1}function X(ce,me,ve){var ie=f.exec(me.slice(ve));return ie?(ce.w=p.get(ie[0].toLowerCase()),ve+ie[0].length):-1}function H(ce,me,ve){var ie=v.exec(me.slice(ve));return ie?(ce.m=S.get(ie[0].toLowerCase()),ve+ie[0].length):-1}function T(ce,me,ve){var ie=x.exec(me.slice(ve));return ie?(ce.m=y.get(ie[0].toLowerCase()),ve+ie[0].length):-1}function R(ce,me,ve){return D(ce,t,me,ve)}function G(ce,me,ve){return D(ce,r,me,ve)}function Q(ce,me,ve){return D(ce,n,me,ve)}function se(ce){return i[ce.getDay()]}function re(ce){return a[ce.getDay()]}function $(ce){return c[ce.getMonth()]}function V(ce){return l[ce.getMonth()]}function U(ce){return o[+(ce.getHours()>=12)]}function M(ce){return 1+~~(ce.getMonth()/3)}function ee(ce){return i[ce.getUTCDay()]}function ae(ce){return a[ce.getUTCDay()]}function pe(ce){return c[ce.getUTCMonth()]}function ge(ce){return l[ce.getUTCMonth()]}function ke(ce){return o[+(ce.getUTCHours()>=12)]}function Te(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var me=C(ce+="",b);return me.toString=function(){return ce},me},parse:function(ce){var me=O(ce+="",!1);return me.toString=function(){return ce},me},utcFormat:function(ce){var me=C(ce+="",j);return me.toString=function(){return ce},me},utcParse:function(ce){var me=O(ce+="",!0);return me.toString=function(){return ce},me}}}var iP={"-":"",_:" ",0:"0"},nr=/^\s*\d+/,UJ=/^%/,WJ=/[\\^$*+?|[\]().{}]/g;function Ve(e,t,r){var n=e<0?"-":"",o=(n?-e:e)+"",a=o.length;return n+(a<r?new Array(r-a+1).join(t)+o:o)}function qJ(e){return e.replace(WJ,"\\$&")}function ou(e){return new RegExp("^(?:"+e.map(qJ).join("|")+")","i")}function au(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function HJ(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function VJ(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function KJ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function YJ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function QJ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function sP(e,t,r){var n=nr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function lP(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function XJ(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function JJ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function cP(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ZJ(e,t,r){var n=nr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function uP(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function eZ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function tZ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function rZ(e,t,r){var n=nr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function nZ(e,t,r){var n=nr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function oZ(e,t,r){var n=UJ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function aZ(e,t,r){var n=nr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function iZ(e,t,r){var n=nr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function dP(e,t){return Ve(e.getDate(),t,2)}function sZ(e,t){return Ve(e.getHours(),t,2)}function lZ(e,t){return Ve(e.getHours()%12||12,t,2)}function cZ(e,t){return Ve(1+Xd.count(pa(e),e),t,3)}function B6(e,t){return Ve(e.getMilliseconds(),t,3)}function uZ(e,t){return B6(e,t)+"000"}function dZ(e,t){return Ve(e.getMonth()+1,t,2)}function fZ(e,t){return Ve(e.getMinutes(),t,2)}function pZ(e,t){return Ve(e.getSeconds(),t,2)}function hZ(e){var t=e.getDay();return t===0?7:t}function vZ(e,t){return Ve(_m.count(pa(e)-1,e),t,2)}function U6(e){var t=e.getDay();return t>=4||t===0?sc(e):sc.ceil(e)}function mZ(e,t){return e=U6(e),Ve(sc.count(pa(e),e)+(pa(e).getDay()===4),t,2)}function gZ(e){return e.getDay()}function yZ(e,t){return Ve(av.count(pa(e)-1,e),t,2)}function xZ(e,t){return Ve(e.getFullYear()%100,t,2)}function bZ(e,t){return e=U6(e),Ve(e.getFullYear()%100,t,2)}function wZ(e,t){return Ve(e.getFullYear()%1e4,t,4)}function SZ(e,t){var r=e.getDay();return e=r>=4||r===0?sc(e):sc.ceil(e),Ve(e.getFullYear()%1e4,t,4)}function jZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ve(t/60|0,"0",2)+Ve(t%60,"0",2)}function fP(e,t){return Ve(e.getUTCDate(),t,2)}function kZ(e,t){return Ve(e.getUTCHours(),t,2)}function CZ(e,t){return Ve(e.getUTCHours()%12||12,t,2)}function PZ(e,t){return Ve(1+Om.count(ha(e),e),t,3)}function W6(e,t){return Ve(e.getUTCMilliseconds(),t,3)}function AZ(e,t){return W6(e,t)+"000"}function OZ(e,t){return Ve(e.getUTCMonth()+1,t,2)}function _Z(e,t){return Ve(e.getUTCMinutes(),t,2)}function EZ(e,t){return Ve(e.getUTCSeconds(),t,2)}function TZ(e){var t=e.getUTCDay();return t===0?7:t}function MZ(e,t){return Ve(Em.count(ha(e)-1,e),t,2)}function q6(e){var t=e.getUTCDay();return t>=4||t===0?lc(e):lc.ceil(e)}function $Z(e,t){return e=q6(e),Ve(lc.count(ha(e),e)+(ha(e).getUTCDay()===4),t,2)}function zZ(e){return e.getUTCDay()}function DZ(e,t){return Ve(iv.count(ha(e)-1,e),t,2)}function IZ(e,t){return Ve(e.getUTCFullYear()%100,t,2)}function RZ(e,t){return e=q6(e),Ve(e.getUTCFullYear()%100,t,2)}function NZ(e,t){return Ve(e.getUTCFullYear()%1e4,t,4)}function LZ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?lc(e):lc.ceil(e),Ve(e.getUTCFullYear()%1e4,t,4)}function FZ(){return"+0000"}function pP(){return"%"}function hP(e){return+e}function vP(e){return Math.floor(+e/1e3)}var Ys,H6,V6;BZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function BZ(e){return Ys=BJ(e),H6=Ys.format,Ys.parse,V6=Ys.utcFormat,Ys.utcParse,Ys}function UZ(e){return new Date(e)}function WZ(e){return e instanceof Date?+e:+new Date(+e)}function n2(e,t,r,n,o,a,i,l,c,d){var u=W1(),f=u.invert,p=u.domain,h=d(".%L"),g=d(":%S"),x=d("%I:%M"),y=d("%I %p"),v=d("%a %d"),S=d("%b %d"),b=d("%B"),j=d("%Y");function k(C){return(c(C)<C?h:l(C)<C?g:i(C)<C?x:a(C)<C?y:n(C)<C?o(C)<C?v:S:r(C)<C?b:j)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?p(Array.from(C,WZ)):p().map(UZ)},u.ticks=function(C){var O=p();return e(O[0],O[O.length-1],C??10)},u.tickFormat=function(C,O){return O==null?k:d(O)},u.nice=function(C){var O=p();return(!C||typeof C.range!="function")&&(C=t(O[0],O[O.length-1],C??10)),C?p(M6(O,C)):u},u.copy=function(){return Gd(u,n2(e,t,r,n,o,a,i,l,c,d))},u}function qZ(){return Ln.apply(n2(LJ,FJ,pa,t2,_m,Xd,Z1,X1,as,H6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function HZ(){return Ln.apply(n2(RJ,NJ,ha,r2,Em,Om,e2,J1,as,V6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tm(){var e=0,t=1,r,n,o,a,i=_r,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:i(o===0?.5:(f=(a(f)-r)*o,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),o=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(i=f,d):i};function u(f){return function(p){var h,g;return arguments.length?([h,g]=p,i=f(h,g),d):[i(0),i(1)]}}return d.range=u(jc),d.rangeRound=u(U1),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return a=f,r=f(e),n=f(t),o=r===n?0:1/(n-r),d}}function Ai(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function K6(){var e=Pi(Tm()(_r));return e.copy=function(){return Ai(e,K6())},wa.apply(e,arguments)}function Y6(){var e=V1(Tm()).domain([1,10]);return e.copy=function(){return Ai(e,Y6()).base(e.base())},wa.apply(e,arguments)}function Q6(){var e=K1(Tm());return e.copy=function(){return Ai(e,Q6()).constant(e.constant())},wa.apply(e,arguments)}function o2(){var e=Y1(Tm());return e.copy=function(){return Ai(e,o2()).exponent(e.exponent())},wa.apply(e,arguments)}function VZ(){return o2.apply(null,arguments).exponent(.5)}function G6(){var e=[],t=_r;function r(n){if(n!=null&&!isNaN(n=+n))return t((Yd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let o of n)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ui),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,o)=>t(o/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(o,a)=>TX(e,a/n))},r.copy=function(){return G6(t).domain(e)},wa.apply(r,arguments)}function Mm(){var e=0,t=.5,r=1,n=1,o,a,i,l,c,d=_r,u,f=!1,p;function h(x){return isNaN(x=+x)?p:(x=.5+((x=+u(x))-a)*(n*x<n*a?l:c),d(f?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([e,t,r]=x,o=u(e=+e),a=u(t=+t),i=u(r=+r),l=o===a?0:.5/(a-o),c=a===i?0:.5/(i-a),n=a<o?-1:1,h):[e,t,r]},h.clamp=function(x){return arguments.length?(f=!!x,h):f},h.interpolator=function(x){return arguments.length?(d=x,h):d};function g(x){return function(y){var v,S,b;return arguments.length?([v,S,b]=y,d=oJ(x,[v,S,b]),h):[d(0),d(.5),d(1)]}}return h.range=g(jc),h.rangeRound=g(U1),h.unknown=function(x){return arguments.length?(p=x,h):p},function(x){return u=x,o=x(e),a=x(t),i=x(r),l=o===a?0:.5/(a-o),c=a===i?0:.5/(i-a),n=a<o?-1:1,h}}function X6(){var e=Pi(Mm()(_r));return e.copy=function(){return Ai(e,X6())},wa.apply(e,arguments)}function J6(){var e=V1(Mm()).domain([.1,1,10]);return e.copy=function(){return Ai(e,J6()).base(e.base())},wa.apply(e,arguments)}function Z6(){var e=K1(Mm());return e.copy=function(){return Ai(e,Z6()).constant(e.constant())},wa.apply(e,arguments)}function a2(){var e=Y1(Mm());return e.copy=function(){return Ai(e,a2()).exponent(e.exponent())},wa.apply(e,arguments)}function KZ(){return a2.apply(null,arguments).exponent(.5)}const ju=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:L1,scaleDiverging:X6,scaleDivergingLog:J6,scaleDivergingPow:a2,scaleDivergingSqrt:KZ,scaleDivergingSymlog:Z6,scaleIdentity:T6,scaleImplicit:ub,scaleLinear:E6,scaleLog:$6,scaleOrdinal:N1,scalePoint:zX,scalePow:Q1,scaleQuantile:I6,scaleQuantize:R6,scaleRadial:D6,scaleSequential:K6,scaleSequentialLog:Y6,scaleSequentialPow:o2,scaleSequentialQuantile:G6,scaleSequentialSqrt:VZ,scaleSequentialSymlog:Q6,scaleSqrt:AJ,scaleSymlog:z6,scaleThreshold:N6,scaleTime:qZ,scaleUtc:HZ,tickFormat:_6},Symbol.toStringTag,{value:"Module"}));var Oi=e=>e.chartData,i2=Z([Oi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$m=(e,t,r,n)=>n?i2(e):Oi(e);function cc(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(mn(t)&&mn(r))return!0}return!1}function mP(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function YZ(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,o,a;if(mn(r))o=r;else if(typeof r=="function")return;if(mn(n))a=n;else if(typeof n=="function")return;var i=[o,a];if(cc(i))return i}}function QZ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(cc(n))return mP(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[o,a]=e,i,l;if(o==="auto")t!=null&&(i=Math.min(...t));else if(xe(o))i=o;else if(typeof o=="function")try{t!=null&&(i=o(t==null?void 0:t[0]))}catch{}else if(typeof o=="string"&&f4.test(o)){var c=f4.exec(o);if(c==null||t==null)i=void 0;else{var d=+c[1];i=t[0]-d}}else i=t==null?void 0:t[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(xe(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&p4.test(a)){var u=p4.exec(a);if(u==null||t==null)l=void 0;else{var f=+u[1];l=t[1]+f}}else l=t==null?void 0:t[1];var p=[i,l];if(cc(p))return t==null?p:mP(p,t,r)}}}var kc=1e9,GZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},l2,mt=!0,Rn="[DecimalError] ",Ss=Rn+"Invalid argument: ",s2=Rn+"Exponent out of range: ",Cc=Math.floor,Qi=Math.pow,XZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sn,Zt=1e7,ct=7,eM=9007199254740991,sv=Cc(eM/ct),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,r,n,o,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,o=e.d.length,t=0,r=n<o?n:o;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===o?0:n>o^a.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ct;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(e){return oa(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,r=t.constructor;return rt(oa(t,new r(e),0,1),r.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return Bt(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,r=this,n=r.constructor,o=n.precision,a=o+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sn))throw Error(Rn+"NaN");if(r.s<1)throw Error(Rn+(r.s?"NaN":"-Infinity"));return r.eq(sn)?new n(0):(mt=!1,t=oa(jd(r,a),jd(e,a),a),mt=!0,rt(t,o))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nM(t,e):tM(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,r=this,n=r.constructor,o=n.precision;if(e=new n(e),!e.s)throw Error(Rn+"NaN");return r.s?(mt=!1,t=oa(r,e,0,1).times(e),mt=!0,r.minus(t)):rt(new n(r),o)};we.naturalExponential=we.exp=function(){return rM(this)};we.naturalLogarithm=we.ln=function(){return jd(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tM(t,e):nM(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,r,n,o=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ss+e);if(t=Bt(o)+1,n=o.d.length-1,r=n*ct+1,n=o.d[n],n){for(;n%10==0;n/=10)r--;for(n=o.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};we.squareRoot=we.sqrt=function(){var e,t,r,n,o,a,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Rn+"NaN")}for(e=Bt(l),mt=!1,o=Math.sqrt(+l),o==0||o==1/0?(t=Oo(l.d),(t.length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=Cc((e+1)/2)-(e<0||e%2),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(o.toString()),r=c.precision,o=i=r+3;;)if(a=n,n=a.plus(oa(l,a,i+2)).times(.5),Oo(a.d).slice(0,i)===(t=Oo(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),o==i&&t=="4999"){if(rt(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;i+=4}return mt=!0,rt(n,r)};we.times=we.mul=function(e){var t,r,n,o,a,i,l,c,d,u=this,f=u.constructor,p=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=p.length,d=h.length,c<d&&(a=p,p=h,h=a,i=c,c=d,d=i),a=[],i=c+d,n=i;n--;)a.push(0);for(n=d;--n>=0;){for(t=0,o=c+n;o>n;)l=a[o]+h[n]*p[o-n-1]+t,a[o--]=l%Zt|0,t=l/Zt|0;a[o]=(a[o]+t)%Zt|0}for(;!a[--i];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,mt?rt(e,f.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Do(e,0,kc),t===void 0?t=n.rounding:Do(t,0,8),rt(r,e+Bt(r)+1,t))};we.toExponential=function(e,t){var r,n=this,o=n.constructor;return e===void 0?r=$s(n,!0):(Do(e,0,kc),t===void 0?t=o.rounding:Do(t,0,8),n=rt(new o(n),e+1,t),r=$s(n,!0,e+1)),r};we.toFixed=function(e,t){var r,n,o=this,a=o.constructor;return e===void 0?$s(o):(Do(e,0,kc),t===void 0?t=a.rounding:Do(t,0,8),n=rt(new a(o),e+Bt(o)+1,t),r=$s(n.abs(),!1,e+Bt(n)+1),o.isneg()&&!o.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return rt(new t(e),Bt(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,r,n,o,a,i,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(sn);if(l=new c(l),!l.s){if(e.s<1)throw Error(Rn+"Infinity");return l}if(l.eq(sn))return l;if(n=c.precision,e.eq(sn))return rt(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,a=l.s,i){if((r=u<0?-u:u)<=eM){for(o=new c(sn),t=Math.ceil(n/ct+4),mt=!1;r%2&&(o=o.times(l),yP(o.d,t)),r=Cc(r/2),r!==0;)l=l.times(l),yP(l.d,t);return mt=!0,e.s<0?new c(sn).div(o):rt(o,n)}}else if(a<0)throw Error(Rn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,mt=!1,o=e.times(jd(l,n+d)),mt=!0,o=rM(o),o.s=a,o};we.toPrecision=function(e,t){var r,n,o=this,a=o.constructor;return e===void 0?(r=Bt(o),n=$s(o,r<=a.toExpNeg||r>=a.toExpPos)):(Do(e,1,kc),t===void 0?t=a.rounding:Do(t,0,8),o=rt(new a(o),e,t),r=Bt(o),n=$s(o,e<=r||r<=a.toExpNeg,e)),n};we.toSignificantDigits=we.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Do(e,1,kc),t===void 0?t=n.rounding:Do(t,0,8)),rt(new n(r),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Bt(e),r=e.constructor;return $s(e,t<=r.toExpNeg||t>=r.toExpPos)};function tM(e,t){var r,n,o,a,i,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),mt?rt(t,f):t;if(c=e.d,d=t.d,i=e.e,o=t.e,c=c.slice(),a=i-o,a){for(a<0?(n=c,a=-a,l=d.length):(n=d,o=i,l=c.length),i=Math.ceil(f/ct),l=i>l?i+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/Zt|0,c[a]%=Zt;for(r&&(c.unshift(r),++o),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=o,mt?rt(t,f):t}function Do(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ss+e)}function Oo(e){var t,r,n,o=e.length-1,a="",i=e[0];if(o>0){for(a+=i,t=1;t<o;t++)n=e[t]+"",r=ct-n.length,r&&(a+=za(r)),a+=n;i=e[t],n=i+"",r=ct-n.length,r&&(a+=za(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return a+i}var oa=function(){function e(n,o){var a,i=0,l=n.length;for(n=n.slice();l--;)a=n[l]*o+i,n[l]=a%Zt|0,i=a/Zt|0;return i&&n.unshift(i),n}function t(n,o,a,i){var l,c;if(a!=i)c=a>i?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=o[l]){c=n[l]>o[l]?1:-1;break}return c}function r(n,o,a){for(var i=0;a--;)n[a]-=i,i=n[a]<o[a]?1:0,n[a]=i*Zt+n[a]-o[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,o,a,i){var l,c,d,u,f,p,h,g,x,y,v,S,b,j,k,C,O,D,I=n.constructor,K=n.s==o.s?1:-1,X=n.d,H=o.d;if(!n.s)return new I(n);if(!o.s)throw Error(Rn+"Division by zero");for(c=n.e-o.e,O=H.length,k=X.length,h=new I(K),g=h.d=[],d=0;H[d]==(X[d]||0);)++d;if(H[d]>(X[d]||0)&&--c,a==null?S=a=I.precision:i?S=a+(Bt(n)-Bt(o))+1:S=a,S<0)return new I(0);if(S=S/ct+2|0,d=0,O==1)for(u=0,H=H[0],S++;(d<k||u)&&S--;d++)b=u*Zt+(X[d]||0),g[d]=b/H|0,u=b%H|0;else{for(u=Zt/(H[0]+1)|0,u>1&&(H=e(H,u),X=e(X,u),O=H.length,k=X.length),j=O,x=X.slice(0,O),y=x.length;y<O;)x[y++]=0;D=H.slice(),D.unshift(0),C=H[0],H[1]>=Zt/2&&++C;do u=0,l=t(H,x,O,y),l<0?(v=x[0],O!=y&&(v=v*Zt+(x[1]||0)),u=v/C|0,u>1?(u>=Zt&&(u=Zt-1),f=e(H,u),p=f.length,y=x.length,l=t(f,x,p,y),l==1&&(u--,r(f,O<p?D:H,p))):(u==0&&(l=u=1),f=H.slice()),p=f.length,p<y&&f.unshift(0),r(x,f,y),l==-1&&(y=x.length,l=t(H,x,O,y),l<1&&(u++,r(x,O<y?D:H,y))),y=x.length):l===0&&(u++,x=[0]),g[d++]=u,l&&x[0]?x[y++]=X[j]||0:(x=[X[j]],y=1);while((j++<k||x[0]!==void 0)&&S--)}return g[0]||g.shift(),h.e=c,rt(h,i?a+Bt(h)+1:a)}}();function rM(e,t){var r,n,o,a,i,l,c=0,d=0,u=e.constructor,f=u.precision;if(Bt(e)>16)throw Error(s2+Bt(e));if(!e.s)return new u(sn);for(mt=!1,l=f,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),d+=5;for(n=Math.log(Qi(2,d))/Math.LN10*2+5|0,l+=n,r=o=a=new u(sn),u.precision=l;;){if(o=rt(o.times(e),l),r=r.times(++c),i=a.plus(oa(o,r,l)),Oo(i.d).slice(0,l)===Oo(a.d).slice(0,l)){for(;d--;)a=rt(a.times(a),l);return u.precision=f,t==null?(mt=!0,rt(a,f)):a}a=i}}function Bt(e){for(var t=e.e*ct,r=e.d[0];r>=10;r/=10)t++;return t}function Cy(e,t,r){if(t>e.LN10.sd())throw mt=!0,r&&(e.precision=r),Error(Rn+"LN10 precision limit exceeded");return rt(new e(e.LN10),t)}function za(e){for(var t="";e--;)t+="0";return t}function jd(e,t){var r,n,o,a,i,l,c,d,u,f=1,p=10,h=e,g=h.d,x=h.constructor,y=x.precision;if(h.s<1)throw Error(Rn+(h.s?"NaN":"-Infinity"));if(h.eq(sn))return new x(0);if(t==null?(mt=!1,d=y):d=t,h.eq(10))return t==null&&(mt=!0),Cy(x,d);if(d+=p,x.precision=d,r=Oo(g),n=r.charAt(0),a=Bt(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Oo(h.d),n=r.charAt(0),f++;a=Bt(h),n>1?(h=new x("0."+r),a++):h=new x(n+"."+r.slice(1))}else return c=Cy(x,d+2,y).times(a+""),h=jd(new x(n+"."+r.slice(1)),d-p).plus(c),x.precision=y,t==null?(mt=!0,rt(h,y)):h;for(l=i=h=oa(h.minus(sn),h.plus(sn),d),u=rt(h.times(h),d),o=3;;){if(i=rt(i.times(u),d),c=l.plus(oa(i,new x(o),d)),Oo(c.d).slice(0,d)===Oo(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(Cy(x,d+2,y).times(a+""))),l=oa(l,new x(f),d),x.precision=y,t==null?(mt=!0,rt(l,y)):l;l=c,o+=2}}function gP(e,t){var r,n,o;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(o=t.length;t.charCodeAt(o-1)===48;)--o;if(t=t.slice(n,o),t){if(o-=n,r=r-n-1,e.e=Cc(r/ct),e.d=[],n=(r+1)%ct,r<0&&(n+=ct),n<o){for(n&&e.d.push(+t.slice(0,n)),o-=ct;n<o;)e.d.push(+t.slice(n,n+=ct));t=t.slice(n),n=ct-t.length}else n-=o;for(;n--;)t+="0";if(e.d.push(+t),mt&&(e.e>sv||e.e<-sv))throw Error(s2+r)}else e.s=0,e.e=0,e.d=[0];return e}function rt(e,t,r){var n,o,a,i,l,c,d,u,f=e.d;for(i=1,a=f[0];a>=10;a/=10)i++;if(n=t-i,n<0)n+=ct,o=t,d=f[u=0];else{if(u=Math.ceil((n+1)/ct),a=f.length,u>=a)return e;for(d=a=f[u],i=1;a>=10;a/=10)i++;n%=ct,o=n-ct+i}if(r!==void 0&&(a=Qi(10,i-o-1),l=d/a%10|0,c=t<0||f[u+1]!==void 0||d%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?o>0?d/Qi(10,i-o):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Bt(e),f.length=1,t=t-a-1,f[0]=Qi(10,(ct-t%ct)%ct),e.e=Cc(-t/ct)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=Qi(10,ct-n),f[u]=o>0?(d/Qi(10,i-o)%Qi(10,o)|0)*a:0),c)for(;;)if(u==0){(f[0]+=a)==Zt&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=Zt)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(mt&&(e.e>sv||e.e<-sv))throw Error(s2+Bt(e));return e}function nM(e,t){var r,n,o,a,i,l,c,d,u,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),mt?rt(t,h):t;if(c=e.d,f=t.d,n=t.e,d=e.e,c=c.slice(),i=d-n,i){for(u=i<0,u?(r=c,i=-i,l=f.length):(r=f,n=d,l=c.length),o=Math.max(Math.ceil(h/ct),l)+2,i>o&&(i=o,r.length=1),r.reverse(),o=i;o--;)r.push(0);r.reverse()}else{for(o=c.length,l=f.length,u=o<l,u&&(l=o),o=0;o<l;o++)if(c[o]!=f[o]){u=c[o]<f[o];break}i=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,o=f.length-l;o>0;--o)c[l++]=0;for(o=f.length;o>i;){if(c[--o]<f[o]){for(a=o;a&&c[--a]===0;)c[a]=Zt-1;--c[a],c[o]+=Zt}c[o]-=f[o]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,mt?rt(t,h):t):new p(0)}function $s(e,t,r){var n,o=Bt(e),a=Oo(e.d),i=a.length;return t?(r&&(n=r-i)>0?a=a.charAt(0)+"."+a.slice(1)+za(n):i>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(o<0?"e":"e+")+o):o<0?(a="0."+za(-o-1)+a,r&&(n=r-i)>0&&(a+=za(n))):o>=i?(a+=za(o+1-i),r&&(n=r-o-1)>0&&(a=a+"."+za(n))):((n=o+1)<i&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-i)>0&&(o+1===i&&(a+="."),a+=za(n))),e.s<0?"-"+a:a}function yP(e,t){if(e.length>t)return e.length=t,!0}function oM(e){var t,r,n;function o(a){var i=this;if(!(i instanceof o))return new o(a);if(i.constructor=o,a instanceof o){i.s=a.s,i.e=a.e,i.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ss+a);if(a>0)i.s=1;else if(a<0)a=-a,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(a===~~a&&a<1e7){i.e=0,i.d=[a];return}return gP(i,a.toString())}else if(typeof a!="string")throw Error(Ss+a);if(a.charCodeAt(0)===45?(a=a.slice(1),i.s=-1):i.s=1,XZ.test(a))gP(i,a);else throw Error(Ss+a)}if(o.prototype=we,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=oM,o.config=o.set=JZ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return o.config(e),o}function JZ(e){if(!e||typeof e!="object")throw Error(Rn+"Object expected");var t,r,n,o=["precision",1,kc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if((n=e[r=o[t]])!==void 0)if(Cc(n)===n&&n>=o[t+1]&&n<=o[t+2])this[r]=n;else throw Error(Ss+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ss+r+": "+n);return this}var l2=oM(GZ);sn=new l2(1);const Ze=l2;var ZZ=e=>e,aM={},iM=e=>e===aM,xP=e=>function t(){return arguments.length===0||arguments.length===1&&iM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},sM=(e,t)=>e===1?t:xP(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var a=n.filter(i=>i!==aM).length;return a>=e?t(...n):sM(e-a,xP(function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];var d=n.map(u=>iM(u)?l.shift():u);return t(...d,...l)}))}),zm=e=>sM(e.length,e),hb=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},eee=zm((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),tee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return ZZ;var o=r.reverse(),a=o[0],i=o.slice(1);return function(){return i.reduce((l,c)=>c(l),a(...arguments))}},vb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),lM=e=>{var t=null,r=null;return function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t&&o.every((i,l)=>{var c;return i===((c=t)===null||c===void 0?void 0:c[l])})||(t=o,r=e(...o)),r}};function cM(e){var t;return e===0?t=1:t=Math.floor(new Ze(e).abs().log(10).toNumber())+1,t}function uM(e,t,r){for(var n=new Ze(e),o=0,a=[];n.lt(t)&&o<1e5;)a.push(n.toNumber()),n=n.add(r),o++;return a}zm((e,t,r)=>{var n=+e,o=+t;return n+r*(o-n)});zm((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});zm((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var dM=e=>{var[t,r]=e,[n,o]=[t,r];return t>r&&([n,o]=[r,t]),[n,o]},fM=(e,t,r)=>{if(e.lte(0))return new Ze(0);var n=cM(e.toNumber()),o=new Ze(10).pow(n),a=e.div(o),i=n!==1?.05:.1,l=new Ze(Math.ceil(a.div(i).toNumber())).add(r).mul(i),c=l.mul(o);return t?new Ze(c.toNumber()):new Ze(Math.ceil(c.toNumber()))},ree=(e,t,r)=>{var n=new Ze(1),o=new Ze(e);if(!o.isint()&&r){var a=Math.abs(e);a<1?(n=new Ze(10).pow(cM(e)-1),o=new Ze(Math.floor(o.div(n).toNumber())).mul(n)):a>1&&(o=new Ze(Math.floor(e)))}else e===0?o=new Ze(Math.floor((t-1)/2)):r||(o=new Ze(Math.floor(e)));var i=Math.floor((t-1)/2),l=tee(eee(c=>o.add(new Ze(c-i).mul(n)).toNumber()),hb);return l(0,t)},pM=function(t,r,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var i=fM(new Ze(r).sub(t).div(n-1),o,a),l;t<=0&&r>=0?l=new Ze(0):(l=new Ze(t).add(r).div(2),l=l.sub(new Ze(l).mod(i)));var c=Math.ceil(l.sub(t).div(i).toNumber()),d=Math.ceil(new Ze(r).sub(l).div(i).toNumber()),u=c+d+1;return u>n?pM(t,r,n,o,a+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:i,tickMin:l.sub(new Ze(c).mul(i)),tickMax:l.add(new Ze(d).mul(i))})};function nee(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[i,l]=dM([t,r]);if(i===-1/0||l===1/0){var c=l===1/0?[i,...hb(0,n-1).map(()=>1/0)]:[...hb(0,n-1).map(()=>-1/0),l];return t>r?vb(c):c}if(i===l)return ree(i,n,o);var{step:d,tickMin:u,tickMax:f}=pM(i,l,a,o,0),p=uM(u,f.add(new Ze(.1).mul(d)),d);return t>r?vb(p):p}function oee(e,t){var[r,n]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,i]=dM([r,n]);if(a===-1/0||i===1/0)return[r,n];if(a===i)return[a];var l=Math.max(t,2),c=fM(new Ze(i).sub(a).div(l-1),o,0),d=[...uM(new Ze(a),new Ze(i),c),i];return o===!1&&(d=d.map(u=>Math.round(u))),r>n?vb(d):d}var aee=lM(nee),iee=lM(oee),hM=e=>e.rootProps.maxBarSize,see=e=>e.rootProps.barGap,vM=e=>e.rootProps.barCategoryGap,lee=e=>e.rootProps.barSize,Jd=e=>e.rootProps.stackOffset,c2=e=>e.options.chartName,u2=e=>e.rootProps.syncId,mM=e=>e.rootProps.syncMethod,d2=e=>e.options.eventEmitter,Go={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},nn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Dm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},cee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Go.angleAxisId,includeHidden:!1,name:void 0,reversed:Go.reversed,scale:Go.scale,tick:Go.tick,tickCount:void 0,ticks:void 0,type:Go.type,unit:void 0},uee={allowDataOverflow:nn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:nn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nn.scale,tick:nn.tick,tickCount:nn.tickCount,ticks:void 0,type:nn.type,unit:void 0},dee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Go.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Go.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Go.scale,tick:Go.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fee={allowDataOverflow:nn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:nn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nn.scale,tick:nn.tick,tickCount:nn.tickCount,ticks:void 0,type:"category",unit:void 0},f2=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?dee:cee,p2=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?fee:uee,Im=e=>e.polarOptions,h2=Z([xa,ba,Yt],UT),gM=Z([Im,h2],(e,t)=>{if(e!=null)return Tr(e.innerRadius,t,0)}),yM=Z([Im,h2],(e,t)=>{if(e!=null)return Tr(e.outerRadius,t,t*.8)}),pee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},xM=Z([Im],pee);Z([f2,xM],Dm);var bM=Z([h2,gM,yM],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Z([p2,bM],Dm);var wM=Z([Fe,Im,gM,yM,xa,ba],(e,t,r,n,o,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:l,startAngle:c,endAngle:d}=t;return{cx:Tr(i,o,o/2),cy:Tr(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),gt=(e,t)=>t,Zd=(e,t,r)=>r;function v2(e){return e==null?void 0:e.id}var Gt=e=>{var t=Fe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Pc=e=>e.tooltip.settings.axisId,Xt=e=>{var t=Gt(e),r=Pc(e);return ef(e,t,r)};function SM(e,t,r){var{chartData:n=[]}=t,o=r==null?void 0:r.dataKey,a=new Map;return e.forEach(i=>{var l,c=(l=i.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var d=v2(i);c.forEach((u,f)=>{var p=o==null?f:String(tt(u,o,null)),h=tt(u,i.dataKey,0),g;a.has(p)?g=a.get(p):g={},Object.assign(g,{[d]:h}),a.set(p,g)})}}),Array.from(a.values())}function Rm(e){return e.stackId!=null&&e.dataKey!=null}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function lv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){hee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hee(e,t,r){return(t=vee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vee(e){var t=mee(e,"string");return typeof t=="symbol"?t:t+""}function mee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mb=[0,"auto"],Zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Sa=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Zr},en={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Sm},_i=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??en},gee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},m2=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??gee},$t=(e,t,r)=>{switch(t){case"xAxis":return Sa(e,r);case"yAxis":return _i(e,r);case"zAxis":return m2(e,r);case"angleAxis":return f2(e,r);case"radiusAxis":return p2(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yee=(e,t,r)=>{switch(t){case"xAxis":return Sa(e,r);case"yAxis":return _i(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ef=(e,t,r)=>{switch(t){case"xAxis":return Sa(e,r);case"yAxis":return _i(e,r);case"angleAxis":return f2(e,r);case"radiusAxis":return p2(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},jM=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function g2(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Nm=e=>e.graphicalItems.cartesianItems,xee=Z([gt,Zd],g2),y2=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),tf=Z([Nm,$t,xee],y2),kM=Z([tf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Rm)),CM=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),PM=Z([tf],CM),x2=e=>e.map(t=>t.data).filter(Boolean).flat(1),bee=Z([tf],x2),b2=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:o}=t;return e.length>0?e:r.slice(n,o+1)},w2=Z([bee,$m],b2),S2=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:tt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(o=>({value:tt(o,n)}))):e.map(n=>({value:n})),Lm=Z([w2,$t,tf],S2);function AM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Us(e){return e.filter(t=>zo(t)||t instanceof Date).map(Number).filter(t=>pn(t)===!1)}function wee(e,t,r){return!r||typeof t!="number"||pn(t)?[]:r.length?Us(r.flatMap(n=>{var o=tt(e,n.dataKey),a,i;if(Array.isArray(o)?[a,i]=o:a=i=o,!(!mn(a)||!mn(i)))return[t-a,t+i]})):[]}var See=Z([kM,$m,Xt],SM),OM=(e,t,r)=>{var n={},o=t.reduce((a,i)=>(i.stackId==null||(a[i.stackId]==null&&(a[i.stackId]=[]),a[i.stackId].push(i)),a),n);return Object.fromEntries(Object.entries(o).map(a=>{var[i,l]=a,c=l.map(v2);return[i,{stackedData:DQ(e,c,r),graphicalItems:l}]}))},gb=Z([See,kM,Jd],OM),_M=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:o}=t;if(r!=="zAxis"){var a=FQ(e,n,o);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},jee=Z([gb,Oi,gt],_M),EM=(e,t,r,n,o)=>r.length>0?e.flatMap(a=>r.flatMap(i=>{var l,c,d=(l=n[i.id])===null||l===void 0?void 0:l.filter(f=>AM(o,f)),u=tt(a,(c=t.dataKey)!==null&&c!==void 0?c:i.dataKey);return{value:u,errorDomain:wee(a,u,d)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:tt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Fm=e=>e.errorBars,TM=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>AM(r,n));Z([PM,Fm,gt],TM);var kee=Z([w2,$t,PM,Fm,gt],EM);function Cee(e){var{value:t}=e;if(zo(t)||t instanceof Date)return t}var wP=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Us(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Pee=(e,t,r)=>{var n=e.map(Cee).filter(o=>o!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&w5(n))?x6(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},j2=e=>{var t;if(e==null||!("domain"in e))return mb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Us(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:mb},cv=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r.filter(Boolean);if(o.length!==0){var a=o.flat(),i=Math.min(...a),l=Math.max(...a);return[i,l]}},MM=e=>e.referenceElements.dots,Ac=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Aee=Z([MM,gt,Zd],Ac),$M=e=>e.referenceElements.areas,Oee=Z([$M,gt,Zd],Ac),zM=e=>e.referenceElements.lines,_ee=Z([zM,gt,Zd],Ac),DM=(e,t)=>{var r=Us(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Eee=Z(Aee,gt,DM),IM=(e,t)=>{var r=Us(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Tee=Z([Oee,gt],IM),RM=(e,t)=>{var r=Us(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Mee=Z(_ee,gt,RM),$ee=Z(Eee,Mee,Tee,(e,t,r)=>cv(e,r,t)),NM=Z([$t],j2),k2=(e,t,r,n,o,a,i)=>{var l=YZ(t,e.allowDataOverflow);if(l!=null)return l;var c=a==="vertical"&&i==="xAxis"||a==="horizontal"&&i==="yAxis",d=c?cv(r,o,wP(n)):cv(o,wP(n));return QZ(t,d,e.allowDataOverflow)},zee=Z([$t,NM,jee,kee,$ee,Fe,gt],k2),Dee=[0,1],C2=(e,t,r,n,o,a,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:l,type:c}=e,d=Ci(t,a);return d&&l==null?x6(0,r.length):c==="category"?Pee(n,e,d):o==="expand"?Dee:i}},P2=Z([$t,Fe,w2,Lm,Jd,gt,zee],C2),LM=(e,t,r,n,o)=>{if(e!=null){var{scale:a,type:i}=e;if(a==="auto")return t==="radial"&&o==="radiusAxis"?"band":t==="radial"&&o==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(qd(a));return l in ju?l:"point"}}},Oc=Z([$t,Fe,jM,c2,gt],LM);function Iee(e){if(e!=null){if(e in ju)return ju[e]();var t="scale".concat(qd(e));if(t in ju)return ju[t]()}}function A2(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var o=Iee(t);if(o!=null){var a=o.domain(r).range(n);return EQ(a),a}}}var O2=(e,t,r)=>{var n=j2(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&cc(e))return aee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&cc(e))return iee(e,t.tickCount,t.allowDecimals)}},_2=Z([P2,ef,Oc],O2),E2=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&cc(t)&&Array.isArray(r)&&r.length>0){var o=t[0],a=r[0],i=t[1],l=r[r.length-1];return[Math.min(o,a),Math.max(i,l)]}return t},Ree=Z([$t,P2,_2,gt],E2),Nee=Z(Lm,$t,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Us(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var o=n[n.length-1]-n[0];if(o===0)return 1/0;for(var a=0;a<n.length-1;a++){var i=n[a+1]-n[a];r=Math.min(r,i)}return r/o}}),FM=Z(Nee,Fe,vM,Yt,(e,t,r,n)=>n,(e,t,r,n,o)=>{if(!mn(e))return 0;var a=t==="vertical"?n.height:n.width;if(o==="gap")return e*a/2;if(o==="no-gap"){var i=Tr(r,e*a),l=e*a/2;return l-i-(l-i)/a*i}return 0}),Lee=(e,t)=>{var r=Sa(e,t);return r==null||typeof r.padding!="string"?0:FM(e,"xAxis",t,r.padding)},Fee=(e,t)=>{var r=_i(e,t);return r==null||typeof r.padding!="string"?0:FM(e,"yAxis",t,r.padding)},Bee=Z(Sa,Lee,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:o}=e;return typeof o=="string"?{left:t,right:t}:{left:((r=o.left)!==null&&r!==void 0?r:0)+t,right:((n=o.right)!==null&&n!==void 0?n:0)+t}}),Uee=Z(_i,Fee,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:o}=e;return typeof o=="string"?{top:t,bottom:t}:{top:((r=o.top)!==null&&r!==void 0?r:0)+t,bottom:((n=o.bottom)!==null&&n!==void 0?n:0)+t}}),Wee=Z([Yt,Bee,km,jm,(e,t,r)=>r],(e,t,r,n,o)=>{var{padding:a}=n;return o?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),qee=Z([Yt,Fe,Uee,km,jm,(e,t,r)=>r],(e,t,r,n,o,a)=>{var{padding:i}=o;return a?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),rf=(e,t,r,n)=>{var o;switch(t){case"xAxis":return Wee(e,r,n);case"yAxis":return qee(e,r,n);case"zAxis":return(o=m2(e,r))===null||o===void 0?void 0:o.range;case"angleAxis":return xM(e);case"radiusAxis":return bM(e,r);default:return}},BM=Z([$t,rf],Dm),_c=Z([$t,Oc,Ree,BM],A2);Z([tf,Fm,gt],TM);function UM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Bm=(e,t)=>t,Um=(e,t,r)=>r,Hee=Z(_1,Bm,Um,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(UM)),Vee=Z(E1,Bm,Um,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(UM)),WM=(e,t)=>({width:e.width,height:t.height}),Kee=(e,t)=>{var r=typeof t.width=="number"?t.width:Sm;return{width:r,height:e.height}},qM=Z(Yt,Sa,WM),Yee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Qee=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Gee=Z(ba,Yt,Hee,Bm,Um,(e,t,r,n,o)=>{var a={},i;return r.forEach(l=>{var c=WM(t,l);i==null&&(i=Yee(t,n,e));var d=n==="top"&&!o||n==="bottom"&&o;a[l.id]=i-Number(d)*c.height,i+=(d?-1:1)*c.height}),a}),Xee=Z(xa,Yt,Vee,Bm,Um,(e,t,r,n,o)=>{var a={},i;return r.forEach(l=>{var c=Kee(t,l);i==null&&(i=Qee(t,n,e));var d=n==="left"&&!o||n==="right"&&o;a[l.id]=i-Number(d)*c.width,i+=(d?-1:1)*c.width}),a}),Jee=(e,t)=>{var r=Yt(e),n=Sa(e,t);if(n!=null){var o=Gee(e,n.orientation,n.mirror),a=o[t];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}},Zee=(e,t)=>{var r=Yt(e),n=_i(e,t);if(n!=null){var o=Xee(e,n.orientation,n.mirror),a=o[t];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}},HM=Z(Yt,_i,(e,t)=>{var r=typeof t.width=="number"?t.width:Sm;return{width:r,height:e.height}}),SP=(e,t,r)=>{switch(t){case"xAxis":return qM(e,r).width;case"yAxis":return HM(e,r).height;default:return}},VM=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:o,type:a,dataKey:i}=r,l=Ci(e,n),c=t.map(d=>d.value);if(i&&l&&a==="category"&&o&&w5(c))return c}},T2=Z([Fe,Lm,$t,gt],VM),KM=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:o,scale:a}=r,i=Ci(e,n);if(i&&(o==="number"||a!=="auto"))return t.map(l=>l.value)}},M2=Z([Fe,Lm,ef,gt],KM),jP=Z([Fe,yee,Oc,_c,T2,M2,rf,_2,gt],(e,t,r,n,o,a,i,l,c)=>{if(t==null)return null;var d=Ci(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:o,isCategorical:d,niceTicks:l,range:i,realScaleType:r,scale:n}}),ete=(e,t,r,n,o,a,i,l,c)=>{if(!(t==null||n==null)){var d=Ci(e,c),{type:u,ticks:f,tickCount:p}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=u==="category"&&n.bandwidth?n.bandwidth()/h:0;g=c==="angleAxis"&&a!=null&&a.length>=2?tr(a[0]-a[1])*2*g:g;var x=f||o;if(x){var y=x.map((v,S)=>{var b=i?i.indexOf(v):v;return{index:S,coordinate:n(b)+g,value:v,offset:g}});return y.filter(v=>!pn(v.coordinate))}return d&&l?l.map((v,S)=>({coordinate:n(v)+g,value:v,index:S,offset:g})):n.ticks?n.ticks(p).map(v=>({coordinate:n(v)+g,value:v,offset:g})):n.domain().map((v,S)=>({coordinate:n(v)+g,value:i?i[v]:v,index:S,offset:g}))}},YM=Z([Fe,ef,Oc,_c,_2,rf,T2,M2,gt],ete),tte=(e,t,r,n,o,a,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ci(e,i),{tickCount:c}=t,d=0;return d=i==="angleAxis"&&(n==null?void 0:n.length)>=2?tr(n[0]-n[1])*2*d:d,l&&a?a.map((u,f)=>({coordinate:r(u)+d,value:u,index:f,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,f)=>({coordinate:r(u)+d,value:o?o[u]:u,index:f,offset:d}))}},mi=Z([Fe,ef,_c,rf,T2,M2,gt],tte),gi=Z($t,_c,(e,t)=>{if(!(e==null||t==null))return lv(lv({},e),{},{scale:t})}),rte=Z([$t,Oc,P2,BM],A2);Z((e,t,r)=>m2(e,r),rte,(e,t)=>{if(!(e==null||t==null))return lv(lv({},e),{},{scale:t})});var nte=Z([Fe,_1,E1],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),QM=e=>e.options.defaultTooltipEventType,GM=e=>e.options.validateTooltipEventTypes;function XM(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function $2(e,t){var r=QM(e),n=GM(e);return XM(t,r,n)}function ote(e){return Pe(t=>$2(t,e))}var JM=(e,t)=>{var r,n=Number(t);if(!(pn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},ate=e=>e.tooltip.settings,La={active:!1,index:null,dataKey:void 0,coordinate:void 0},ite={itemInteraction:{click:La,hover:La},axisInteraction:{click:La,hover:La},keyboardInteraction:La,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ZM=xn({name:"tooltip",initialState:ite,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=na(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ste,removeTooltipEntrySettings:lte,setTooltipSettingsState:cte,setActiveMouseOverItemIndex:e$,mouseLeaveItem:ute,mouseLeaveChart:t$,setActiveClickItemIndex:dte,setMouseOverAxisIndex:r$,setMouseClickAxisIndex:fte,setSyncInteraction:yb,setKeyboardInteraction:xb}=ZM.actions,pte=ZM.reducer;function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function rp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){hte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hte(e,t,r){return(t=vte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vte(e){var t=mte(e,"string");return typeof t=="symbol"?t:t+""}function mte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function yte(e){return e.index!=null}var n$=(e,t,r,n)=>{if(t==null)return La;var o=gte(e,t,r);if(o==null)return La;if(o.active)return o;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(yte(o)){if(a)return rp(rp({},o),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return rp(rp({},La),{},{coordinate:o.coordinate})},z2=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!mn(n))return r;var o=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(o,Math.min(n,a)))},o$=(e,t,r,n,o,a,i,l)=>{if(!(a==null||l==null)){var c=i[0],d=c==null?void 0:l(c.positions,a);if(d!=null)return d;var u=o==null?void 0:o[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},a$=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var o;return r==="hover"?o=e.itemInteraction.hover.dataKey:o=e.itemInteraction.click.dataKey,o==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var i;return((i=a.settings)===null||i===void 0?void 0:i.dataKey)===o})},nf=e=>e.options.tooltipPayloadSearcher,Ec=e=>e.tooltip;function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function PP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){xte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xte(e,t,r){return(t=bte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ste(e,t){return e??t}var i$=(e,t,r,n,o,a,i)=>{if(!(t==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,f=[];return e.reduce((p,h)=>{var g,{dataDefinedOnItem:x,settings:y}=h,v=Ste(x,l),S=Array.isArray(v)?WT(v,d,u):v,b=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:n==null?void 0:n.dataKey,j=y==null?void 0:y.nameKey,k;if(n!=null&&n.dataKey&&Array.isArray(S)&&!Array.isArray(S[0])&&i==="axis"?k=S5(S,n.dataKey,o):k=a(S,t,c,j),Array.isArray(k))k.forEach(O=>{var D=PP(PP({},y),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});p.push(h4({tooltipEntrySettings:D,dataKey:O.dataKey,payload:O.payload,value:tt(O.payload,O.dataKey),name:O.name}))});else{var C;p.push(h4({tooltipEntrySettings:y,dataKey:b,payload:k,value:tt(k,b),name:(C=tt(k,j))!==null&&C!==void 0?C:y==null?void 0:y.name}))}return p},f)}},D2=Z([Xt,Fe,jM,c2,Gt],LM),jte=Z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),kte=Z([Gt,Pc],g2),of=Z([jte,Xt,kte],y2),Cte=Z([of],e=>e.filter(Rm)),Pte=Z([of],x2),Tc=Z([Pte,Oi],b2),Ate=Z([Cte,Oi,Xt],SM),I2=Z([Tc,Xt,of],S2),Ote=Z([Xt],j2),_te=Z([of],e=>e.filter(Rm)),Ete=Z([Ate,_te,Jd],OM),Tte=Z([Ete,Oi,Gt],_M),Mte=Z([of],CM),$te=Z([Tc,Xt,Mte,Fm,Gt],EM),zte=Z([MM,Gt,Pc],Ac),Dte=Z([zte,Gt],DM),Ite=Z([$M,Gt,Pc],Ac),Rte=Z([Ite,Gt],IM),Nte=Z([zM,Gt,Pc],Ac),Lte=Z([Nte,Gt],RM),Fte=Z([Dte,Lte,Rte],cv),Bte=Z([Xt,Ote,Tte,$te,Fte,Fe,Gt],k2),s$=Z([Xt,Fe,Tc,I2,Jd,Gt,Bte],C2),Ute=Z([s$,Xt,D2],O2),Wte=Z([Xt,s$,Ute,Gt],E2),l$=e=>{var t=Gt(e),r=Pc(e),n=!1;return rf(e,t,r,n)},c$=Z([Xt,l$],Dm),u$=Z([Xt,D2,Wte,c$],A2),qte=Z([Fe,I2,Xt,Gt],VM),Hte=Z([Fe,I2,Xt,Gt],KM),Vte=(e,t,r,n,o,a,i,l)=>{if(t){var{type:c}=t,d=Ci(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=l==="angleAxis"&&o!=null&&(o==null?void 0:o.length)>=2?tr(o[0]-o[1])*2*f:f,d&&i?i.map((p,h)=>({coordinate:n(p)+f,value:p,index:h,offset:f})):n.domain().map((p,h)=>({coordinate:n(p)+f,value:a?a[p]:p,index:h,offset:f}))}}},ja=Z([Fe,Xt,D2,u$,l$,qte,Hte,Gt],Vte),R2=Z([QM,GM,ate],(e,t,r)=>XM(r.shared,e,t)),d$=e=>e.tooltip.settings.trigger,N2=e=>e.tooltip.settings.defaultIndex,Wm=Z([Ec,R2,d$,N2],n$),yi=Z([Wm,Tc],z2),f$=Z([ja,yi],JM),p$=Z([Wm],e=>{if(e)return e.dataKey}),h$=Z([Ec,R2,d$,N2],a$),Kte=Z([xa,ba,Fe,Yt,ja,N2,h$,nf],o$),Yte=Z([Wm,Kte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Qte=Z([Wm],e=>e.active),Gte=Z([h$,yi,Oi,Xt,f$,nf,R2],i$),Xte=Z([Gte],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function OP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){Jte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jte(e,t,r){return(t=Zte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zte(e){var t=ere(e,"string");return typeof t=="symbol"?t:t+""}function ere(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tre=()=>Pe(Xt),rre=()=>{var e=tre(),t=Pe(ja),r=Pe(u$);return gd(OP(OP({},e),{},{scale:r}),t)},nre=()=>Pe(c2),L2=(e,t)=>t,v$=(e,t,r)=>r,F2=(e,t,r,n)=>n,ore=Z(ja,e=>vm(e,t=>t.coordinate)),B2=Z([Ec,L2,v$,F2],n$),m$=Z([B2,Tc],z2),are=(e,t,r)=>{if(t!=null){var n=Ec(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},g$=Z([Ec,L2,v$,F2],a$),uv=Z([xa,ba,Fe,Yt,ja,F2,g$,nf],o$),ire=Z([B2,uv],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),y$=Z(ja,m$,JM),sre=Z([g$,m$,Oi,Xt,y$,nf,L2],i$),lre=Z([B2],e=>({isActive:e.active,activeIndex:e.index})),cre=(e,t,r,n,o,a,i,l)=>{if(!(!e||!t||!n||!o||!a)){var c=BQ(e.chartX,e.chartY,t,r,l);if(c){var d=WQ(c,t),u=OQ(d,i,a,n,o),f=UQ(t,a,u,c);return{activeIndex:String(u),activeCoordinate:f}}}};function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(null,arguments)}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){ure(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ure(e,t,r){return(t=dre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dre(e){var t=fre(e,"string");return typeof t=="symbol"?t:t+""}function fre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pre(e){var{coordinate:t,payload:r,index:n,offset:o,tooltipAxisBandSize:a,layout:i,cursor:l,tooltipEventType:c,chartName:d}=e,u=t,f=r,p=n;if(!l||!u||d!=="ScatterChart"&&c!=="axis")return null;var h,g;if(d==="ScatterChart")h=u,g=FG;else if(d==="BarChart")h=BG(i,u,o,a),g=f6;else if(i==="radial"){var{cx:x,cy:y,radius:v,startAngle:S,endAngle:b}=p6(u);h={cx:x,cy:y,startAngle:S,endAngle:b,innerRadius:v,outerRadius:v},g=v6}else h={points:yX(i,u,o)},g=D1;var j=typeof l=="object"&&"className"in l?l.className:void 0,k=np(np(np(np({stroke:"#ccc",pointerEvents:"none"},o),h),vt(l,!1)),{},{payload:f,payloadIndex:p,className:He("recharts-tooltip-cursor",j)});return m.isValidElement(l)?m.cloneElement(l,k):m.createElement(g,k)}function hre(e){var t=rre(),r=GT(),n=Cm(),o=nre();return m.createElement(pre,bb({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:o}))}var x$=m.createContext(null),vre=()=>m.useContext(x$),b$={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function a(c,d,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new o(u,f||c,p),g=r?r+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function i(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,g=new Array(h);p<h;p++)g[p]=f[p].fn;return g},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,p,h,g){var x=r?r+d:d;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,S,b;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,p),!0;case 5:return y.fn.call(y.context,u,f,p,h),!0;case 6:return y.fn.call(y.context,u,f,p,h,g),!0}for(b=1,S=new Array(v-1);b<v;b++)S[b-1]=arguments[b];y.fn.apply(y.context,S)}else{var j=y.length,k;for(b=0;b<j;b++)switch(y[b].once&&this.removeListener(d,y[b].fn,void 0,!0),v){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,f);break;case 4:y[b].fn.call(y[b].context,u,f,p);break;default:if(!S)for(k=1,S=new Array(v-1);k<v;k++)S[k-1]=arguments[k];y[b].fn.apply(y[b].context,S)}}return!0},l.prototype.on=function(d,u,f){return a(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return a(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,p){var h=r?r+d:d;if(!this._events[h])return this;if(!u)return i(this,h),this;var g=this._events[h];if(g.fn)g.fn===u&&(!p||g.once)&&(!f||g.context===f)&&i(this,h);else{for(var x=0,y=[],v=g.length;x<v;x++)(g[x].fn!==u||p&&!g[x].once||f&&g[x].context!==f)&&y.push(g[x]);y.length?this._events[h]=y.length===1?y[0]:y:i(this,h)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&i(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(b$);var mre=b$.exports;const gre=Ro(mre);var kd=new gre,wb="recharts.syncEvent.tooltip",EP="recharts.syncEvent.brush";function U2(e,t){if(t){var r=Number.parseInt(t,10);if(!pn(r))return e==null?void 0:e[r]}}var yre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},w$=xn({name:"options",initialState:yre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xre=w$.reducer,{createEventEmitter:bre}=w$.actions;function wre(e){return e.tooltip.syncInteraction}var Sre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},S$=xn({name:"chartData",initialState:Sre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:TP,setDataStartEndIndexes:jre,setComputedData:Qpe}=S$.actions,kre=S$.reducer,j$=()=>{};function Cre(){var e=Pe(u2),t=Pe(d2),r=kt(),n=Pe(mM),o=Pe(ja),a=Cm(),i=T1(),l=Pe(c=>c.rootProps.className);m.useEffect(()=>{if(e==null)return j$;var c=(d,u,f)=>{if(t!==f&&e===d){if(n==="index"){r(u);return}if(o!=null){var p;if(typeof n=="function"){var h={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},g=n(o,h);p=o[g]}else n==="value"&&(p=o.find(C=>String(C.value)===u.payload.label));var{coordinate:x}=u.payload;if(p==null||u.payload.active===!1||x==null||i==null){r(yb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:y,y:v}=x,S=Math.min(y,i.x+i.width),b=Math.min(v,i.y+i.height),j={x:a==="horizontal"?p.coordinate:S,y:a==="horizontal"?b:p.coordinate},k=yb({active:u.payload.active,coordinate:j,dataKey:u.payload.dataKey,index:String(p.index),label:u.payload.label});r(k)}}};return kd.on(wb,c),()=>{kd.off(wb,c)}},[l,r,t,e,n,o,a,i])}function Pre(){var e=Pe(u2),t=Pe(d2),r=kt();m.useEffect(()=>{if(e==null)return j$;var n=(o,a,i)=>{t!==i&&e===o&&r(jre(a))};return kd.on(EP,n),()=>{kd.off(EP,n)}},[r,t,e])}function Are(){var e=kt();m.useEffect(()=>{e(bre())},[e]),Cre(),Pre()}function Ore(e,t,r,n,o,a){var i=Pe(p=>are(p,e,t)),l=Pe(d2),c=Pe(u2),d=Pe(mM),u=Pe(wre),f=u==null?void 0:u.active;m.useEffect(()=>{if(!f&&c!=null&&l!=null){var p=yb({active:a,coordinate:r,dataKey:i,index:o,label:typeof n=="number"?String(n):n});kd.emit(wb,c,p,l)}},[f,r,i,o,n,l,c,d,a])}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function $P(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){_re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _re(e,t,r){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ere(e){var t=Tre(e,"string");return typeof t=="symbol"?t:t+""}function Tre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mre(e){return e.dataKey}function $re(e,t){return m.isValidElement(e)?m.cloneElement(e,t):typeof e=="function"?m.createElement(e,t):m.createElement(yG,t)}var zP=[],zre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ls.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Nu(e){var t=bn(e,zre),{active:r,allowEscapeViewBox:n,animationDuration:o,animationEasing:a,content:i,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:f,reverseDirection:p,useTranslate3d:h,wrapperStyle:g,cursor:x,shared:y,trigger:v,defaultIndex:S,portal:b,axisId:j}=t,k=kt(),C=typeof S=="number"?String(S):S;m.useEffect(()=>{k(cte({shared:y,trigger:v,axisId:j,active:r,defaultIndex:C}))},[k,y,v,j,r,C]);var O=T1(),D=e6(),I=ote(y),{activeIndex:K,isActive:X}=Pe(pe=>lre(pe,I,v,C)),H=Pe(pe=>sre(pe,I,v,C)),T=Pe(pe=>y$(pe,I,v,C)),R=Pe(pe=>ire(pe,I,v,C)),G=H,Q=vre(),se=r??X,[re,$]=gT([G,se]),V=I==="axis"?T:void 0;Ore(I,v,R,V,K,se);var U=b??Q;if(U==null)return null;var M=G??zP;se||(M=zP),l&&M.length&&(M=aT(G.filter(pe=>pe.value!=null&&(pe.hide!==!0||t.includeHidden)),u,Mre));var ee=M.length>0,ae=m.createElement(CG,{allowEscapeViewBox:n,animationDuration:o,animationEasing:a,isAnimationActive:c,active:se,coordinate:R,hasPayload:ee,offset:d,position:f,reverseDirection:p,useTranslate3d:h,viewBox:O,wrapperStyle:g,lastBoundingBox:re,innerRef:$,hasPortalFromProps:!!b},$re(i,$P($P({},t),{},{payload:M,label:V,active:se,coordinate:R,accessibilityLayer:D})));return m.createElement(m.Fragment,null,Mw.createPortal(ae,U),se&&m.createElement(hre,{cursor:x,tooltipEventType:I,coordinate:R,payload:G,index:K}))}var k$={},C$={},P$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:o,edges:a}={}){let i,l=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),u=()=>{l!==null&&(r.apply(i,l),i=void 0,l=null)},f=()=>{d&&u(),x()};let p=null;const h=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},g=()=>{p!==null&&(clearTimeout(p),p=null)},x=()=>{g(),i=void 0,l=null},y=()=>{u()},v=function(...S){if(o!=null&&o.aborted)return;i=this,l=S;const b=p==null;h(),c&&b&&u()};return v.schedule=h,v.cancel=x,v.flush=y,o==null||o.addEventListener("abort",x,{once:!0}),v}e.debounce=t})(P$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P$;function r(n,o=0,a={}){typeof a!="object"&&(a={});const{leading:i=!1,trailing:l=!0,maxWait:c}=a,d=Array(2);i&&(d[0]="leading"),l&&(d[1]="trailing");let u,f=null;const p=t.debounce(function(...x){u=n.apply(this,x),f=null},o,{edges:d}),h=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=n.apply(this,x),f=Date.now(),p.cancel(),p.schedule(),u):(p.apply(this,x),u)},g=()=>(p.flush(),u);return h.cancel=p.cancel,h.flush=g,h}e.debounce=r})(C$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C$;function r(n,o=0,a={}){const{leading:i=!0,trailing:l=!0}=a;return t.debounce(n,o,{leading:i,maxWait:o,trailing:l})}e.throttle=r})(k$);var Dre=k$.throttle;const Ire=Ro(Dre);var Lu=function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a]};function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Py(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){Rre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rre(e,t,r){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nre(e){var t=Lre(e,"string");return typeof t=="symbol"?t:t+""}function Lre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fu=m.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:o="100%",height:a="100%",minWidth:i=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:f,className:p,onResize:h,style:g={}}=e,x=m.useRef(null),y=m.useRef();y.current=h,m.useImperativeHandle(t,()=>x.current);var[v,S]=m.useState({containerWidth:n.width,containerHeight:n.height}),b=m.useCallback((k,C)=>{S(O=>{var D=Math.round(k),I=Math.round(C);return O.containerWidth===D&&O.containerHeight===I?O:{containerWidth:D,containerHeight:I}})},[]);m.useEffect(()=>{var k=I=>{var K,{width:X,height:H}=I[0].contentRect;b(X,H),(K=y.current)===null||K===void 0||K.call(y,X,H)};u>0&&(k=Ire(k,u,{trailing:!0,leading:!1}));var C=new ResizeObserver(k),{width:O,height:D}=x.current.getBoundingClientRect();return b(O,D),C.observe(x.current),()=>{C.disconnect()}},[b,u]);var j=m.useMemo(()=>{var{containerWidth:k,containerHeight:C}=v;if(k<0||C<0)return null;Lu(rs(o)||rs(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,a),Lu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var O=rs(o)?k:o,D=rs(a)?C:a;return r&&r>0&&(O?D=O/r:D&&(O=D*r),c&&D>c&&(D=c)),Lu(O>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,D,o,a,i,l,r),m.Children.map(d,I=>m.cloneElement(I,{width:O,height:D,style:Py({width:O,height:D},I.props.style)}))},[r,d,a,c,l,i,v,o]);return m.createElement("div",{id:f?"".concat(f):void 0,className:He("recharts-responsive-container",p),style:Py(Py({},g),{},{width:o,height:a,minWidth:i,minHeight:l,maxHeight:c}),ref:x},m.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),Mc=e=>null;Mc.displayName="Cell";function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Sb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){Fre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fre(e,t,r){return(t=Bre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bre(e){var t=Ure(e,"string");return typeof t=="symbol"?t:t+""}function Ure(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qs={widthCache:{},cacheCount:0},Wre=2e3,qre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RP="recharts_measurement_span";function Hre(e){var t=Sb({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var Bu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ls.isSsr)return{width:0,height:0};var n=Hre(r),o=JSON.stringify({text:t,copyStyle:n});if(Qs.widthCache[o])return Qs.widthCache[o];try{var a=document.getElementById(RP);a||(a=document.createElement("span"),a.setAttribute("id",RP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=Sb(Sb({},qre),n);Object.assign(a.style,i),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Qs.widthCache[o]=c,++Qs.cacheCount>Wre&&(Qs.cacheCount=0,Qs.widthCache={}),c}catch{return{width:0,height:0}}},NP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Kre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,A$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Yre=Object.keys(A$),Sl="NaN";function Qre(e,t){return e*A$[t]}class Fr{static parse(t){var r,[,n,o]=(r=Kre.exec(t))!==null&&r!==void 0?r:[];return new Fr(parseFloat(n),o??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,pn(t)&&(this.unit=""),r!==""&&!Vre.test(r)&&(this.num=NaN,this.unit=""),Yre.includes(r)&&(this.num=Qre(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Fr(NaN,""):new Fr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Fr(NaN,""):new Fr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fr(NaN,""):new Fr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fr(NaN,""):new Fr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return pn(this.num)}}function O$(e){if(e.includes(Sl))return Sl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,o,a]=(r=NP.exec(t))!==null&&r!==void 0?r:[],i=Fr.parse(n??""),l=Fr.parse(a??""),c=o==="*"?i.multiply(l):i.divide(l);if(c.isNaN())return Sl;t=t.replace(NP,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,f,p]=(d=LP.exec(t))!==null&&d!==void 0?d:[],h=Fr.parse(u??""),g=Fr.parse(p??""),x=f==="+"?h.add(g):h.subtract(g);if(x.isNaN())return Sl;t=t.replace(LP,x.toString())}return t}var FP=/\(([^()]*)\)/;function Gre(e){for(var t=e,r;(r=FP.exec(t))!=null;){var[,n]=r;t=t.replace(FP,O$(n))}return t}function Xre(e){var t=e.replace(/\s+/g,"");return t=Gre(t),t=O$(t),t}function Jre(e){try{return Xre(e)}catch{return Sl}}function Ay(e){var t=Jre(e.slice(5,-1));return t===Sl?"":t}var Zre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ene=["dx","dy","angle","className","breakAll"];function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jb.apply(null,arguments)}function BP(e,t){if(e==null)return{};var r,n,o=tne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function tne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _$=/[ \f\n\r\t\v\u2028\u2029]+/,E$=e=>{var{children:t,breakAll:r,style:n}=e;try{var o=[];dt(t)||(r?o=t.toString().split(""):o=t.toString().split(_$));var a=o.map(l=>({word:l,width:Bu(l,n).width})),i=r?0:Bu(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:i}}catch{return null}},rne=(e,t,r,n,o)=>{var{maxLines:a,children:i,style:l,breakAll:c}=e,d=xe(a),u=i,f=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce((H,T)=>{var{word:R,width:G}=T,Q=H[H.length-1];if(Q&&(n==null||o||Q.width+G+r<Number(n)))Q.words.push(R),Q.width+=G+r;else{var se={words:[R],width:G};H.push(se)}return H},[])},p=f(t),h=K=>K.reduce((X,H)=>X.width>H.width?X:H);if(!d||o)return p;var g=p.length>a||h(p).width>Number(n);if(!g)return p;for(var x="…",y=K=>{var X=u.slice(0,K),H=E$({breakAll:c,style:l,children:X+x}).wordsWithComputedWidth,T=f(H),R=T.length>a||h(T).width>Number(n);return[R,T]},v=0,S=u.length-1,b=0,j;v<=S&&b<=u.length-1;){var k=Math.floor((v+S)/2),C=k-1,[O,D]=y(C),[I]=y(k);if(!O&&!I&&(v=k+1),O&&I&&(S=k-1),!O&&I){j=D;break}b++}return j||p},UP=e=>{var t=dt(e)?[]:e.toString().split(_$);return[{words:t}]},nne=e=>{var{width:t,scaleToFit:r,children:n,style:o,breakAll:a,maxLines:i}=e;if((t||r)&&!Ls.isSsr){var l,c,d=E$({breakAll:a,children:n,style:o});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;l=u,c=f}else return UP(n);return rne({breakAll:a,children:n,maxLines:i,style:o},l,c,t,r)}return UP(n)},WP="#808080",qm=m.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:o="1em",capHeight:a="0.71em",scaleToFit:i=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=WP}=e,u=BP(e,Zre),f=m.useMemo(()=>nne({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:i,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,i,u.style,u.width]),{dx:p,dy:h,angle:g,className:x,breakAll:y}=u,v=BP(u,ene);if(!zo(r)||!zo(n))return null;var S=r+(xe(p)?p:0),b=n+(xe(h)?h:0),j;switch(c){case"start":j=Ay("calc(".concat(a,")"));break;case"middle":j=Ay("calc(".concat((f.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:j=Ay("calc(".concat(f.length-1," * -").concat(o,")"));break}var k=[];if(i){var C=f[0].width,{width:O}=u;k.push("scale(".concat(xe(O)?O/C:1,")"))}return g&&k.push("rotate(".concat(g,", ").concat(S,", ").concat(b,")")),k.length&&(v.transform=k.join(" ")),m.createElement("text",jb({},vt(v,!0),{ref:t,x:S,y:b,className:He("recharts-text",x),textAnchor:l,fill:d.includes("url")?WP:d}),f.map((D,I)=>{var K=D.words.join(y?"":" ");return m.createElement("tspan",{x:S,dy:I===0?j:o,key:"".concat(K,"-").concat(I)},K)}))});qm.displayName="Text";var one=["offset"],ane=["labelRef"];function qP(e,t){if(e==null)return{};var r,n,o=ine(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ine(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){sne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sne(e,t,r){return(t=lne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lne(e){var t=cne(e,"string");return typeof t=="symbol"?t:t+""}function cne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xo.apply(null,arguments)}var une=e=>{var{value:t,formatter:r}=e,n=dt(e.children)?t:e.children;return typeof r=="function"?r(n):n},W2=e=>e!=null&&typeof e=="function",dne=(e,t)=>{var r=tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},fne=(e,t,r,n)=>{var{position:o,offset:a,className:i}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:f,endAngle:p,clockWise:h}=n,g=(d+u)/2,x=dne(f,p),y=x>=0?1:-1,v,S;o==="insideStart"?(v=f+y*a,S=h):o==="insideEnd"?(v=p-y*a,S=!h):o==="end"&&(v=p+y*a,S=h),S=x<=0?S:!S;var b=Lt(l,c,g,v),j=Lt(l,c,g,v+(S?1:-1)*359),k="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(j.x,",").concat(j.y),C=dt(e.id)?hd("recharts-radial-line-"):e.id;return m.createElement("text",Xo({},r,{dominantBaseline:"central",className:He("recharts-radial-bar-label",i)}),m.createElement("defs",null,m.createElement("path",{id:C,d:k})),m.createElement("textPath",{xlinkHref:"#".concat(C)},t))},pne=(e,t,r)=>{var{cx:n,cy:o,innerRadius:a,outerRadius:i,startAngle:l,endAngle:c}=e,d=(l+c)/2;if(r==="outside"){var{x:u,y:f}=Lt(n,o,i+t,d);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:o,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:o,textAnchor:"middle",verticalAnchor:"end"};var p=(a+i)/2,{x:h,y:g}=Lt(n,o,p,d);return{x:h,y:g,textAnchor:"middle",verticalAnchor:"middle"}},hne=(e,t)=>{var{parentViewBox:r,offset:n,position:o}=e,{x:a,y:i,width:l,height:c}=t,d=c>=0?1:-1,u=d*n,f=d>0?"end":"start",p=d>0?"start":"end",h=l>=0?1:-1,g=h*n,x=h>0?"end":"start",y=h>0?"start":"end";if(o==="top"){var v={x:a+l/2,y:i-d*n,textAnchor:"middle",verticalAnchor:f};return Dt(Dt({},v),r?{height:Math.max(i-r.y,0),width:l}:{})}if(o==="bottom"){var S={x:a+l/2,y:i+c+u,textAnchor:"middle",verticalAnchor:p};return Dt(Dt({},S),r?{height:Math.max(r.y+r.height-(i+c),0),width:l}:{})}if(o==="left"){var b={x:a-g,y:i+c/2,textAnchor:x,verticalAnchor:"middle"};return Dt(Dt({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(o==="right"){var j={x:a+l+g,y:i+c/2,textAnchor:y,verticalAnchor:"middle"};return Dt(Dt({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:c}:{})}var k=r?{width:l,height:c}:{};return o==="insideLeft"?Dt({x:a+g,y:i+c/2,textAnchor:y,verticalAnchor:"middle"},k):o==="insideRight"?Dt({x:a+l-g,y:i+c/2,textAnchor:x,verticalAnchor:"middle"},k):o==="insideTop"?Dt({x:a+l/2,y:i+u,textAnchor:"middle",verticalAnchor:p},k):o==="insideBottom"?Dt({x:a+l/2,y:i+c-u,textAnchor:"middle",verticalAnchor:f},k):o==="insideTopLeft"?Dt({x:a+g,y:i+u,textAnchor:y,verticalAnchor:p},k):o==="insideTopRight"?Dt({x:a+l-g,y:i+u,textAnchor:x,verticalAnchor:p},k):o==="insideBottomLeft"?Dt({x:a+g,y:i+c-u,textAnchor:y,verticalAnchor:f},k):o==="insideBottomRight"?Dt({x:a+l-g,y:i+c-u,textAnchor:x,verticalAnchor:f},k):o&&typeof o=="object"&&(xe(o.x)||rs(o.x))&&(xe(o.y)||rs(o.y))?Dt({x:a+Tr(o.x,l),y:i+Tr(o.y,c),textAnchor:"end",verticalAnchor:"end"},k):Dt({x:a+l/2,y:i+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},vne=e=>"cx"in e&&xe(e.cx);function on(e){var{offset:t=5}=e,r=qP(e,one),n=Dt({offset:t},r),{viewBox:o,position:a,value:i,children:l,content:c,className:d="",textBreakAll:u,labelRef:f}=n,p=Pe(wM),h=T1(),g=o||p||h;if(!g||dt(i)&&dt(l)&&!m.isValidElement(c)&&typeof c!="function")return null;if(m.isValidElement(c)){var{labelRef:x}=n,y=qP(n,ane);return m.cloneElement(c,y)}var v;if(typeof c=="function"){if(v=m.createElement(c,n),m.isValidElement(v))return v}else v=une(n);var S=vne(g),b=vt(n,!0);if(S&&(a==="insideStart"||a==="insideEnd"||a==="end"))return fne(n,v,b,g);var j=S?pne(g,n.offset,n.position):hne(n,g);return m.createElement(qm,Xo({ref:f,className:He("recharts-label",d)},b,j,{breakAll:u}),v)}on.displayName="Label";var T$=e=>{var{cx:t,cy:r,angle:n,startAngle:o,endAngle:a,r:i,radius:l,innerRadius:c,outerRadius:d,x:u,y:f,top:p,left:h,width:g,height:x,clockWise:y,labelViewBox:v}=e;if(v)return v;if(xe(g)&&xe(x)){if(xe(u)&&xe(f))return{x:u,y:f,width:g,height:x};if(xe(p)&&xe(h))return{x:p,y:h,width:g,height:x}}if(xe(u)&&xe(f))return{x:u,y:f,width:0,height:0};if(xe(t)&&xe(r))return{cx:t,cy:r,startAngle:o||n||0,endAngle:a||n||0,innerRadius:c||0,outerRadius:d||l||i||0,clockWise:y};if(e.viewBox)return e.viewBox},mne=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?m.createElement(on,Xo({key:"label-implicit"},n)):zo(e)?m.createElement(on,Xo({key:"label-implicit",value:e},n)):m.isValidElement(e)?e.type===on?m.cloneElement(e,Dt({key:"label-implicit"},n)):m.createElement(on,Xo({key:"label-implicit",content:e},n)):W2(e)?m.createElement(on,Xo({key:"label-implicit",content:e},n)):e&&typeof e=="object"?m.createElement(on,Xo({},e,{key:"label-implicit"},n)):null},gne=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:o,labelRef:a}=t,i=T$(t),l=Vd(o,on).map((d,u)=>m.cloneElement(d,{viewBox:r||i,key:"label-".concat(u)}));if(!n)return l;var c=mne(t.label,r||i,a);return[c,...l]};on.parseViewBox=T$;on.renderCallByParent=gne;var M$={},$$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})($$);var z$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(z$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$$,r=z$,n=um;function o(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=o})(M$);var yne=M$.last;const xne=Ro(yne);var bne=["valueAccessor"],wne=["data","dataKey","clockWise","id","textBreakAll"];function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(null,arguments)}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function KP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){Sne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sne(e,t,r){return(t=jne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jne(e){var t=kne(e,"string");return typeof t=="symbol"?t:t+""}function kne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YP(e,t){if(e==null)return{};var r,n,o=Cne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Cne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pne=e=>Array.isArray(e.value)?xne(e.value):e.value;function di(e){var{valueAccessor:t=Pne}=e,r=YP(e,bne),{data:n,dataKey:o,clockWise:a,id:i,textBreakAll:l}=r,c=YP(r,wne);return!n||!n.length?null:m.createElement(wr,{className:"recharts-label-list"},n.map((d,u)=>{var f=dt(o)?t(d,u):tt(d&&d.payload,o),p=dt(i)?{}:{id:"".concat(i,"-").concat(u)};return m.createElement(on,dv({},vt(d,!0),c,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:l,viewBox:on.parseViewBox(dt(a)?d:KP(KP({},d),{},{clockWise:a})),key:"label-".concat(u),index:u}))}))}di.displayName="LabelList";function Ane(e,t){return e?e===!0?m.createElement(di,{key:"labelList-implicit",data:t}):m.isValidElement(e)||W2(e)?m.createElement(di,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?m.createElement(di,dv({data:t},e,{key:"labelList-implicit"})):null:null}function One(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,o=Vd(n,di).map((i,l)=>m.cloneElement(i,{data:t,key:"labelList-".concat(l)}));if(!r)return o;var a=Ane(e.label,t);return[a,...o]}di.renderCallByParent=One;function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(null,arguments)}var D$=e=>{var{cx:t,cy:r,r:n,className:o}=e,a=He("recharts-dot",o);return t===+t&&r===+r&&n===+n?m.createElement("circle",kb({},ya(e),i1(e),{className:a,cx:t,cy:r,r:n})):null},I$=e=>e.graphicalItems.polarItems,_ne=Z([gt,Zd],g2),q2=Z([I$,$t,_ne],y2),Ene=Z([q2],x2),H2=Z([Ene,i2],b2),Tne=Z([H2,$t,q2],S2),Mne=Z([H2,$t,q2],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(o=>{var a,i=tt(n,(a=t.dataKey)!==null&&a!==void 0?a:o.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:tt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),QP=()=>{},$ne=Z([$t,NM,QP,Mne,QP,Fe,gt],k2),R$=Z([$t,Fe,H2,Tne,Jd,gt,$ne],C2),zne=Z([R$,$t,Oc],O2);Z([$t,R$,zne,gt],E2);var Dne={radiusAxis:{},angleAxis:{}},N$=xn({name:"polarAxis",initialState:Dne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Gpe,removeRadiusAxis:Xpe,addAngleAxis:Jpe,removeAngleAxis:Zpe}=N$.actions,Ine=N$.reducer;function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function XP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){Rne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rne(e,t,r){return(t=Nne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nne(e){var t=Lne(e,"string");return typeof t=="symbol"?t:t+""}function Lne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fne=(e,t)=>t,V2=Z([I$,Fne],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Bne=[],K2=(e,t,r)=>(r==null?void 0:r.length)===0?Bne:r,L$=Z([i2,V2,K2],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var o;if((t==null?void 0:t.data)!=null&&t.data.length>0?o=t.data:o=n,(!o||!o.length)&&r!=null&&(o=r.map(a=>XP(XP({},t.presentationProps),a.props))),o!=null)return o}}),Une=Z([L$,V2,K2],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,o)=>{var a,i=tt(n,t.nameKey,t.name),l;return r!=null&&(a=r[o])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=r[o].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Sc(i,t.dataKey),color:l,payload:n,type:t.legendType}})}),Wne=Z([L$,V2,K2,Yt],(e,t,r,n)=>{if(!(t==null||e==null))return Doe({offset:n,pieSettings:t,displayedData:e,cells:r})}),F$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var o;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((o=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&o.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(F$);var qne=F$.isPlainObject;const Hne=Ro(qne);function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(null,arguments)}var JP=(e,t,r,n,o)=>{var a=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-a/2,",").concat(t+o),i+="L ".concat(e+r-a/2-n,",").concat(t+o),i+="L ".concat(e,",").concat(t," Z"),i},Vne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kne=e=>{var t=bn(e,Vne),r=m.useRef(),[n,o]=m.useState(-1);m.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&o(y)}catch{}},[]);var{x:a,y:i,upperWidth:l,lowerWidth:c,height:d,className:u}=t,{animationEasing:f,animationDuration:p,animationBegin:h,isUpdateAnimationActive:g}=t;if(a!==+a||i!==+i||l!==+l||c!==+c||d!==+d||l===0&&c===0||d===0)return null;var x=He("recharts-trapezoid",u);return g?m.createElement(Gh,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:d,x:a,y:i},to:{upperWidth:l,lowerWidth:c,height:d,x:a,y:i},duration:p,animationEasing:f,isActive:g},y=>{var{upperWidth:v,lowerWidth:S,height:b,x:j,y:k}=y;return m.createElement(Gh,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:p,easing:f},m.createElement("path",fv({},vt(t,!0),{className:x,d:JP(j,k,v,S,b),ref:r})))}):m.createElement("g",null,m.createElement("path",fv({},vt(t,!0),{className:x,d:JP(a,i,l,c,d)})))},Yne=["option","shapeType","propTransformer","activeClassName","isActive"];function Qne(e,t){if(e==null)return{};var r,n,o=Gne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Gne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(r),!0).forEach(function(n){Xne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xne(e,t,r){return(t=Jne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jne(e){var t=Zne(e,"string");return typeof t=="symbol"?t:t+""}function Zne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eoe(e,t){return pv(pv({},t),e)}function toe(e,t){return e==="symbols"}function e3(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return m.createElement(f6,r);case"trapezoid":return m.createElement(Kne,r);case"sector":return m.createElement(v6,r);case"symbols":if(toe(t))return m.createElement(d1,r);break;default:return null}}function roe(e){return m.isValidElement(e)?e.props:e}function B$(e){var{option:t,shapeType:r,propTransformer:n=eoe,activeClassName:o="recharts-active-shape",isActive:a}=e,i=Qne(e,Yne),l;if(m.isValidElement(t))l=m.cloneElement(t,pv(pv({},i),roe(t)));else if(typeof t=="function")l=t(i);else if(Hne(t)&&typeof t!="boolean"){var c=n(t,i);l=m.createElement(e3,{shapeType:r,elementProps:c})}else{var d=i;l=m.createElement(e3,{shapeType:r,elementProps:d})}return a?m.createElement(wr,{className:o},l):l}var Y2=(e,t)=>{var r=kt();return(n,o)=>a=>{e==null||e(n,o,a),r(e$({activeIndex:String(o),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Q2=e=>{var t=kt();return(r,n)=>o=>{e==null||e(r,n,o),t(ute())}},G2=(e,t)=>{var r=kt();return(n,o)=>a=>{e==null||e(n,o,a),r(dte({activeIndex:String(o),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function X2(e){var{fn:t,args:r}=e,n=kt(),o=Xr();return m.useEffect(()=>{if(!o){var a=t(r);return n(ste(a)),()=>{n(lte(a))}}},[t,r,n,o]),null}var U$=()=>{};function W$(e){var{legendPayload:t}=e,r=kt(),n=Xr();return m.useEffect(()=>n?U$:(r(JT(t)),()=>{r(ZT(t))}),[r,n,t]),null}function noe(e){var{legendPayload:t}=e,r=kt(),n=Pe(Fe);return m.useEffect(()=>n!=="centric"&&n!=="radial"?U$:(r(JT(t)),()=>{r(ZT(t))}),[r,n,t]),null}function J2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=m.useRef(hd(t)),n=m.useRef(e);return n.current!==e&&(r.current=hd(t),n.current=e),r.current}var Oy,ooe=()=>{var[e]=m.useState(()=>hd("uid-"));return e},aoe=(Oy=Kp.useId)!==null&&Oy!==void 0?Oy:ooe;function ioe(e,t){var r=aoe();return t||(e?"".concat(e,"-").concat(r):r)}var soe=m.createContext(void 0),Z2=e=>{var{id:t,type:r,children:n}=e,o=ioe("recharts-".concat(r),t);return m.createElement(soe.Provider,{value:o},n(o))},loe={cartesianItems:[],polarItems:[]},q$=xn({name:"graphicalItems",initialState:loe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,o=na(e).cartesianItems.indexOf(r);o>-1&&(e.cartesianItems[o]=n)},removeCartesianGraphicalItem(e,t){var r=na(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=na(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:coe,replaceCartesianGraphicalItem:uoe,removeCartesianGraphicalItem:doe,addPolarGraphicalItem:foe,removePolarGraphicalItem:poe}=q$.actions,hoe=q$.reducer;function H$(e){var t=kt(),r=m.useRef(null);return m.useEffect(()=>{r.current===null?t(coe(e)):r.current!==e&&t(uoe({prev:r.current,next:e})),r.current=e},[t,e]),m.useEffect(()=>()=>{r.current&&(t(doe(r.current)),r.current=null)},[t]),null}function voe(e){var t=kt();return m.useEffect(()=>(t(foe(e)),()=>{t(poe(e))}),[t,e]),null}function moe(){}function goe(e){var t=m.useContext(d6);return m.useMemo(()=>{var r;return(r=e??t)!==null&&r!==void 0?r:u6()},[e,t])}var yoe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},t3={t:0},_y={t:1};function eS(e){var t=bn(e,yoe),{isActive:r,canBegin:n,duration:o,easing:a,begin:i,onAnimationEnd:l,onAnimationStart:c,children:d}=t,u=goe(t.animationManager),[f,p]=m.useState(r?t3:_y),h=m.useRef(null);return m.useEffect(()=>{r||p(_y)},[r]),m.useEffect(()=>{if(!r||!n)return moe;var g=c6(t3,_y,s6(a),o,p,u.getTimeoutController()),x=()=>{h.current=g()};return u.start([c,i,x,o,l]),()=>{u.stop(),h.current&&h.current(),l()}},[r,n,o,a,i,c,l,u]),d(f.t)}var xoe=["onMouseEnter","onClick","onMouseLeave"],boe=["id"],woe=["id"];function tS(e,t){if(e==null)return{};var r,n,o=Soe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Soe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function r3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(r),!0).forEach(function(n){joe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function joe(e,t,r){return(t=koe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function koe(e){var t=Coe(e,"string");return typeof t=="symbol"?t:t+""}function Coe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},va.apply(null,arguments)}function Poe(e){var t=m.useMemo(()=>Vd(e.children,Mc),[e.children]),r=Pe(n=>Une(n,e.id,t));return r==null?null:m.createElement(noe,{legendPayload:r})}function Aoe(e){var{dataKey:t,nameKey:r,sectors:n,stroke:o,strokeWidth:a,fill:i,name:l,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:o,strokeWidth:a,fill:i,dataKey:t,nameKey:r,name:Sc(l,t),hide:c,type:d,color:i,unit:""}}}var Ooe=(e,t)=>e>t?"start":e<t?"end":"middle",_oe=(e,t,r)=>typeof t=="function"?t(e):Tr(t,r,r*.8),Eoe=(e,t,r)=>{var{top:n,left:o,width:a,height:i}=t,l=UT(a,i),c=o+Tr(e.cx,a,a/2),d=n+Tr(e.cy,i,i/2),u=Tr(e.innerRadius,l,0),f=_oe(r,e.outerRadius,l),p=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:f,maxRadius:p}},Toe=(e,t)=>{var r=tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Moe=(e,t)=>{if(m.isValidElement(e))return m.cloneElement(e,t);if(typeof e=="function")return e(t);var r=He("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return m.createElement(D1,va({},t,{type:"linear",className:r}))},$oe=(e,t,r)=>{if(m.isValidElement(e))return m.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),m.isValidElement(n)))return n;var o=He("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return m.createElement(qm,va({},t,{alignmentBaseline:"middle",className:o}),n)};function zoe(e){var{sectors:t,props:r,showLabels:n}=e,{label:o,labelLine:a,dataKey:i}=r;if(!n||!o||!t)return null;var l=ya(r),c=vt(o,!1),d=vt(a,!1),u=typeof o=="object"&&"offsetRadius"in o&&o.offsetRadius||20,f=t.map((p,h)=>{var g=(p.startAngle+p.endAngle)/2,x=Lt(p.cx,p.cy,p.outerRadius+u,g),y=At(At(At(At({},l),p),{},{stroke:"none"},c),{},{index:h,textAnchor:Ooe(x.x,p.cx)},x),v=At(At(At(At({},l),p),{},{fill:"none",stroke:p.fill},d),{},{index:h,points:[Lt(p.cx,p.cy,p.outerRadius,g),x],key:"line"});return m.createElement(wr,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(h)},a&&Moe(a,v),$oe(o,y,tt(p,i)))});return m.createElement(wr,{className:"recharts-pie-labels"},f)}function V$(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:o,showLabels:a}=e,i=Pe(yi),{onMouseEnter:l,onClick:c,onMouseLeave:d}=o,u=tS(o,xoe),f=Y2(l,o.dataKey),p=Q2(d),h=G2(c,o.dataKey);return t==null?null:m.createElement(m.Fragment,null,t.map((g,x)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var y=r&&String(x)===i,v=i?n:null,S=y?r:v,b=At(At({},g),{},{stroke:g.stroke,tabIndex:-1,[KT]:x,[YT]:o.dataKey});return m.createElement(wr,va({tabIndex:-1,className:"recharts-pie-sector"},Hd(u,g,x),{onMouseEnter:f(g,x),onMouseLeave:p(g,x),onClick:h(g,x),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(x)}),m.createElement(B$,va({option:S,isActive:y,shapeType:"sector"},b)))}),m.createElement(zoe,{sectors:t,props:o,showLabels:a}))}function Doe(e){var t,{pieSettings:r,displayedData:n,cells:o,offset:a}=e,{cornerRadius:i,startAngle:l,endAngle:c,dataKey:d,nameKey:u,tooltipType:f}=r,p=Math.abs(r.minAngle),h=Toe(l,c),g=Math.abs(h),x=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(C=>tt(C,d,0)!==0).length,v=(g>=360?y:y-1)*x,S=g-y*p-v,b=n.reduce((C,O)=>{var D=tt(O,d,0);return C+(xe(D)?D:0)},0),j;if(b>0){var k;j=n.map((C,O)=>{var D=tt(C,d,0),I=tt(C,u,O),K=Eoe(r,a,C),X=(xe(D)?D:0)/b,H,T=At(At({},C),o&&o[O]&&o[O].props);O?H=k.endAngle+tr(h)*x*(D!==0?1:0):H=l;var R=H+tr(h)*((D!==0?p:0)+X*S),G=(H+R)/2,Q=(K.innerRadius+K.outerRadius)/2,se=[{name:I,value:D,payload:T,dataKey:d,type:f}],re=Lt(K.cx,K.cy,Q,G);return k=At(At(At(At({},r.presentationProps),{},{percent:X,cornerRadius:i,name:I,tooltipPayload:se,midAngle:G,middleRadius:Q,tooltipPosition:re},T),K),{},{value:tt(C,d),startAngle:H,endAngle:R,payload:T,paddingAngle:tr(h)*x}),k})}return j}function Ioe(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:o,animationBegin:a,animationDuration:i,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:f}=t,p=J2(t,"recharts-pie-"),h=r.current,[g,x]=m.useState(!0),y=m.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),v=m.useCallback(()=>{typeof u=="function"&&u(),x(!0)},[u]);return m.createElement(eS,{begin:a,duration:i,isActive:o,easing:l,onAnimationStart:v,onAnimationEnd:y,key:p},S=>{var b=[],j=n&&n[0],k=j.startAngle;return n.forEach((C,O)=>{var D=h&&h[O],I=O>0?vi(C,"paddingAngle",0):0;if(D){var K=$C(D.endAngle-D.startAngle,C.endAngle-C.startAngle),X=At(At({},C),{},{startAngle:k+I,endAngle:k+K(S)+I});b.push(X),k=X.endAngle}else{var{endAngle:H,startAngle:T}=C,R=$C(0,H-T),G=R(S),Q=At(At({},C),{},{startAngle:k+I,endAngle:k+G+I});b.push(Q),k=Q.endAngle}}),r.current=b,m.createElement(wr,null,m.createElement(V$,{sectors:b,activeShape:c,inactiveShape:d,allOtherPieProps:t,showLabels:!g}))})}function Roe(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:o}=e,a=m.useRef(null),i=a.current;return r&&t&&t.length&&(!i||i!==t)?m.createElement(Ioe,{props:e,previousSectorsRef:a}):m.createElement(V$,{sectors:t,activeShape:n,inactiveShape:o,allOtherPieProps:e,showLabels:!0})}function Noe(e){var{hide:t,className:r,rootTabIndex:n}=e,o=He("recharts-pie",r);return t?null:m.createElement(wr,{tabIndex:n,className:o},m.createElement(Roe,e))}var Loe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ls.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Foe(e){var{id:t}=e,r=tS(e,boe),n=m.useMemo(()=>Vd(e.children,Mc),[e.children]),o=Pe(a=>Wne(a,t,n));return m.createElement(m.Fragment,null,m.createElement(X2,{fn:Aoe,args:At(At({},e),{},{sectors:o})}),m.createElement(Noe,va({},r,{sectors:o})))}function rS(e){var t=bn(e,Loe),{id:r}=t,n=tS(t,woe),o=ya(n);return m.createElement(Z2,{id:r,type:"pie"},a=>m.createElement(m.Fragment,null,m.createElement(voe,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:o}),m.createElement(Poe,va({},n,{id:a})),m.createElement(Foe,va({},n,{id:a})),n.children))}rS.displayName="Pie";var Boe=Z([Yt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Uoe=Z([Boe,xa,ba],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),nS=()=>Pe(Uoe),Woe=()=>Pe(Xte);function n3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function o3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(r),!0).forEach(function(n){qoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qoe(e,t,r){return(t=Hoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hoe(e){var t=Voe(e,"string");return typeof t=="symbol"?t:t+""}function Voe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Koe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:o,dataKey:a}=e;if(o===!1||t.x==null||t.y==null)return null;var i=o3(o3({index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},vt(o,!1)),i1(o)),l;return m.isValidElement(o)?l=m.cloneElement(o,i):typeof o=="function"?l=o(i):l=m.createElement(D$,i),m.createElement(wr,{className:"recharts-active-dot"},l)};function Yoe(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:o}=e,a=Pe(yi),i=Woe();if(t==null||i==null)return null;var l=t.find(c=>i.includes(c.payload));return dt(l)?null:Koe({point:l,childIndex:Number(a),mainColor:r,dataKey:o,activeDot:n})}var Qoe="Invariant failed";function Goe(e,t){throw new Error(Qoe)}var Xoe=["x","y"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(null,arguments)}function a3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(r),!0).forEach(function(n){Joe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Joe(e,t,r){return(t=Zoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zoe(e){var t=eae(e,"string");return typeof t=="symbol"?t:t+""}function eae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tae(e,t){if(e==null)return{};var r,n,o=rae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function rae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nae(e,t){var{x:r,y:n}=e,o=tae(e,Xoe),a="".concat(r),i=parseInt(a,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||o.height),u=parseInt(d,10),f="".concat(t.width||o.width),p=parseInt(f,10);return iu(iu(iu(iu(iu({},t),o),i?{x:i}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function K$(e){return m.createElement(B$,Cb({shapeType:"rectangle",propTransformer:nae,activeClassName:"recharts-active-bar"},e))}var oae=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,o)=>{if(xe(t))return t;var a=xe(n)||dt(n);return a?t(n,o):(a||Goe(),r)}},aae={},Y$=xn({name:"errorBars",initialState:aae,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(o=>o.dataKey!==n.dataKey||o.direction!==n.direction))}}}),{addErrorBar:ehe,removeErrorBar:the}=Y$.actions,iae=Y$.reducer,sae=["children"];function lae(e,t){if(e==null)return{};var r,n,o=cae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function cae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dae=m.createContext(uae);function Q$(e){var{children:t}=e,r=lae(e,sae);return m.createElement(dae.Provider,{value:r},t)}function oS(e,t){var r,n,o=Pe(d=>Sa(d,e)),a=Pe(d=>_i(d,t)),i=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Zr.allowDataOverflow,l=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:en.allowDataOverflow,c=i||l;return{needClip:c,needClipX:i,needClipY:l}}function G$(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,o=nS(),{needClipX:a,needClipY:i,needClip:l}=oS(t,r);if(!l)return null;var{x:c,y:d,width:u,height:f}=o;return m.createElement("clipPath",{id:"clipPath-".concat(n)},m.createElement("rect",{x:a?c:c-u/2,y:i?d:d-f/2,width:a?u:u*2,height:i?f:f*2}))}var fae=["onMouseEnter","onMouseLeave","onClick"],pae=["value","background","tooltipPosition"],hae=["id"],vae=["onMouseEnter","onClick","onMouseLeave"];function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uc.apply(null,arguments)}function i3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(r),!0).forEach(function(n){mae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mae(e,t,r){return(t=gae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hv(e,t){if(e==null)return{};var r,n,o=xae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function xae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bae=e=>{var{dataKey:t,name:r,fill:n,legendType:o,hide:a}=e;return[{inactive:a,dataKey:t,type:o,color:n,value:Sc(r,t),payload:e}]};function wae(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:o,name:a,hide:i,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:o,dataKey:t,nameKey:void 0,name:Sc(a,t),hide:i,type:e.tooltipType,color:e.fill,unit:l}}}function Sae(e){var t=Pe(yi),{data:r,dataKey:n,background:o,allOtherBarProps:a}=e,{onMouseEnter:i,onMouseLeave:l,onClick:c}=a,d=hv(a,fae),u=Y2(i,n),f=Q2(l),p=G2(c,n);if(!o||r==null)return null;var h=vt(o,!1);return m.createElement(m.Fragment,null,r.map((g,x)=>{var{value:y,background:v,tooltipPosition:S}=g,b=hv(g,pae);if(!v)return null;var j=u(g,x),k=f(g,x),C=p(g,x),O=mr(mr(mr(mr(mr({option:o,isActive:String(x)===t},b),{},{fill:"#eee"},v),h),Hd(d,g,x)),{},{onMouseEnter:j,onMouseLeave:k,onClick:C,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return m.createElement(K$,uc({key:"background-bar-".concat(x)},O))}))}function X$(e){var{data:t,props:r,showLabels:n}=e,o=ya(r),{id:a}=o,i=hv(o,hae),{shape:l,dataKey:c,activeBar:d}=r,u=Pe(yi),f=Pe(p$),{onMouseEnter:p,onClick:h,onMouseLeave:g}=r,x=hv(r,vae),y=Y2(p,c),v=Q2(g),S=G2(h,c);return t?m.createElement(m.Fragment,null,t.map((b,j)=>{var k=d&&String(j)===u&&(f==null||c===f),C=k?d:l,O=mr(mr(mr({},i),b),{},{isActive:k,option:C,index:j,dataKey:c});return m.createElement(wr,uc({className:"recharts-bar-rectangle"},Hd(x,b,j),{onMouseEnter:y(b,j),onMouseLeave:v(b,j),onClick:S(b,j),key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(j)}),m.createElement(K$,O))}),n&&di.renderCallByParent(r,t)):null}function jae(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:o,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,f=r.current,p=J2(t,"recharts-bar-"),[h,g]=m.useState(!1),x=m.useCallback(()=>{typeof d=="function"&&d(),g(!1)},[d]),y=m.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return m.createElement(eS,{begin:i,duration:l,isActive:a,easing:c,onAnimationEnd:x,onAnimationStart:y,key:p},v=>{var S=v===1?n:n==null?void 0:n.map((b,j)=>{var k=f&&f[j];if(k)return mr(mr({},b),{},{x:Yn(k.x,b.x,v),y:Yn(k.y,b.y,v),width:Yn(k.width,b.width,v),height:Yn(k.height,b.height,v)});if(o==="horizontal"){var C=Yn(0,b.height,v);return mr(mr({},b),{},{y:b.y+b.height-C,height:C})}var O=Yn(0,b.width,v);return mr(mr({},b),{},{width:O})});return v>0&&(r.current=S??null),S==null?null:m.createElement(wr,null,m.createElement(X$,{props:t,data:S,showLabels:!h}))})}function kae(e){var{data:t,isAnimationActive:r}=e,n=m.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?m.createElement(jae,{previousRectanglesRef:n,props:e}):m.createElement(X$,{props:e,data:t,showLabels:!0})}var J$=0,Cae=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:tt(e,t)}};class Pae extends m.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:o,xAxisId:a,yAxisId:i,needClip:l,background:c,id:d}=this.props;if(t)return null;var u=He("recharts-bar",o),f=d;return m.createElement(wr,{className:u,id:d},l&&m.createElement("defs",null,m.createElement(G$,{clipPathId:f,xAxisId:a,yAxisId:i})),m.createElement(wr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},m.createElement(Sae,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),m.createElement(kae,this.props)),this.props.children)}}var Aae={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ls.isSsr,legendType:"rect",minPointSize:J$,xAxisId:0,yAxisId:0};function Oae(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:o,minPointSize:a,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:f}=oS(t,r),p=Cm(),h=Xr(),g=Vd(e.children,Mc),x=Pe(S=>tie(S,t,r,h,e.id,g));if(p!=="vertical"&&p!=="horizontal")return null;var y,v=x==null?void 0:x[0];return v==null||v.height==null||v.width==null?y=0:y=p==="vertical"?v.height/2:v.width/2,m.createElement(Q$,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:Cae,errorBarOffset:y},m.createElement(Pae,uc({},e,{layout:p,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:o,minPointSize:a,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function _ae(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:o,bandSize:a,xAxis:i,yAxis:l,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:f,offset:p,cells:h}=e,g=t==="horizontal"?l:i,x=u?g.scale.domain():null,y=RQ({numericAxis:g});return f.map((v,S)=>{var b,j,k,C,O,D;u?b=TQ(u[S],x):(b=tt(v,r),Array.isArray(b)||(b=[y,b]));var I=oae(n,J$)(b[1],S);if(t==="horizontal"){var K,[X,H]=[l.scale(b[0]),l.scale(b[1])];j=d4({axis:i,ticks:c,bandSize:a,offset:o.offset,entry:v,index:S}),k=(K=H??X)!==null&&K!==void 0?K:void 0,C=o.size;var T=X-H;if(O=pn(T)?0:T,D={x:j,y:p.top,width:C,height:p.height},Math.abs(I)>0&&Math.abs(O)<Math.abs(I)){var R=tr(O||I)*(Math.abs(I)-Math.abs(O));k-=R,O+=R}}else{var[G,Q]=[i.scale(b[0]),i.scale(b[1])];if(j=G,k=d4({axis:l,ticks:d,bandSize:a,offset:o.offset,entry:v,index:S}),C=Q-G,O=o.size,D={x:p.left,y:k,width:p.width,height:O},Math.abs(I)>0&&Math.abs(C)<Math.abs(I)){var se=tr(C||I)*(Math.abs(I)-Math.abs(C));C+=se}}if(j==null||k==null||C==null||O==null)return null;var re=mr(mr({},v),{},{x:j,y:k,width:C,height:O,value:u?b:b[1],payload:v,background:D,tooltipPosition:{x:j+C/2,y:k+O/2}},h&&h[S]&&h[S].props);return re}).filter(Boolean)}function Z$(e){var t=bn(e,Aae),r=Xr();return m.createElement(Z2,{id:t.id,type:"bar"},n=>m.createElement(m.Fragment,null,m.createElement(W$,{legendPayload:bae(t)}),m.createElement(X2,{fn:wae,args:t}),m.createElement(H$,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:IQ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),m.createElement(Oae,uc({},t,{id:n}))))}Z$.displayName="Bar";function s3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(r),!0).forEach(function(n){Eae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eae(e,t,r){return(t=Tae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tae(e){var t=Mae(e,"string");return typeof t=="symbol"?t:t+""}function Mae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ae=(e,t)=>t,zae=(e,t,r)=>r,Dae=(e,t,r,n)=>n,Iae=(e,t,r,n,o)=>o,af=Z([Nm,Iae],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Rae=Z([af],e=>e==null?void 0:e.maxBarSize),Nae=(e,t,r,n,o,a)=>a,l3=(e,t,r)=>{var n=r??e;if(!dt(n))return Tr(n,t,0)},Lae=Z([Fe,Nm,$ae,zae,Dae],(e,t,r,n,o)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===o).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Fae=(e,t,r,n)=>{var o=Fe(e);return o==="horizontal"?gb(e,"yAxis",r,n):gb(e,"xAxis",t,n)},Bae=(e,t,r)=>{var n=Fe(e);return n==="horizontal"?SP(e,"xAxis",t):SP(e,"yAxis",r)},Uae=(e,t,r)=>{var n={},o=e.filter(Rm),a=e.filter(d=>d.stackId==null),i=o.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),n),l=Object.entries(i).map(d=>{var[u,f]=d,p=f.map(g=>g.dataKey),h=l3(t,r,f[0].barSize);return{stackId:u,dataKeys:p,barSize:h}}),c=a.map(d=>{var u=[d.dataKey].filter(p=>p!=null),f=l3(t,r,d.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...l,...c]},Wae=Z([Lae,lee,Bae],Uae),qae=(e,t,r,n,o)=>{var a,i,l=af(e,t,r,n,o);if(l!=null){var c=Fe(e),d=hM(e),{maxBarSize:u}=l,f=dt(u)?d:u,p,h;return c==="horizontal"?(p=gi(e,"xAxis",t,n),h=mi(e,"xAxis",t,n)):(p=gi(e,"yAxis",r,n),h=mi(e,"yAxis",r,n)),(a=(i=gd(p,h,!0))!==null&&i!==void 0?i:f)!==null&&a!==void 0?a:0}},ez=(e,t,r,n)=>{var o=Fe(e),a,i;return o==="horizontal"?(a=gi(e,"xAxis",t,n),i=mi(e,"xAxis",t,n)):(a=gi(e,"yAxis",r,n),i=mi(e,"yAxis",r,n)),gd(a,i)};function Hae(e,t,r,n,o){var a=n.length;if(!(a<1)){var i=Tr(e,r,0,!0),l,c=[];if(mn(n[0].barSize)){var d=!1,u=r/a,f=n.reduce((v,S)=>v+(S.barSize||0),0);f+=(a-1)*i,f>=r&&(f-=(a-1)*i,i=0),f>=r&&u>0&&(d=!0,u*=.9,f=a*u);var p=(r-f)/2>>0,h={offset:p-i,size:0};l=n.reduce((v,S)=>{var b,j={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:h.offset+h.size+i,size:d?u:(b=S.barSize)!==null&&b!==void 0?b:0}},k=[...v,j];return h=k[k.length-1].position,k},c)}else{var g=Tr(t,r,0,!0);r-2*g-(a-1)*i<=0&&(i=0);var x=(r-2*g-(a-1)*i)/a;x>1&&(x>>=0);var y=mn(o)?Math.min(x,o):x;l=n.reduce((v,S,b)=>[...v,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:g+(x+i)*b+(x-y)/2,size:y}}],c)}return l}}var Vae=(e,t,r,n,o,a,i)=>{var l=dt(i)?t:i,c=Hae(r,n,o!==a?o:a,e,l);return o!==a&&c!=null&&(c=c.map(d=>op(op({},d),{},{position:op(op({},d.position),{},{offset:d.position.offset-o/2})}))),c},Kae=Z([Wae,hM,see,vM,qae,ez,Rae],Vae),Yae=(e,t,r,n)=>gi(e,"xAxis",t,n),Qae=(e,t,r,n)=>gi(e,"yAxis",r,n),Gae=(e,t,r,n)=>mi(e,"xAxis",t,n),Xae=(e,t,r,n)=>mi(e,"yAxis",r,n),Jae=Z([Kae,af],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Zae=(e,t)=>{var r=v2(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var o=e[n];if(o){var{stackedData:a}=o;if(a)return a.find(i=>i.key===r)}}}},eie=Z([Fae,af],Zae),tie=Z([Yt,Yae,Qae,Gae,Xae,Jae,Fe,$m,ez,eie,af,Nae],(e,t,r,n,o,a,i,l,c,d,u,f)=>{var{chartData:p,dataStartIndex:h,dataEndIndex:g}=l;if(!(u==null||a==null||i!=="horizontal"&&i!=="vertical"||t==null||r==null||n==null||o==null||c==null)){var{data:x}=u,y;if(x!=null&&x.length>0?y=x:y=p==null?void 0:p.slice(h,g+1),y!=null)return _ae({layout:i,barSettings:u,pos:a,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:o,stackedData:d,displayedData:y,offset:e,cells:f})}}),tz=e=>{var{chartData:t}=e,r=kt(),n=Xr();return m.useEffect(()=>n?()=>{}:(r(TP(t)),()=>{r(TP(void 0))}),[t,r,n]),null},c3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},rz=xn({name:"brush",initialState:c3,reducers:{setBrushSettings(e,t){return t.payload==null?c3:t.payload}}}),{setBrushSettings:rhe}=rz.actions,rie=rz.reducer;function nie(e,t,r){return(t=oie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oie(e){var t=aie(e,"string");return typeof t=="symbol"?t:t+""}function aie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aS{static create(t){return new aS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],o=r[r.length-1];return n<=o?t>=n&&t<=o:t>=o&&t<=n}}nie(aS,"EPS",1e-4);function iie(e){return(e%180+180)%180}var sie=function(t){var{width:r,height:n}=t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=iie(o),i=a*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},lie={dots:[],areas:[],lines:[]},nz=xn({name:"referenceElements",initialState:lie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=na(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=na(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=na(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:nhe,removeDot:ohe,addArea:ahe,removeArea:ihe,addLine:she,removeLine:lhe}=nz.actions,cie=nz.reducer,uie=m.createContext(void 0),die=e=>{var{children:t}=e,[r]=m.useState("".concat(hd("recharts"),"-clip")),n=nS();if(n==null)return null;var{x:o,y:a,width:i,height:l}=n;return m.createElement(uie.Provider,{value:r},m.createElement("defs",null,m.createElement("clipPath",{id:r},m.createElement("rect",{x:o,y:a,height:l,width:i}))),t)};function Ey(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function oz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],o=0;o<e.length;o+=t)n.push(e[o]);return n}function fie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return sie(n,r)}function pie(e,t,r){var n=r==="width",{x:o,y:a,width:i,height:l}=e;return t===1?{start:n?o:a,end:n?o+i:a+l}:{start:n?o+i:a+l,end:n?o:a}}function vv(e,t,r,n,o){if(e*t<e*n||e*t>e*o)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-o)<=0}function hie(e,t){return oz(e,t+1)}function vie(e,t,r,n,o){for(var a=(n||[]).slice(),{start:i,end:l}=t,c=0,d=1,u=i,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:oz(n,d)};var x=c,y,v=()=>(y===void 0&&(y=r(g,x)),y),S=g.coordinate,b=c===0||vv(e,S,v,u,l);b||(c=0,u=i,d+=1),b&&(u=S+e*(v()/2+o),c+=d)},p;d<=a.length;)if(p=f(),p)return p.v;return[]}function u3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(r),!0).forEach(function(n){mie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mie(e,t,r){return(t=gie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gie(e){var t=yie(e,"string");return typeof t=="symbol"?t:t+""}function yie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xie(e,t,r,n,o){for(var a=(n||[]).slice(),i=a.length,{start:l}=t,{end:c}=t,d=function(p){var h=a[p],g,x=()=>(g===void 0&&(g=r(h,p)),g);if(p===i-1){var y=e*(h.coordinate+e*x()/2-c);a[p]=h=hr(hr({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate})}else a[p]=h=hr(hr({},h),{},{tickCoord:h.coordinate});var v=vv(e,h.tickCoord,x,l,c);v&&(c=h.tickCoord-e*(x()/2+o),a[p]=hr(hr({},h),{},{isShow:!0}))},u=i-1;u>=0;u--)d(u);return a}function bie(e,t,r,n,o,a){var i=(n||[]).slice(),l=i.length,{start:c,end:d}=t;if(a){var u=n[l-1],f=r(u,l-1),p=e*(u.coordinate+e*f/2-d);i[l-1]=u=hr(hr({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var h=vv(e,u.tickCoord,()=>f,c,d);h&&(d=u.tickCoord-e*(f/2+o),i[l-1]=hr(hr({},u),{},{isShow:!0}))}for(var g=a?l-1:l,x=function(S){var b=i[S],j,k=()=>(j===void 0&&(j=r(b,S)),j);if(S===0){var C=e*(b.coordinate-e*k()/2-c);i[S]=b=hr(hr({},b),{},{tickCoord:C<0?b.coordinate-C*e:b.coordinate})}else i[S]=b=hr(hr({},b),{},{tickCoord:b.coordinate});var O=vv(e,b.tickCoord,k,c,d);O&&(c=b.tickCoord+e*(k()/2+o),i[S]=hr(hr({},b),{},{isShow:!0}))},y=0;y<g;y++)x(y);return i}function iS(e,t,r){var{tick:n,ticks:o,viewBox:a,minTickGap:i,orientation:l,interval:c,tickFormatter:d,unit:u,angle:f}=e;if(!o||!o.length||!n)return[];if(xe(c)||Ls.isSsr){var p;return(p=hie(o,xe(c)?c:0))!==null&&p!==void 0?p:[]}var h=[],g=l==="top"||l==="bottom"?"width":"height",x=u&&g==="width"?Bu(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(b,j)=>{var k=typeof d=="function"?d(b.value,j):b.value;return g==="width"?fie(Bu(k,{fontSize:t,letterSpacing:r}),x,f):Bu(k,{fontSize:t,letterSpacing:r})[g]},v=o.length>=2?tr(o[1].coordinate-o[0].coordinate):1,S=pie(a,v,g);return c==="equidistantPreserveStart"?vie(v,S,y,o,i):(c==="preserveStart"||c==="preserveStartEnd"?h=bie(v,S,y,o,i,c==="preserveStartEnd"):h=xie(v,S,y,o,i),h.filter(b=>b.isShow))}var wie=["viewBox"],Sie=["viewBox"];function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(null,arguments)}function d3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(r),!0).forEach(function(n){sS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f3(e,t){if(e==null)return{};var r,n,o=jie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function jie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sS(e,t,r){return(t=kie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kie(e){var t=Cie(e,"string");return typeof t=="symbol"?t:t+""}function Cie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ei extends m.Component{constructor(t){super(t),this.tickRefs=m.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,o=f3(t,wie),a=this.props,{viewBox:i}=a,l=f3(a,Sie);return!Ey(n,i)||!Ey(o,l)||!Ey(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:o,height:a,orientation:i,tickSize:l,mirror:c,tickMargin:d}=this.props,u,f,p,h,g,x,y=c?-1:1,v=t.tickSize||l,S=xe(t.tickCoord)?t.tickCoord:t.coordinate;switch(i){case"top":u=f=t.coordinate,h=n+ +!c*a,p=h-y*v,x=p-y*d,g=S;break;case"left":p=h=t.coordinate,f=r+ +!c*o,u=f-y*v,g=u-y*d,x=S;break;case"right":p=h=t.coordinate,f=r+ +c*o,u=f+y*v,g=u+y*d,x=S;break;default:u=f=t.coordinate,h=n+ +c*a,p=h+y*v,x=p+y*d,g=S;break}return{line:{x1:u,y1:p,x2:f,y2:h},tick:{x:g,y:x}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:o,orientation:a,mirror:i,axisLine:l}=this.props,c=Wt(Wt(Wt({},vt(this.props,!1)),vt(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!i||a==="bottom"&&i);c=Wt(Wt({},c),{},{x1:t,y1:r+d*o,x2:t+n,y2:r+d*o})}else{var u=+(a==="left"&&!i||a==="right"&&i);c=Wt(Wt({},c),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+o})}return m.createElement("line",jl({},c,{className:He("recharts-cartesian-axis-line",vi(l,"className"))}))}static renderTickItem(t,r,n){var o,a=He(r.className,"recharts-cartesian-axis-tick-value");if(m.isValidElement(t))o=m.cloneElement(t,Wt(Wt({},r),{},{className:a}));else if(typeof t=="function")o=t(Wt(Wt({},r),{},{className:a}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=He(i,t.className)),o=m.createElement(qm,jl({},r,{className:i}),n)}return o}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:o,stroke:a,tick:i,tickFormatter:l,unit:c,padding:d}=this.props,u=iS(Wt(Wt({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),h=ya(this.props),g=vt(i,!1),x=Wt(Wt({},h),{},{fill:"none"},vt(o,!1)),y=u.map((v,S)=>{var{line:b,tick:j}=this.getTickLineCoord(v),k=Wt(Wt(Wt(Wt({textAnchor:f,verticalAnchor:p},h),{},{stroke:"none",fill:a},g),j),{},{index:S,payload:v,visibleTicksCount:u.length,tickFormatter:l,padding:d});return m.createElement(wr,jl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},Hd(this.props,v,S)),o&&m.createElement("line",jl({},x,b,{className:He("recharts-cartesian-axis-tick-line",vi(o,"className"))})),i&&Ei.renderTickItem(i,k,"".concat(typeof l=="function"?l(v.value,S):v.value).concat(c||"")))});return y.length>0?m.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:t,width:r,height:n,className:o,hide:a}=this.props;if(a)return null;var{ticks:i}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:m.createElement(wr,{className:He("recharts-cartesian-axis",o),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var d=c[0];if(d){var u=window.getComputedStyle(d).fontSize,f=window.getComputedStyle(d).letterSpacing;(u!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,i),on.renderCallByParent(this.props))}}sS(Ei,"displayName","CartesianAxis");sS(Ei,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Pie=["x1","y1","x2","y2","key"],Aie=["offset"],Oie=["xAxisId","yAxisId"],_ie=["xAxisId","yAxisId"];function p3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(r),!0).forEach(function(n){Eie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eie(e,t,r){return(t=Tie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tie(e){var t=Mie(e,"string");return typeof t=="symbol"?t:t+""}function Mie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},is.apply(null,arguments)}function mv(e,t){if(e==null)return{};var r,n,o=$ie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function $ie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:o,width:a,height:i,ry:l}=e;return m.createElement("rect",{x:n,y:o,ry:l,width:a,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function az(e,t){var r;if(m.isValidElement(e))r=m.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:o,x2:a,y2:i,key:l}=t,c=mv(t,Pie),d=ya(c),{offset:u}=d,f=mv(d,Aie);r=m.createElement("line",is({},f,{x1:n,y1:o,x2:a,y2:i,fill:"none",key:l}))}return r}function Die(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:o}=e;if(!n||!o||!o.length)return null;var{xAxisId:a,yAxisId:i}=e,l=mv(e,Oie),c=o.map((d,u)=>{var f=gr(gr({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(u),index:u});return az(n,f)});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Iie(e){var{y:t,height:r,vertical:n=!0,verticalPoints:o}=e;if(!n||!o||!o.length)return null;var{xAxisId:a,yAxisId:i}=e,l=mv(e,_ie),c=o.map((d,u)=>{var f=gr(gr({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(u),index:u});return az(n,f)});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Rie(e){var{horizontalFill:t,fillOpacity:r,x:n,y:o,width:a,height:i,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=l.map(f=>Math.round(f+o-o)).sort((f,p)=>f-p);o!==d[0]&&d.unshift(0);var u=d.map((f,p)=>{var h=!d[p+1],g=h?o+i-f:d[p+1]-f;if(g<=0)return null;var x=p%t.length;return m.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:g,width:a,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Nie(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:o,y:a,width:i,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(f=>Math.round(f+o-o)).sort((f,p)=>f-p);o!==d[0]&&d.unshift(0);var u=d.map((f,p)=>{var h=!d[p+1],g=h?o+i-f:d[p+1]-f;if(g<=0)return null;var x=p%r.length;return m.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:g,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Lie=(e,t)=>{var{xAxis:r,width:n,height:o,offset:a}=e;return qT(iS(gr(gr(gr({},Ei.defaultProps),r),{},{ticks:HT(r),viewBox:{x:0,y:0,width:n,height:o}})),a.left,a.left+a.width,t)},Fie=(e,t)=>{var{yAxis:r,width:n,height:o,offset:a}=e;return qT(iS(gr(gr(gr({},Ei.defaultProps),r),{},{ticks:HT(r),viewBox:{x:0,y:0,width:n,height:o}})),a.top,a.top+a.height,t)},Bie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function gv(e){var t=M1(),r=$1(),n=GT(),o=gr(gr({},bn(e,Bie)),{},{x:xe(e.x)?e.x:n.left,y:xe(e.y)?e.y:n.top,width:xe(e.width)?e.width:n.width,height:xe(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:i,x:l,y:c,width:d,height:u,syncWithTicks:f,horizontalValues:p,verticalValues:h}=o,g=Xr(),x=Pe(I=>jP(I,"xAxis",a,g)),y=Pe(I=>jP(I,"yAxis",i,g));if(!xe(d)||d<=0||!xe(u)||u<=0||!xe(l)||l!==+l||!xe(c)||c!==+c)return null;var v=o.verticalCoordinatesGenerator||Lie,S=o.horizontalCoordinatesGenerator||Fie,{horizontalPoints:b,verticalPoints:j}=o;if((!b||!b.length)&&typeof S=="function"){var k=p&&p.length,C=S({yAxis:y?gr(gr({},y),{},{ticks:k?p:y.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);Lu(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(b=C)}if((!j||!j.length)&&typeof v=="function"){var O=h&&h.length,D=v({xAxis:x?gr(gr({},x),{},{ticks:O?h:x.ticks}):void 0,width:t,height:r,offset:n},O?!0:f);Lu(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(j=D)}return m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(zie,{fill:o.fill,fillOpacity:o.fillOpacity,x:o.x,y:o.y,width:o.width,height:o.height,ry:o.ry}),m.createElement(Rie,is({},o,{horizontalPoints:b})),m.createElement(Nie,is({},o,{verticalPoints:j})),m.createElement(Die,is({},o,{offset:n,horizontalPoints:b,xAxis:x,yAxis:y})),m.createElement(Iie,is({},o,{offset:n,verticalPoints:j,xAxis:x,yAxis:y})))}gv.displayName="CartesianGrid";var iz=(e,t,r,n)=>gi(e,"xAxis",t,n),sz=(e,t,r,n)=>mi(e,"xAxis",t,n),lz=(e,t,r,n)=>gi(e,"yAxis",r,n),cz=(e,t,r,n)=>mi(e,"yAxis",r,n),Uie=Z([Fe,iz,lz,sz,cz],(e,t,r,n,o)=>Ci(e,"xAxis")?gd(t,n,!1):gd(r,o,!1)),Wie=(e,t,r,n,o)=>o;function qie(e){return e.type==="line"}var Hie=Z([Nm,Wie],(e,t)=>e.filter(qie).find(r=>r.id===t)),Vie=Z([Fe,iz,lz,sz,cz,Hie,Uie,$m],(e,t,r,n,o,a,i,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=l;if(!(a==null||t==null||r==null||n==null||o==null||n.length===0||o.length===0||i==null)){var{dataKey:f,data:p}=a,h;if(p!=null&&p.length>0?h=p:h=c==null?void 0:c.slice(d,u+1),h!=null)return pse({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:o,dataKey:f,bandSize:i,displayedData:h})}}),Kie=["id"],Yie=["type","layout","connectNulls","needClip"],Qie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function h3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(r),!0).forEach(function(n){Gie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gie(e,t,r){return(t=Xie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xie(e){var t=Jie(e,"string");return typeof t=="symbol"?t:t+""}function Jie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lS(e,t){if(e==null)return{};var r,n,o=Zie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Zie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(null,arguments)}var ese=e=>{var{dataKey:t,name:r,stroke:n,legendType:o,hide:a}=e;return[{inactive:a,dataKey:t,type:o,color:n,value:Sc(r,t),payload:e}]};function tse(e){var{dataKey:t,data:r,stroke:n,strokeWidth:o,fill:a,name:i,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:o,fill:a,dataKey:t,nameKey:void 0,name:Sc(i,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var uz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function rse(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],o=0;o<t;++o)n=[...n,...r];return n}var nse=(e,t,r)=>{var n=r.reduce((f,p)=>f+p);if(!n)return uz(t,e);for(var o=Math.floor(e/n),a=e%n,i=t-e,l=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>a){l=[...r.slice(0,c),a-d];break}var u=l.length%2===0?[0,i]:[i];return[...rse(r,o),...l,...u].map(f=>"".concat(f,"px")).join(", ")};function ose(e,t){var r;if(m.isValidElement(e))r=m.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=He("recharts-line-dot",typeof e!="boolean"?e.className:"");r=m.createElement(D$,zs({},t,{className:n}))}return r}function ase(e,t){return e==null?!1:t?!0:e.length===1}function ise(e){var{clipPathId:t,points:r,props:n}=e,{dot:o,dataKey:a,needClip:i}=n;if(!ase(r,o))return null;var{id:l}=n,c=lS(n,Kie),d=C5(o),u=ya(c),f=vt(o,!0),p=r.map((g,x)=>{var y=Qn(Qn(Qn({key:"dot-".concat(x),r:3},u),f),{},{index:x,cx:g.x,cy:g.y,dataKey:a,value:g.value,payload:g.payload,points:r});return ose(o,y)}),h={clipPath:i?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return m.createElement(wr,zs({className:"recharts-line-dots",key:"dots"},h),p)}function Pb(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:o,props:a,showLabels:i}=e,{type:l,layout:c,connectNulls:d,needClip:u}=a,f=lS(a,Yie),p=Qn(Qn({},vt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:c,connectNulls:d,strokeDasharray:o??a.strokeDasharray});return m.createElement(m.Fragment,null,(n==null?void 0:n.length)>1&&m.createElement(D1,zs({},p,{pathRef:r})),m.createElement(ise,{points:n,clipPathId:t,props:a}),i&&di.renderCallByParent(a,n))}function sse(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function lse(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:o,longestAnimatedLengthRef:a}=e,{points:i,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,animateNewValues:p,width:h,height:g,onAnimationEnd:x,onAnimationStart:y}=r,v=o.current,S=J2(r,"recharts-line-"),[b,j]=m.useState(!1),k=m.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),C=m.useCallback(()=>{typeof y=="function"&&y(),j(!0)},[y]),O=sse(n.current),D=a.current;return m.createElement(eS,{begin:d,duration:u,isActive:c,easing:f,onAnimationEnd:k,onAnimationStart:C,key:S},I=>{var K=Yn(D,O+D,I),X=Math.min(K,O),H;if(l){var T="".concat(l).split(/[,\s]+/gim).map(Q=>parseFloat(Q));H=nse(X,O,T)}else H=uz(O,X);if(v){var R=v.length/i.length,G=I===1?i:i.map((Q,se)=>{var re=Math.floor(se*R);if(v[re]){var $=v[re];return Qn(Qn({},Q),{},{x:Yn($.x,Q.x,I),y:Yn($.y,Q.y,I)})}return p?Qn(Qn({},Q),{},{x:Yn(h*2,Q.x,I),y:Yn(g/2,Q.y,I)}):Qn(Qn({},Q),{},{x:Q.x,y:Q.y})});return o.current=G,m.createElement(Pb,{props:r,points:G,clipPathId:t,pathRef:n,showLabels:!b,strokeDasharray:H})}return I>0&&O>0&&(o.current=i,a.current=X),m.createElement(Pb,{props:r,points:i,clipPathId:t,pathRef:n,showLabels:!b,strokeDasharray:H})})}function cse(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:o}=r,a=m.useRef(null),i=m.useRef(0),l=m.useRef(null),c=a.current;return o&&n&&n.length&&c!==n?m.createElement(lse,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:i,pathRef:l}):m.createElement(Pb,{props:r,points:n,clipPathId:t,pathRef:l,showLabels:!0})}var use=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:tt(e.payload,t)});class dse extends m.Component{render(){var t,{hide:r,dot:n,points:o,className:a,xAxisId:i,yAxisId:l,top:c,left:d,width:u,height:f,id:p,needClip:h}=this.props;if(r)return null;var g=He("recharts-line",a),x=p,{r:y=3,strokeWidth:v=2}=(t=vt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},S=C5(n),b=y*2+v;return m.createElement(m.Fragment,null,m.createElement(wr,{className:g},h&&m.createElement("defs",null,m.createElement(G$,{clipPathId:x,xAxisId:i,yAxisId:l}),!S&&m.createElement("clipPath",{id:"clipPath-dots-".concat(x)},m.createElement("rect",{x:d-b/2,y:c-b/2,width:u+b,height:f+b}))),m.createElement(cse,{props:this.props,clipPathId:x}),m.createElement(Q$,{xAxisId:i,yAxisId:l,data:o,dataPointFormatter:use,errorBarOffset:0},this.props.children)),m.createElement(Yoe,{activeDot:this.props.activeDot,points:o,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var dz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ls.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function fse(e){var t=bn(e,dz),{activeDot:r,animateNewValues:n,animationBegin:o,animationDuration:a,animationEasing:i,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:f,legendType:p,xAxisId:h,yAxisId:g,id:x}=t,y=lS(t,Qie),{needClip:v}=oS(h,g),S=nS(),b=Cm(),j=Xr(),k=Pe(K=>Vie(K,h,g,j,x));if(b!=="horizontal"&&b!=="vertical"||k==null||S==null)return null;var{height:C,width:O,x:D,y:I}=S;return m.createElement(dse,zs({},y,{id:x,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:o,animationDuration:a,animationEasing:i,isAnimationActive:u,hide:d,label:f,legendType:p,xAxisId:h,yAxisId:g,points:k,layout:b,height:C,width:O,left:D,top:I,needClip:v}))}function pse(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:o,yAxisTicks:a,dataKey:i,bandSize:l,displayedData:c}=e;return c.map((d,u)=>{var f=tt(d,i);if(t==="horizontal"){var p=u4({axis:r,ticks:o,bandSize:l,entry:d,index:u}),h=dt(f)?null:n.scale(f);return{x:p,y:h,value:f,payload:d}}var g=dt(f)?null:r.scale(f),x=u4({axis:n,ticks:a,bandSize:l,entry:d,index:u});return g==null||x==null?null:{x:g,y:x,value:f,payload:d}}).filter(Boolean)}function Uu(e){var t=bn(e,dz),r=Xr();return m.createElement(Z2,{id:t.id,type:"line"},n=>m.createElement(m.Fragment,null,m.createElement(W$,{legendPayload:ese(t)}),m.createElement(X2,{fn:tse,args:t}),m.createElement(H$,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),m.createElement(fse,zs({},t,{id:n}))))}Uu.displayName="Line";function v3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function m3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(r),!0).forEach(function(n){hse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hse(e,t,r){return(t=vse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vse(e){var t=mse(e,"string");return typeof t=="symbol"?t:t+""}function mse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gse={xAxis:{},yAxis:{},zAxis:{}},fz=xn({name:"cartesianAxis",initialState:gse,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=m3(m3({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:yse,removeXAxis:xse,addYAxis:bse,removeYAxis:wse,addZAxis:che,removeZAxis:uhe,updateYAxisWidth:Sse}=fz.actions,jse=fz.reducer,kse=["children"],Cse=["dangerouslySetInnerHTML","ticks"];function pz(e,t,r){return(t=Pse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pse(e){var t=Ase(e,"string");return typeof t=="symbol"?t:t+""}function Ase(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(null,arguments)}function hz(e,t){if(e==null)return{};var r,n,o=Ose(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ose(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _se(e){var t=kt(),r=m.useMemo(()=>{var{children:a}=e,i=hz(e,kse);return i},[e]),n=Pe(a=>Sa(a,r.id)),o=r===n;return m.useEffect(()=>(t(yse(r)),()=>{t(xse(r))}),[r,t]),o?e.children:null}var Ese=e=>{var{xAxisId:t,className:r}=e,n=Pe(QT),o=Xr(),a="xAxis",i=Pe(h=>_c(h,a,t,o)),l=Pe(h=>YM(h,a,t,o)),c=Pe(h=>qM(h,t)),d=Pe(h=>Jee(h,t));if(c==null||d==null)return null;var{dangerouslySetInnerHTML:u,ticks:f}=e,p=hz(e,Cse);return m.createElement(Ei,Ab({},p,{scale:i,x:d.x,y:d.y,width:c.width,height:c.height,className:He("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:l}))},Tse=e=>{var t,r,n,o,a;return m.createElement(_se,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(o=e.minTickGap)!==null&&o!==void 0?o:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter},m.createElement(Ese,e))};class Cd extends m.Component{render(){return m.createElement(Tse,this.props)}}pz(Cd,"displayName","XAxis");pz(Cd,"defaultProps",{allowDataOverflow:Zr.allowDataOverflow,allowDecimals:Zr.allowDecimals,allowDuplicatedCategory:Zr.allowDuplicatedCategory,height:Zr.height,hide:!1,mirror:Zr.mirror,orientation:Zr.orientation,padding:Zr.padding,reversed:Zr.reversed,scale:Zr.scale,tickCount:Zr.tickCount,type:Zr.type,xAxisId:0});var Mse=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:o=0,tickMargin:a=0}=e,i=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>i&&(i=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=o+a,d=i+c+l+(r?n:0);return Math.round(d)}return 0},$se=["dangerouslySetInnerHTML","ticks"];function vz(e,t,r){return(t=zse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zse(e){var t=Dse(e,"string");return typeof t=="symbol"?t:t+""}function Dse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ob.apply(null,arguments)}function Ise(e,t){if(e==null)return{};var r,n,o=Rse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Rse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nse(e){var t=kt();return m.useEffect(()=>(t(bse(e)),()=>{t(wse(e))}),[e,t]),null}var Lse=e=>{var t,{yAxisId:r,className:n,width:o,label:a}=e,i=m.useRef(null),l=m.useRef(null),c=Pe(QT),d=Xr(),u=kt(),f="yAxis",p=Pe(b=>_c(b,f,r,d)),h=Pe(b=>HM(b,r)),g=Pe(b=>Zee(b,r)),x=Pe(b=>YM(b,f,r,d));if(m.useLayoutEffect(()=>{var b;if(!(o!=="auto"||!h||W2(a)||m.isValidElement(a))){var j=i.current,k=j==null||(b=j.tickRefs)===null||b===void 0?void 0:b.current,{tickSize:C,tickMargin:O}=j.props,D=Mse({ticks:k,label:l.current,labelGapWithTick:5,tickSize:C,tickMargin:O});Math.round(h.width)!==Math.round(D)&&u(Sse({id:r,width:D}))}},[i,i==null||(t=i.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,h==null?void 0:h.width,h,u,a,r,o]),h==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,S=Ise(e,$se);return m.createElement(Ei,Ob({},S,{ref:i,labelRef:l,scale:p,x:g.x,y:g.y,width:h.width,height:h.height,className:He("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:x}))},Fse=e=>{var t,r,n,o,a;return m.createElement(m.Fragment,null,m.createElement(Nse,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(o=e.minTickGap)!==null&&o!==void 0?o:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter}),m.createElement(Lse,e))},Bse={allowDataOverflow:en.allowDataOverflow,allowDecimals:en.allowDecimals,allowDuplicatedCategory:en.allowDuplicatedCategory,hide:!1,mirror:en.mirror,orientation:en.orientation,padding:en.padding,reversed:en.reversed,scale:en.scale,tickCount:en.tickCount,type:en.type,width:en.width,yAxisId:0};class Pd extends m.Component{render(){return m.createElement(Fse,this.props)}}vz(Pd,"displayName","YAxis");vz(Pd,"defaultProps",Bse);var Use={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=m;function Wse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qse=typeof Object.is=="function"?Object.is:Wse,Hse=sf.useSyncExternalStore,Vse=sf.useRef,Kse=sf.useEffect,Yse=sf.useMemo,Qse=sf.useDebugValue;Use.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var a=Vse(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=Yse(function(){function c(h){if(!d){if(d=!0,u=h,h=n(h),o!==void 0&&i.hasValue){var g=i.value;if(o(g,h))return f=g}return f=h}if(g=f,qse(u,h))return g;var x=n(h);return o!==void 0&&o(g,x)?(u=h,g):(u=h,f=x)}var d=!1,u,f,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,n,o]);var l=Hse(e,a[0],a[1]);return Kse(function(){i.hasValue=!0,i.value=l},[l]),Qse(l),l};function Gse(e){e()}function Xse(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Gse(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var g3={notify(){},get:()=>[]};function Jse(e,t){let r,n=g3,o=0,a=!1;function i(x){u();const y=n.subscribe(x);let v=!1;return()=>{v||(v=!0,y(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return a}function u(){o++,r||(r=e.subscribe(c),n=Xse())}function f(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=g3)}function p(){a||(a=!0,u())}function h(){a&&(a=!1,f())}const g={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:h,getListeners:()=>n};return g}var Zse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ele=Zse(),tle=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rle=tle(),nle=()=>ele||rle?m.useLayoutEffect:m.useEffect,ole=nle(),Ty=Symbol.for("react-redux-context"),My=typeof globalThis<"u"?globalThis:{};function ale(){if(!m.createContext)return{};const e=My[Ty]??(My[Ty]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var ile=ale();function sle(e){const{children:t,context:r,serverState:n,store:o}=e,a=m.useMemo(()=>{const c=Jse(o);return{store:o,subscription:c,getServerState:n?()=>n:void 0}},[o,n]),i=m.useMemo(()=>o.getState(),[o]);ole(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==o.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,i]);const l=r||ile;return m.createElement(l.Provider,{value:a},t)}var lle=sle,cle=(e,t)=>t,cS=Z([cle,Fe,wM,Gt,c$,ja,ore,Yt],cre),uS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},mz=In("mouseClick"),gz=Kd();gz.startListening({actionCreator:mz,effect:(e,t)=>{var r=e.payload,n=cS(t.getState(),uS(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(fte({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var _b=In("mouseMove"),yz=Kd();yz.startListening({actionCreator:_b,effect:(e,t)=>{var r=e.payload,n=t.getState(),o=$2(n,n.tooltip.settings.shared),a=cS(n,uS(r));o==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(r$({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(t$()))}});function ule(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var y3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},xz=xn({name:"rootProps",initialState:y3,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:y3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),dle=xz.reducer,{updateOptions:fle}=xz.actions,bz=xn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ple}=bz.actions,hle=bz.reducer,wz=In("keyDown"),Sz=In("focus"),dS=Kd();dS.startListening({actionCreator:wz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:o}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var i=Number(z2(o,Tc(r))),l=ja(r);if(a==="Enter"){var c=uv(r,"axis","hover",String(o.index));t.dispatch(xb({active:!o.active,activeIndex:o.index,activeDataKey:o.dataKey,activeCoordinate:c}));return}var d=nte(r),u=d==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,p=i+f*u;if(!(l==null||p>=l.length||p<0)){var h=uv(r,"axis","hover",String(p));t.dispatch(xb({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});dS.startListening({actionCreator:Sz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:o}=r.tooltip;if(!o.active&&o.index==null){var a="0",i=uv(r,"axis","hover",String(a));t.dispatch(xb({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:i}))}}}});var kn=In("externalEvent"),jz=Kd();jz.startListening({actionCreator:kn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Yte(r),activeDataKey:p$(r),activeIndex:yi(r),activeLabel:f$(r),activeTooltipIndex:yi(r),isTooltipActive:Qte(r)};e.payload.handler(n,e.payload.reactEvent)}}});var vle=Z([Ec],e=>e.tooltipItemPayloads),mle=Z([vle,nf,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var o=e.find(l=>l.settings.dataKey===n);if(o!=null){var{positions:a}=o;if(a!=null){var i=t(a,r);return i}}}),kz=In("touchMove"),Cz=Kd();Cz.startListening({actionCreator:kz,effect:(e,t)=>{var r=e.payload,n=t.getState(),o=$2(n,n.tooltip.settings.shared);if(o==="axis"){var a=cS(n,uS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(r$({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(o==="item"){var i,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(KT),u=(i=c.getAttribute(YT))!==null&&i!==void 0?i:void 0,f=mle(t.getState(),d,u);t.dispatch(e$({activeDataKey:u,activeIndex:d,activeCoordinate:f}))}}});var gle=xT({brush:rie,cartesianAxis:jse,chartData:kre,errorBars:iae,graphicalItems:hoe,layout:vQ,legend:rG,options:xre,polarAxis:Ine,polarOptions:hle,referenceElements:cie,rootProps:dle,tooltip:pte}),yle=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return FY({reducer:gle,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([gz.middleware,yz.middleware,dS.middleware,jz.middleware,Cz.middleware]),devTools:{serialize:{replacer:ule},name:"recharts-".concat(r)}})};function Pz(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,o=Xr(),a=m.useRef(null);if(o)return r;a.current==null&&(a.current=yle(t,n));var i=w1;return m.createElement(lle,{context:i,store:a.current},r)}function Az(e){var{layout:t,width:r,height:n,margin:o}=e,a=kt(),i=Xr();return m.useEffect(()=>{i||(a(fQ(t)),a(pQ({width:r,height:n})),a(dQ(o)))},[a,i,t,r,n,o]),null}function Oz(e){var t=kt();return m.useEffect(()=>{t(fle(e))},[t,e]),null}var xle=["children"];function ble(e,t){if(e==null)return{};var r,n,o=wle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function wle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(null,arguments)}var Sle={width:"100%",height:"100%"},jle=m.forwardRef((e,t)=>{var r=M1(),n=$1(),o=e6();if(!ac(r)||!ac(n))return null;var{children:a,otherAttributes:i,title:l,desc:c}=e,d,u;return typeof i.tabIndex=="number"?d=i.tabIndex:d=o?0:void 0,typeof i.role=="string"?u=i.role:u=o?"application":void 0,m.createElement(s1,yv({},i,{title:l,desc:c,role:u,tabIndex:d,width:r,height:n,style:Sle,ref:t}),a)}),kle=e=>{var{children:t}=e,r=Pe(km);if(!r)return null;var{width:n,height:o,y:a,x:i}=r;return m.createElement(s1,{width:n,height:o,x:i,y:a},t)},x3=m.forwardRef((e,t)=>{var{children:r}=e,n=ble(e,xle),o=Xr();return o?m.createElement(kle,null,r):m.createElement(jle,yv({ref:t},n),r)});function Cle(){var e=kt(),[t,r]=m.useState(null),n=Pe(qQ);return m.useEffect(()=>{if(t!=null){var o=t.getBoundingClientRect(),a=o.width/t.offsetWidth;mn(a)&&a!==n&&e(hQ(a))}},[t,e,n]),r}function b3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ple(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(r),!0).forEach(function(n){Ale(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ale(e,t,r){return(t=Ole(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ole(e){var t=_le(e,"string");return typeof t=="symbol"?t:t+""}function _le(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ele=m.forwardRef((e,t)=>{var{children:r,className:n,height:o,onClick:a,onContextMenu:i,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:p,onTouchEnd:h,onTouchMove:g,onTouchStart:x,style:y,width:v}=e,S=kt(),[b,j]=m.useState(null),[k,C]=m.useState(null);Are();var O=Cle(),D=m.useCallback(M=>{O(M),typeof t=="function"&&t(M),j(M),C(M)},[O,t,j,C]),I=m.useCallback(M=>{S(mz(M)),S(kn({handler:a,reactEvent:M}))},[S,a]),K=m.useCallback(M=>{S(_b(M)),S(kn({handler:d,reactEvent:M}))},[S,d]),X=m.useCallback(M=>{S(t$()),S(kn({handler:u,reactEvent:M}))},[S,u]),H=m.useCallback(M=>{S(_b(M)),S(kn({handler:f,reactEvent:M}))},[S,f]),T=m.useCallback(()=>{S(Sz())},[S]),R=m.useCallback(M=>{S(wz(M.key))},[S]),G=m.useCallback(M=>{S(kn({handler:i,reactEvent:M}))},[S,i]),Q=m.useCallback(M=>{S(kn({handler:l,reactEvent:M}))},[S,l]),se=m.useCallback(M=>{S(kn({handler:c,reactEvent:M}))},[S,c]),re=m.useCallback(M=>{S(kn({handler:p,reactEvent:M}))},[S,p]),$=m.useCallback(M=>{S(kn({handler:x,reactEvent:M}))},[S,x]),V=m.useCallback(M=>{S(kz(M)),S(kn({handler:g,reactEvent:M}))},[S,g]),U=m.useCallback(M=>{S(kn({handler:h,reactEvent:M}))},[S,h]);return m.createElement(x$.Provider,{value:b},m.createElement(P5.Provider,{value:k},m.createElement("div",{className:He("recharts-wrapper",n),style:Ple({position:"relative",cursor:"default",width:v,height:o},y),onClick:I,onContextMenu:G,onDoubleClick:Q,onFocus:T,onKeyDown:R,onMouseDown:se,onMouseEnter:K,onMouseLeave:X,onMouseMove:H,onMouseUp:re,onTouchEnd:U,onTouchMove:V,onTouchStart:$,ref:D},r)))}),Tle=["children","className","width","height","style","compact","title","desc"];function Mle(e,t){if(e==null)return{};var r,n,o=$le(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function $le(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _z=m.forwardRef((e,t)=>{var{children:r,className:n,width:o,height:a,style:i,compact:l,title:c,desc:d}=e,u=Mle(e,Tle),f=ya(u);return l?m.createElement(x3,{otherAttributes:f,title:c,desc:d},r):m.createElement(Ele,{className:n,style:i,width:o,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},m.createElement(x3,{otherAttributes:f,title:c,desc:d,ref:t},m.createElement(die,null,r)))}),zle=["width","height"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eb.apply(null,arguments)}function Dle(e,t){if(e==null)return{};var r,n,o=Ile(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ile(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Rle={top:5,right:5,bottom:5,left:5},Nle={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Rle,reverseStackOrder:!1,syncMethod:"index"},Ez=m.forwardRef(function(t,r){var n,o=bn(t.categoricalChartProps,Nle),{width:a,height:i}=o,l=Dle(o,zle);if(!ac(a)||!ac(i))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:p}=t,h={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return m.createElement(Pz,{preloadedState:{options:h},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:c},m.createElement(tz,{chartData:p.data}),m.createElement(Az,{width:a,height:i,layout:o.layout,margin:o.margin}),m.createElement(Oz,{accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className}),m.createElement(_z,Eb({},l,{width:a,height:i,ref:r})))}),Lle=["axis"],Tz=m.forwardRef((e,t)=>m.createElement(Ez,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Lle,tooltipPayloadSearcher:U2,categoricalChartProps:e,ref:t})),Fle=["axis","item"],Ble=m.forwardRef((e,t)=>m.createElement(Ez,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Fle,tooltipPayloadSearcher:U2,categoricalChartProps:e,ref:t}));function Ule(e){var t=kt();return m.useEffect(()=>{t(ple(e))},[t,e]),null}var Wle=["width","height","layout"];function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(null,arguments)}function qle(e,t){if(e==null)return{};var r,n,o=Hle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Hle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vle={top:5,right:5,bottom:5,left:5},Kle={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Vle,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Yle=m.forwardRef(function(t,r){var n,o=bn(t.categoricalChartProps,Kle),{width:a,height:i,layout:l}=o,c=qle(o,Wle);if(!ac(a)||!ac(i))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=t,h={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return m.createElement(Pz,{preloadedState:{options:h},reduxStoreName:(n=o.id)!==null&&n!==void 0?n:d},m.createElement(tz,{chartData:o.data}),m.createElement(Az,{width:a,height:i,layout:l,margin:o.margin}),m.createElement(Oz,{accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className}),m.createElement(Ule,{cx:o.cx,cy:o.cy,startAngle:o.startAngle,endAngle:o.endAngle,innerRadius:o.innerRadius,outerRadius:o.outerRadius}),m.createElement(_z,Tb({width:a,height:i},c,{ref:r})))}),Qle=["item"],Gle={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Mz=m.forwardRef((e,t)=>{var r=bn(e,Gle);return m.createElement(Yle,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Qle,tooltipPayloadSearcher:U2,categoricalChartProps:r,ref:t})});const $y=w.div`
  min-height: calc(100vh - 72px);
  background-color: var(--color-background);
  position: relative;
  
  /* Subtle architectural grid background */
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      linear-gradient(rgba(0,0,0,0.01) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,0,0,0.01) 1px, transparent 1px);
    background-size: var(--space-7) var(--space-7);
    pointer-events: none;
    z-index: 0;
  }

  @media (max-width: 768px) {
    min-height: calc(100vh - 64px);
  }
`,zy=w.div`
  padding: var(--space-6);
  max-width: 1400px;
  margin: 0 auto;
  position: relative;
  z-index: 1;
  
  @media (max-width: 768px) {
    padding: var(--space-4);
  }
`,w3=w.div`
  margin-bottom: var(--space-6);
`,S3=w.h1`
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-thin);
  color: var(--color-primary);
  margin-bottom: var(--space-4);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  letter-spacing: -0.025em;
  line-height: var(--line-height-compressed);
  text-transform: uppercase;
`,Xle=w.div`
  display: flex;
  gap: var(--space-3);
  margin-bottom: var(--space-5);
`,Jle=w.button`
  padding: var(--space-3) var(--space-4);
  border: 2px solid ${e=>e.active?"var(--color-accent)":"var(--color-border)"};
  background: ${e=>e.active?"var(--color-accent)":"var(--color-background)"};
  color: ${e=>e.active?"var(--color-text-inverse)":"var(--color-text-primary)"};
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.05em;

  &:hover {
    background: ${e=>e.active?"var(--color-accent-hover)":"var(--color-surface)"};
    border-color: ${e=>e.active?"var(--color-accent-hover)":"var(--color-accent)"};
    transform: translateY(-1px);
  }
`,Zle=w.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-5);
  margin-bottom: var(--space-6);
`,Gs=w.div`
  padding: var(--space-5);
  background-color: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-paper);
  text-align: center;
  transition: all 0.2s ease-in-out;
  
  &:hover {
    box-shadow: var(--shadow-elevation);
    transform: translateY(-1px);
  }
`,Xs=w.div`
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-thin);
  color: var(--color-accent);
  margin-bottom: var(--space-2);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  letter-spacing: -0.02em;
`,Js=w.div`
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  font-weight: var(--font-weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,ece=w.div`
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-6);
  
  @media (min-width: 1024px) {
    grid-template-columns: 2fr 1fr;
  }
`,Zs=w.div`
  padding: var(--space-5);
  background-color: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-paper);
  transition: all 0.2s ease-in-out;
  
  &:hover {
    box-shadow: var(--shadow-elevation);
  }
`,el=w.h3`
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin-bottom: var(--space-4);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  text-transform: uppercase;
  letter-spacing: -0.01em;
`,tce=w.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
`,rce={建設:"#F97316",製造:"#FB923C",IT:"#FED7AA",小売:"#EA580C",サービス:"#DC2626",不動産:"#FBBF24",金融:"#F59E0B",医療:"#D97706",教育:"#FDE68A",その他:"#FCA5A5"},j3=["#F97316","#FB923C","#FED7AA","#EA580C","#DC2626","#FBBF24","#F59E0B","#D97706"],nce=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  max-height: 400px;
  overflow-y: auto;
  overflow-x: auto;
  
  @media (max-width: 768px) {
    -webkit-overflow-scrolling: touch;
  }
`,oce=w.div`
  display: flex;
  align-items: flex-start;
  padding: var(--space-4);
  background: ${e=>e.completed?"var(--color-surface-alt)":"var(--color-background)"};
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  gap: var(--space-3);
  transition: all 0.2s ease-in-out;
  min-width: 300px;

  &:hover {
    box-shadow: var(--shadow-elevation);
    border-color: var(--color-accent);
    transform: translateY(-1px);
  }
  
  @media (max-width: 400px) {
    min-width: 280px;
    padding: var(--space-3);
  }
`,ace=w.input`
  margin-top: 2px;
  width: 18px;
  height: 18px;
  accent-color: var(--color-success);
`,ice=w.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
`,sce=w.div`
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: ${e=>e.completed?"var(--color-text-tertiary)":"var(--color-text-primary)"};
  text-decoration: ${e=>e.completed?"line-through":"none"};
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
`,lce=w.div`
  display: flex;
  gap: var(--space-4);
  align-items: center;
  flex-wrap: wrap;
`,cce=w.span`
  font-size: var(--font-size-micro);
  color: var(--color-primary);
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-none);
  font-weight: var(--font-weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,uce=w.span`
  font-size: var(--font-size-micro);
  color: ${e=>e.overdue?"var(--color-error)":"var(--color-warning)"};
  background: var(--color-surface-alt);
  border: 1px solid ${e=>e.overdue?"var(--color-error)":"var(--color-warning)"};
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-none);
  font-weight: var(--font-weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,dce=w.span`
  font-size: var(--font-size-micro);
  color: var(--color-text-tertiary);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
`,fce=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(!0),[o,a]=m.useState(30),[i,l]=m.useState([]),[c,d]=m.useState({}),[u,f]=m.useState([]),[p,h]=m.useState(!1),[g,x]=m.useState({count:!0,completedActions:!0,customerCount:!0}),y=[{value:7,label:"7日間"},{value:30,label:"30日間"},{value:90,label:"90日間"}];m.useEffect(()=>{const T=localStorage.getItem("actionCompletionStates");if(T)try{d(JSON.parse(T))}catch(R){console.error("Failed to parse saved action states:",R)}},[]),m.useEffect(()=>{j(!0),b()},[o]),m.useEffect(()=>{const T=()=>{console.log("Page focused, keeping checkbox states")};return window.addEventListener("focus",T),()=>window.removeEventListener("focus",T)},[]);const v=(T,R)=>{const G=i[T],Q=`${G.reportId}_${G.text}`,se=[...i];se[T]={...se[T],completed:R},l(se);const re={...c,[Q]:R};d(re),localStorage.setItem("actionCompletionStates",JSON.stringify(re)),localStorage.setItem("currentActionsList",JSON.stringify(se)),S(se),R?q.success("アクションを完了しました"):q.success("アクションを未完了に戻しました")},S=T=>{if(!(e!=null&&e.dailyReports))return;const R={};T.forEach(Q=>{const se=new Date(Q.reportDate).toISOString().split("T")[0];R[se]||(R[se]={total:0,completed:0}),R[se].total++,Q.completed&&R[se].completed++});const G=e.dailyReports.map(Q=>{var se;return{...Q,completedActions:((se=R[Q.date])==null?void 0:se.completed)||0}});t(Q=>({...Q,dailyReports:G}))},b=async()=>{try{h(!0);const T=await kh.getPersonalIssues(o);f(T.issuesAnalysis||[])}catch(T){console.error("Issues analysis fetch error:",T)}finally{h(!1)}},j=async(T=!1)=>{var R,G,Q,se;try{if(!T&&i.length>0){console.log("Using cached actions data");return}n(!0),console.log("Fetching analytics data for period:",o);const re=await kh.getPersonalAnalytics(o);if(console.log("Analytics data received:",re),console.log("basicStats from API:",re.basicStats),console.log("Debug - total_reports:",(R=re.basicStats)==null?void 0:R.total_reports),console.log("Full API response:",JSON.stringify(re,null,2)),t(re),re.actionsList){console.log("Raw actionsList from API:",re.actionsList),console.log("Number of actions:",re.actionsList.length);const $=localStorage.getItem("actionCompletionStates"),V=$?JSON.parse($):{},U=re.actionsList.map(M=>{const ee=`${M.reportId}_${M.text}`,ae=V[ee];return{...M,completed:ae!==void 0?ae:M.completed}});console.log("Actions with saved states:",U),l(U),localStorage.setItem("currentActionsList",JSON.stringify(U)),U.length>0&&setTimeout(()=>S(U),100)}}catch(re){console.error("Analytics fetch error:",re),console.error("Error details:",(G=re.response)==null?void 0:G.data),q.error("分析データの取得に失敗しました: "+(((se=(Q=re.response)==null?void 0:Q.data)==null?void 0:se.error)||re.message))}finally{n(!1)}};if(r)return s.jsx($y,{children:s.jsx(zy,{children:s.jsx(tce,{children:"データを読み込み中..."})})});if(!e)return s.jsx($y,{children:s.jsxs(zy,{children:[s.jsx(w3,{children:s.jsx(S3,{children:"マイ分析"})}),s.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[s.jsx("p",{children:"データが取得できませんでした"}),s.jsx("button",{onClick:j,children:"再試行"})]})]})});console.log("Rendering analytics data:",e);const{basicStats:k={},dailyReports:C=[],customerAnalysis:O=[],industryAnalysis:D=[],relationshipAnalysis:I={}}=e,X=(()=>{const T=i.length,R=i.filter(Q=>Q.completed).length,G=T-R;return{total:T,completed:R,pending:G}})(),H=T=>{x(R=>({...R,[T]:!R[T]}))};return s.jsx($y,{children:s.jsxs(zy,{children:[s.jsxs(w3,{children:[s.jsx(S3,{children:"マイ分析"}),s.jsx(Xle,{children:y.map(T=>s.jsx(Jle,{active:o===T.value,onClick:()=>a(T.value),children:T.label},T.value))})]}),s.jsxs(Zle,{children:[s.jsxs(Gs,{children:[s.jsx(Xs,{children:k.total_reports}),s.jsx(Js,{children:"総日報数"})]}),s.jsxs(Gs,{children:[s.jsx(Xs,{children:k.unique_customers}),s.jsx(Js,{children:"取引先数"})]}),s.jsxs(Gs,{children:[s.jsx(Xs,{children:X.total}),s.jsx(Js,{children:"アクション項目数"})]}),s.jsxs(Gs,{children:[s.jsx(Xs,{style:{color:"var(--color-success)"},children:X.completed}),s.jsx(Js,{children:"アクション完了数"})]}),s.jsxs(Gs,{children:[s.jsx(Xs,{style:{color:"var(--color-warning)"},children:X.pending}),s.jsx(Js,{children:"アクション未完了数"})]}),s.jsxs(Gs,{children:[s.jsx(Xs,{children:(I==null?void 0:I.reportsWithPersonalInfo)||0}),s.jsx(Js,{children:"関係構築情報あり"})]})]}),s.jsxs(ece,{children:[s.jsxs(Zs,{children:[s.jsx(el,{children:"日別活動推移"}),C&&C.length>0?s.jsx(Fu,{width:"100%",height:window.innerWidth<768?250:300,children:s.jsxs(Tz,{data:C,children:[s.jsx(gv,{strokeDasharray:"3 3"}),s.jsx(Cd,{dataKey:"date",tickFormatter:T=>new Date(T).toLocaleDateString("ja-JP",{month:"2-digit",day:"2-digit"})}),s.jsx(Pd,{}),s.jsx(Nu,{labelFormatter:T=>new Date(T).toLocaleDateString("ja-JP"),formatter:(T,R)=>[T,{count:"日報数",completedActions:"アクション完了数",customerCount:"取引先数"}[R]||R]}),s.jsx(Pm,{onClick:T=>{T&&T.dataKey&&H(T.dataKey)},wrapperStyle:{cursor:"pointer",userSelect:"none"}}),s.jsx(Uu,{type:"monotone",dataKey:"count",stroke:g.count?"#F97316":"transparent",strokeWidth:2,dot:g.count?{fill:"#F97316",r:4}:!1,name:"日報数",hide:!g.count}),s.jsx(Uu,{type:"monotone",dataKey:"completedActions",stroke:g.completedActions?"#10B981":"transparent",strokeWidth:2,dot:g.completedActions?{fill:"#10B981",r:4}:!1,name:"アクション完了数",hide:!g.completedActions}),s.jsx(Uu,{type:"monotone",dataKey:"customerCount",stroke:g.customerCount?"#FB923C":"transparent",strokeWidth:2,dot:g.customerCount?{fill:"#FB923C",r:4}:!1,name:"取引先数",hide:!g.customerCount})]})}):s.jsx("div",{style:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},children:"データがありません"})]}),s.jsxs(Zs,{children:[s.jsx(el,{children:"業界分析"}),D&&D.length>0?s.jsx(Fu,{width:"100%",height:300,children:s.jsxs(Mz,{children:[s.jsx(rS,{data:D,cx:"50%",cy:"50%",innerRadius:0,outerRadius:80,fill:"#F97316",dataKey:"count",nameKey:"industry",label:T=>{const R=D.reduce((Q,se)=>Q+se.count,0),G=(T.count/R*100).toFixed(0);return G>=3?`${T.industry.length>8?T.industry.substring(0,8)+"...":T.industry} ${G}%`:""},labelLine:{stroke:"#666",strokeWidth:1},children:D.map((T,R)=>s.jsx(Mc,{fill:rce[T.industry]||j3[R%j3.length]},`cell-${R}`))}),s.jsx(Nu,{formatter:(T,R,G)=>[`${T}件`,G.payload.industry]})]})}):s.jsx("div",{style:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},children:"データがありません"})]}),s.jsxs(Zs,{children:[s.jsx(el,{children:"顧客別商談数（Top 10）"}),O&&O.length>0?s.jsx("div",{style:{padding:"20px",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:(()=>{const T=Math.max(...O.map(R=>R.reportCount));return O.map((R,G)=>s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[s.jsx("span",{style:{fontWeight:"600",color:"var(--color-text-primary)"},children:R.customer}),s.jsxs("span",{style:{fontWeight:"bold",color:"var(--color-primary)",fontSize:"18px"},children:[R.reportCount,"件"]})]}),s.jsx("div",{style:{width:"100%",height:"12px",backgroundColor:"var(--color-border)",borderRadius:"6px",overflow:"hidden"},children:s.jsx("div",{style:{width:`${R.reportCount/T*100}%`,height:"100%",backgroundColor:"var(--color-primary)",borderRadius:"6px",transition:"width 0.3s ease"}})})]},G))})()}):s.jsx("div",{style:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},children:"データがありません"})]}),s.jsxs(Zs,{children:[s.jsx(el,{children:"よく使われる課題キーワード"}),u&&u.length>0?s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"var(--space-4)",padding:"var(--space-4)"},children:u.map((T,R)=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-3) var(--space-4)",backgroundColor:"var(--color-surface)",borderRadius:"var(--radius-none)",border:"2px solid var(--color-border)",transition:"all 0.2s"},children:[s.jsx("span",{style:{fontWeight:"var(--font-weight-medium)",color:"var(--color-text-primary)",fontSize:"var(--font-size-small)"},children:T.keyword}),s.jsx("span",{style:{backgroundColor:"var(--color-primary)",color:"var(--color-text-inverse)",padding:"var(--space-1) var(--space-2)",borderRadius:"var(--radius-none)",fontSize:"var(--font-size-micro)",fontWeight:"var(--font-weight-bold)",minWidth:"24px",textAlign:"center"},children:T.count})]},R))}):s.jsx("div",{style:{height:"200px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},children:"データがありません"})]})]}),i&&i.length>0&&s.jsxs(Zs,{style:{marginTop:"var(--space-6)"},children:[s.jsx(el,{children:"アクション一覧"}),s.jsx(nce,{children:i.map((T,R)=>s.jsxs(oce,{completed:T.completed,children:[s.jsx(ace,{type:"checkbox",checked:T.completed,onChange:G=>v(R,G.target.checked)}),s.jsxs(ice,{children:[s.jsx(sce,{completed:T.completed,children:T.text}),s.jsxs(lce,{children:[s.jsx(cce,{children:T.customer}),T.dueDate&&s.jsxs(uce,{overdue:new Date(T.dueDate)<new Date&&!T.completed,children:["期限: ",new Date(T.dueDate).toLocaleDateString("ja-JP")]}),s.jsx(dce,{children:new Date(T.reportDate).toLocaleDateString("ja-JP")})]})]})]},R))})]}),I&&I.topHobbies&&I.topHobbies.length>0&&s.jsxs(Zs,{style:{marginTop:"var(--space-6)"},children:[s.jsx(el,{children:"顧客の趣味・関心事（Top 10）"}),I.topHobbies.length===1?s.jsx("div",{style:{padding:"20px"},children:I.topHobbies.map((T,R)=>s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[s.jsx("span",{style:{fontWeight:"600",color:"var(--color-text-primary)"},children:T.hobby}),s.jsxs("span",{style:{fontWeight:"bold",color:"var(--color-accent)",fontSize:"18px"},children:[T.count,"件"]})]}),s.jsx("div",{style:{width:"100%",height:"12px",backgroundColor:"var(--color-border)",borderRadius:"6px",overflow:"hidden"},children:s.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"var(--color-accent)",borderRadius:"6px",transition:"width 0.3s ease"}})})]},R))}):s.jsx(Fu,{width:"100%",height:window.innerWidth<768?Math.max(180,Math.min(250,I.topHobbies.length*35)):Math.max(200,I.topHobbies.length*40),children:s.jsxs(Ble,{data:I.topHobbies,children:[s.jsx(gv,{strokeDasharray:"3 3"}),s.jsx(Cd,{dataKey:"hobby"}),s.jsx(Pd,{}),s.jsx(Nu,{}),s.jsx(Z$,{dataKey:"count",fill:"#F97316"})]})})]})]})})},Dy=w.div`
  min-height: calc(100vh - 72px);
  background-color: var(--color-background);
  position: relative;
  
  /* Subtle architectural grid background */
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      linear-gradient(rgba(0,0,0,0.01) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,0,0,0.01) 1px, transparent 1px);
    background-size: var(--space-7) var(--space-7);
    pointer-events: none;
    z-index: 0;
  }

  @media (max-width: 768px) {
    min-height: calc(100vh - 64px);
  }
`,Iy=w.div`
  padding: var(--space-6);
  max-width: 1400px;
  margin: 0 auto;
  position: relative;
  z-index: 1;
  
  @media (max-width: 768px) {
    padding: var(--space-4);
  }
`,k3=w.div`
  margin-bottom: var(--space-6);
`,C3=w.h1`
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-thin);
  color: var(--color-primary);
  margin-bottom: var(--space-4);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  letter-spacing: -0.025em;
  line-height: var(--line-height-compressed);
  text-transform: uppercase;
`,pce=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-5);
  flex-wrap: wrap;
  gap: var(--space-4);
`,hce=w.div`
  display: flex;
  gap: var(--space-3);
`,vce=w.button`
  padding: var(--space-3) var(--space-4);
  border: 2px solid ${e=>e.active?"var(--color-primary)":"var(--color-border)"};
  background: ${e=>e.active?"var(--color-primary)":"var(--color-background)"};
  color: ${e=>e.active?"var(--color-text-inverse)":"var(--color-text-primary)"};
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.05em;

  &:hover {
    background: ${e=>e.active?"var(--color-accent)":"var(--color-surface)"};
    border-color: ${e=>e.active?"var(--color-accent)":"var(--color-primary)"};
    transform: translateY(-1px);
  }
`,mce=w.div`
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
`,gce=w.button`
  padding: var(--space-2) var(--space-3);
  border: 2px solid ${e=>e.selected?"var(--color-primary)":"var(--color-border)"};
  background: ${e=>e.selected?"var(--color-surface)":"var(--color-background)"};
  color: ${e=>e.selected?"var(--color-primary)":"var(--color-text-secondary)"};
  border-radius: var(--radius-none);
  font-size: var(--font-size-micro);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;

  &:hover {
    border-color: var(--color-primary);
    background: var(--color-surface);
    transform: translateY(-1px);
  }
`,yce=w.div`
  display: flex;
  gap: var(--space-2);
  margin-bottom: var(--space-4);
`,xce=w.button`
  padding: var(--space-2) var(--space-3);
  border: 2px solid ${e=>e.selected?"var(--color-primary)":"var(--color-border)"};
  background: ${e=>e.selected?"var(--color-primary)":"var(--color-background)"};
  color: ${e=>e.selected?"var(--color-text-inverse)":"var(--color-text-secondary)"};
  border-radius: var(--radius-none);
  font-size: var(--font-size-micro);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.05em;

  &:hover {
    background: ${e=>e.selected?"var(--color-accent)":"var(--color-surface)"};
    border-color: ${e=>e.selected?"var(--color-accent)":"var(--color-primary)"};
    transform: translateY(-1px);
  }
`,bce=w.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-5);
  margin-bottom: var(--space-6);
`,Ri=w.div`
  padding: var(--space-5);
  background-color: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-paper);
  text-align: center;
  transition: all 0.2s ease-in-out;
  
  &:hover {
    box-shadow: var(--shadow-elevation);
    transform: translateY(-1px);
  }
`,Ni=w.div`
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-thin);
  color: var(--color-primary);
  margin-bottom: var(--space-2);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  letter-spacing: -0.02em;
`,Li=w.div`
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  font-weight: var(--font-weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,wce=w.div`
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-6);
  
  @media (min-width: 1024px) {
    grid-template-columns: 2fr 1fr;
  }
`,tl=w.div`
  padding: var(--space-5);
  background-color: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-paper);
  transition: all 0.2s ease-in-out;
  
  &:hover {
    box-shadow: var(--shadow-elevation);
  }
`,rl=w.h3`
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin-bottom: var(--space-4);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  text-transform: uppercase;
  letter-spacing: -0.01em;
`,Sce=w.div`
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  margin-top: var(--space-4);
  border-radius: var(--radius-none);
  border: 2px solid var(--color-border);
  
  /* スクロールバーのスタイリング */
  &::-webkit-scrollbar {
    height: 6px;
  }
  
  &::-webkit-scrollbar-track {
    background: var(--color-surface-alt);
    border-radius: 3px;
  }
  
  &::-webkit-scrollbar-thumb {
    background: var(--color-text-tertiary);
    border-radius: 3px;
  }
  
  &::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-secondary);
  }
  
  @media (max-width: 768px) {
    margin: var(--space-3) calc(-1 * var(--space-4));
    border-radius: 0;
    border-left: none;
    border-right: none;
  }
`,jce=w.table`
  width: 100%;
  min-width: 800px; /* 最小幅を設定してスクロールを有効化 */
  border-collapse: collapse;
  background: var(--color-background);
  
  @media (max-width: 768px) {
    min-width: 900px; /* モバイルではより広い最小幅 */
  }
`,_a=w.th`
  text-align: left;
  padding: var(--space-3);
  border-bottom: 2px solid var(--color-border);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  white-space: nowrap;
  background: var(--color-surface);
  font-size: var(--font-size-small);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  @media (max-width: 768px) {
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-micro);
  }
`,Ea=w.td`
  padding: var(--space-3);
  border-bottom: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  white-space: nowrap;
  font-size: var(--font-size-small);
  
  @media (max-width: 768px) {
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-micro);
  }
`,kce=w.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
`,Cce={建設:"#000000",製造:"#1A1A1A",IT:"#333333",小売:"#4A4A4A",サービス:"#666666",不動産:"#888888",金融:"#AAAAAA",医療:"#CCCCCC",教育:"#E8E8E8",その他:"#2563EB"},P3=["#000000","#1A1A1A","#333333","#4A4A4A","#666666","#888888","#2563EB","#E8E8E8"],Pce=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(!0),[o,a]=m.useState("date"),[i,l]=m.useState(30),[c,d]=m.useState([]),[u,f]=m.useState([]),[p,h]=m.useState({}),[g,x]=m.useState("count"),[y,v]=m.useState([]),[S,b]=m.useState(!1),j=[{value:7,label:"7日間"},{value:30,label:"30日間"},{value:90,label:"90日間"}],k=[{value:"count",label:"日報数",color:"#000000"},{value:"completedActions",label:"アクション完了数",color:"#000000"},{value:"customerCount",label:"取引先数",color:"#333333"}];m.useEffect(()=>{const U=localStorage.getItem("actionCompletionStates");if(U)try{h(JSON.parse(U))}catch(M){console.error("Failed to parse saved individual action states:",M)}},[]),m.useEffect(()=>{C()},[]),m.useEffect(()=>{O(),D()},[i,c]),m.useEffect(()=>{const U=()=>{console.log("Team Analytics page focused, refetching data"),O()};return window.addEventListener("focus",U),()=>window.removeEventListener("focus",U)},[i,c]);const C=async()=>{try{const U=await Bd.getTeamMembers();f(U)}catch(U){console.error("Team members fetch error:",U),q.error("チームメンバーの取得に失敗しました")}},O=async()=>{try{n(!0);const U=await kh.getTeamAnalytics(i,c);t(U)}catch(U){console.error("Team analytics fetch error:",U),q.error("チーム分析データの取得に失敗しました")}finally{n(!1)}},D=async()=>{try{b(!0);const U=await kh.getTeamIssues(i,c);v(U.issuesAnalysis||[])}catch(U){console.error("Team issues analysis fetch error:",U)}finally{b(!1)}},I=U=>{d(M=>M.includes(U)?M.filter(ee=>ee!==U):[...M,U])};if(r)return s.jsx(Dy,{children:s.jsx(Iy,{children:s.jsx(kce,{children:"データを読み込み中..."})})});if(!e)return s.jsx(Dy,{children:s.jsxs(Iy,{children:[s.jsx(k3,{children:s.jsx(C3,{children:"チーム分析"})}),s.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[s.jsx("p",{children:"データが取得できませんでした"}),s.jsx("button",{onClick:O,children:"再試行"})]})]})});const{teamStats:K={},memberStats:X=[],dailyReports:H=[],customerAnalysis:T=[],industryAnalysis:R=[],teamActionsList:G=[]}=e,se=(()=>{if(!G||G.length===0)return{total:0,completed:0,pending:0};const U=G.length,M=G.filter(ae=>{const pe=`${ae.reportId}_${ae.text}`;return p[pe]||!1}).length,ee=U-M;return{total:U,completed:M,pending:ee}})(),$=(U=>!U||!G?U:U.map(M=>{const ee=G.filter(pe=>new Date(pe.reportDate).toISOString().split("T")[0]===M.date),ae=ee.filter(pe=>{const ge=`${pe.reportId}_${pe.text}`;return p[ge]||!1}).length;return{...M,completedActions:ae,actionCount:ee.length}}))(H),V=()=>k.find(U=>U.value===g)||k[0];return s.jsx(Dy,{children:s.jsxs(Iy,{children:[s.jsxs(k3,{children:[s.jsx(C3,{children:"チーム分析"}),s.jsxs(pce,{children:[s.jsx(hce,{children:j.map(U=>s.jsx(vce,{active:i===U.value,onClick:()=>l(U.value),children:U.label},U.value))}),s.jsxs(mce,{children:[s.jsx("span",{style:{alignSelf:"center",marginRight:"var(--space-2)",fontSize:"var(--font-size-small)"},children:"メンバー:"}),u.map(U=>s.jsx(gce,{selected:c.includes(U.id),onClick:()=>I(U.id),children:U.name},U.id))]})]})]}),s.jsxs(bce,{children:[s.jsxs(Ri,{children:[s.jsx(Ni,{children:K.total_reports}),s.jsx(Li,{children:"総日報数"})]}),s.jsxs(Ri,{children:[s.jsx(Ni,{children:K.total_members}),s.jsx(Li,{children:"チームメンバー数"})]}),s.jsxs(Ri,{children:[s.jsx(Ni,{children:K.unique_customers}),s.jsx(Li,{children:"取引先数"})]}),s.jsxs(Ri,{children:[s.jsx(Ni,{children:se.total}),s.jsx(Li,{children:"総アクション数"})]}),s.jsxs(Ri,{children:[s.jsx(Ni,{style:{color:"#000000"},children:se.completed}),s.jsx(Li,{children:"アクション完了数"})]}),s.jsxs(Ri,{children:[s.jsx(Ni,{style:{color:"#2563EB"},children:se.pending}),s.jsx(Li,{children:"アクション未完了数"})]}),s.jsxs(Ri,{children:[s.jsxs(Ni,{children:[K.total_reports>0?Math.round(K.completed_reports/K.total_reports*100):0,"%"]}),s.jsx(Li,{children:"日報完了率"})]})]}),s.jsxs(tl,{style:{marginBottom:"var(--space-6)"},children:[s.jsx(rl,{children:"メンバー別パフォーマンス"}),X&&X.length>0?s.jsx(Sce,{children:s.jsxs(jce,{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx(_a,{children:"メンバー"}),s.jsx(_a,{children:"日報数"}),s.jsx(_a,{children:"日報完了数"}),s.jsx(_a,{children:"日報完了率"}),s.jsx(_a,{children:"取引先数"}),s.jsx(_a,{children:"アクション完了数"}),s.jsx(_a,{children:"アクション未完了数"}),s.jsx(_a,{children:"アクション完了率"})]})}),s.jsx("tbody",{children:X.map(U=>{const M=G.filter(pe=>pe.userId===U.userId),ee=M.filter(pe=>{const ge=`${pe.reportId}_${pe.text}`;return p[ge]||!1}),ae=M.length>0?Math.round(ee.length/M.length*100):0;return s.jsxs("tr",{children:[s.jsx(Ea,{style:{fontWeight:"var(--font-weight-medium)"},children:U.name}),s.jsx(Ea,{children:U.reportCount}),s.jsx(Ea,{children:U.completedCount}),s.jsxs(Ea,{children:[U.completionRate,"%"]}),s.jsx(Ea,{children:U.customerCount}),s.jsx(Ea,{style:{color:"var(--color-success)",fontWeight:"var(--font-weight-medium)"},children:ee.length}),s.jsx(Ea,{style:{color:"var(--color-warning)",fontWeight:"var(--font-weight-medium)"},children:M.length-ee.length}),s.jsxs(Ea,{style:{color:ae>=80?"var(--color-success)":ae>=50?"var(--color-warning)":"var(--color-error)",fontWeight:"var(--font-weight-medium)"},children:[ae,"%"]})]},U.userId)})})]})}):s.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--color-text-secondary)"},children:"データがありません"})]}),s.jsxs(wce,{children:[s.jsxs(tl,{children:[s.jsx(rl,{children:"日別活動推移"}),s.jsx(yce,{children:k.map(U=>s.jsx(xce,{selected:g===U.value,onClick:()=>x(U.value),children:U.label},U.value))}),$&&$.length>0?s.jsx(Fu,{width:"100%",height:300,children:s.jsxs(Tz,{data:$,children:[s.jsx(gv,{strokeDasharray:"3 3"}),s.jsx(Cd,{dataKey:"date",tickFormatter:U=>new Date(U).toLocaleDateString("ja-JP",{month:"2-digit",day:"2-digit"})}),s.jsx(Pd,{}),s.jsx(Nu,{labelFormatter:U=>new Date(U).toLocaleDateString("ja-JP"),formatter:U=>[U,V().label]}),s.jsx(Uu,{type:"monotone",dataKey:g,stroke:V().color,strokeWidth:2,dot:{fill:V().color}})]})}):s.jsx("div",{style:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},children:"データがありません"})]}),s.jsxs(tl,{children:[s.jsx(rl,{children:"業界分析"}),R&&R.length>0?s.jsx(Fu,{width:"100%",height:300,children:s.jsxs(Mz,{children:[s.jsx(rS,{data:R,cx:"50%",cy:"50%",innerRadius:0,outerRadius:80,fill:"#8884d8",dataKey:"count",nameKey:"industry",label:U=>{const M=R.reduce((ae,pe)=>ae+pe.count,0),ee=(U.count/M*100).toFixed(0);return ee>=3?`${U.industry.length>8?U.industry.substring(0,8)+"...":U.industry} ${ee}%`:""},labelLine:{stroke:"#666",strokeWidth:1},children:R.map((U,M)=>s.jsx(Mc,{fill:Cce[U.industry]||P3[M%P3.length]},`cell-${M}`))}),s.jsx(Nu,{formatter:(U,M,ee)=>[`${U}件`,ee.payload.industry]})]})}):s.jsx("div",{style:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},children:"データがありません"})]}),s.jsxs(tl,{children:[s.jsx(rl,{children:"顧客別商談数（Top 10）"}),T&&T.length>0?s.jsx("div",{style:{padding:"20px"},children:(()=>{const U=Math.max(...T.map(M=>M.reportCount));return T.map((M,ee)=>s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[s.jsx("span",{style:{fontWeight:"600",color:"var(--color-text-primary)"},children:M.customer}),s.jsxs("span",{style:{fontWeight:"bold",color:"var(--color-primary)",fontSize:"18px"},children:[M.reportCount,"件"]})]}),s.jsx("div",{style:{width:"100%",height:"12px",backgroundColor:"var(--color-border)",borderRadius:"6px",overflow:"hidden"},children:s.jsx("div",{style:{width:`${M.reportCount/U*100}%`,height:"100%",backgroundColor:"var(--color-primary)",borderRadius:"6px",transition:"width 0.3s ease"}})})]},ee))})()}):s.jsx("div",{style:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666"},children:"データがありません"})]})]}),y&&y.length>0&&s.jsxs(tl,{style:{marginTop:"var(--space-6)"},children:[s.jsx(rl,{children:"チームでよく使われる課題キーワード"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"var(--space-4)",padding:"var(--space-4)"},children:y.map((U,M)=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-3) var(--space-4)",backgroundColor:"var(--color-surface)",borderRadius:"var(--radius-none)",border:"2px solid var(--color-border)",transition:"all 0.2s"},children:[s.jsx("span",{style:{fontWeight:"var(--font-weight-medium)",color:"var(--color-text-primary)",fontSize:"var(--font-size-small)"},children:U.keyword}),s.jsx("span",{style:{backgroundColor:"var(--color-primary)",color:"var(--color-text-inverse)",padding:"var(--space-1) var(--space-2)",borderRadius:"var(--radius-none)",fontSize:"var(--font-size-micro)",fontWeight:"var(--font-weight-bold)",minWidth:"24px",textAlign:"center"},children:U.count})]},M))})]}),G&&G.length>0&&s.jsxs(tl,{style:{marginTop:"var(--space-6)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-4)"},children:[s.jsx(rl,{style:{marginBottom:0},children:"チーム全体のアクション一覧"}),s.jsx("div",{style:{display:"flex",gap:"var(--space-2)"},children:s.jsxs("select",{value:o,onChange:U=>a(U.target.value),style:{padding:"var(--space-2) var(--space-3)",borderRadius:"var(--radius-none)",border:"2px solid var(--color-border)",backgroundColor:"var(--color-background)",fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-medium)",color:"var(--color-text-secondary)",cursor:"pointer"},children:[s.jsx("option",{value:"date",children:"日付別"}),s.jsx("option",{value:"customer",children:"顧客別"}),s.jsx("option",{value:"member",children:"メンバー別"}),s.jsx("option",{value:"status",children:"ステータス別"})]})})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-4)",maxHeight:"600px",overflowY:"auto",padding:"var(--space-1)"},children:(()=>{const U={};return G.forEach(ee=>{let ae;switch(o){case"date":ae=new Date(ee.reportDate).toLocaleDateString("ja-JP");break;case"customer":ae=ee.customer;break;case"member":ae=ee.userName;break;case"status":const pe=`${ee.reportId}_${ee.text}`;ae=p[pe]?"完了済み":"未完了";break;default:ae="その他"}U[ae]||(U[ae]=[]),U[ae].push(ee)}),Object.entries(U).sort((ee,ae)=>o==="date"?new Date(ae[0])-new Date(ee[0]):o==="status"?ee[0]==="未完了"?-1:1:ee[0].localeCompare(ae[0])).map(([ee,ae],pe)=>s.jsxs("div",{style:{background:"var(--color-surface)",borderRadius:"var(--radius-none)",padding:"var(--space-4)",border:"2px solid var(--color-border)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"var(--space-3)",gap:"var(--space-2)"},children:[s.jsx("h4",{style:{fontSize:"var(--font-size-title)",fontWeight:"var(--font-weight-bold)",color:"var(--color-text-primary)",margin:0},children:ee}),s.jsxs("span",{style:{backgroundColor:"var(--color-surface-alt)",color:"var(--color-accent)",padding:"var(--space-1) var(--space-2)",borderRadius:"var(--radius-none)",fontSize:"var(--font-size-micro)",fontWeight:"var(--font-weight-bold)"},children:[ae.length,"件"]})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-2)"},children:ae.map((ge,ke)=>{const Te=`${ge.reportId}_${ge.text}`,ce=p[Te]||!1;return s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",padding:"var(--space-3)",background:"var(--color-background)",border:`2px solid ${ce?"var(--color-success)":"var(--color-border)"}`,borderRadius:"var(--radius-none)",gap:"var(--space-3)",transition:"all 0.2s",boxShadow:ce?"none":"0 1px 3px rgba(0,0,0,0.1)"},children:[s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:ce?"var(--color-success)":"var(--color-warning)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,marginTop:"2px"},children:ce?s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}):s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-medium)",color:ce?"var(--color-success)":"var(--color-warning)",textDecoration:ce?"line-through":"none",marginBottom:"var(--space-2)"},children:ge.text}),s.jsxs("div",{style:{display:"flex",gap:"var(--space-4)",alignItems:"center",flexWrap:"wrap"},children:[s.jsx("span",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-primary)",background:"var(--color-accent-light)",padding:"var(--space-1) var(--space-2)",borderRadius:"var(--radius-none)",fontWeight:"var(--font-weight-medium)"},children:ge.customer}),s.jsx("span",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-primary)",background:"var(--color-surface)",padding:"var(--space-1) var(--space-2)",borderRadius:"var(--radius-none)",fontWeight:"var(--font-weight-medium)"},children:ge.userName}),s.jsx("span",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)"},children:new Date(ge.reportDate).toLocaleDateString("ja-JP")}),s.jsx("span",{style:{fontSize:"var(--font-size-micro)",color:ce?"var(--color-success)":"var(--color-warning)",background:ce?"var(--color-surface-alt)":"var(--color-accent-light)",padding:"var(--space-1) var(--space-2)",borderRadius:"var(--radius-none)",fontWeight:"var(--font-weight-bold)"},children:ce?"✅ 完了済み":"⏳ 未完了"})]})]})]},ke)})})]},pe))})()})]})]})})},Ace=w.div`
  min-height: 100vh;
  min-height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-background);
  padding: var(--space-4);
  position: relative;
  overflow: hidden;

  /* Architectural grid background */
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      linear-gradient(rgba(0,0,0,0.01) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,0,0,0.01) 1px, transparent 1px);
    background-size: var(--space-7) var(--space-7);
    pointer-events: none;
    z-index: 0;
  }

  @media (max-width: 768px) {
    padding: var(--space-3);
  }
`,Oce=w.div`
  background-color: white;
  padding: var(--space-6);
  border-radius: var(--radius-none);
  border: 2px solid var(--color-border);
  box-shadow: var(--shadow-structure);
  width: 100%;
  max-width: 480px;
  position: relative;
  z-index: 1;
  
  /* Removed excessive corner details */

  @media (max-width: 768px) {
    padding: var(--space-7);
    max-width: 100%;
    margin: 0 auto;
    
    &::before,
    &::after {
      width: 16px;
      height: 16px;
    }
  }

  @media (max-width: 480px) {
    padding: var(--space-6);
  }
`,_ce=w.div`
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: var(--space-5);
  position: relative;

  @media (max-width: 768px) {
    margin-bottom: var(--space-3);
  }
`,Ece=w.div`
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: var(--space-3);
  position: relative;
  overflow: hidden;
  
  img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  @media (max-width: 768px) {
    width: 72px;
    height: 72px;
    margin-bottom: var(--space-2);
  }
`,Tce=w.h1`
  font-size: var(--font-size-heading);
  font-weight: var(--font-weight-bold);
  text-align: center;
  margin-bottom: var(--space-2);
  color: var(--color-accent);
  letter-spacing: -0.02em;
  line-height: var(--line-height-compressed);
  text-transform: uppercase;
  position: relative;
  
  /* Removed excessive underline accent */

  @media (max-width: 768px) {
    font-size: 2rem;
    
    &::after {
      width: 80px;
    }
  }

  @media (max-width: 480px) {
    font-size: 1.75rem;
    
    &::after {
      width: 60px;
    }
  }
`,Mce=w.p`
  text-align: center;
  color: var(--color-text-secondary);
  font-size: var(--font-size-body);
  margin-bottom: var(--space-6);
  line-height: var(--line-height-comfortable);
  font-weight: var(--font-weight-regular);

  @media (max-width: 768px) {
    font-size: var(--font-size-small);
    margin-bottom: var(--space-5);
  }
`,$ce=w.form`
  display: flex;
  flex-direction: column;
  gap: var(--space-4);

  @media (max-width: 768px) {
    gap: var(--space-4);
  }
`,nl=w.div`
  position: relative;
  display: flex;
  flex-direction: column;
`,ol=w.label`
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  margin-bottom: var(--space-2);
  transition: color 0.2s ease;
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,ap=w.div`
  position: relative;
`,A3=w.button`
  position: absolute;
  right: var(--space-4);
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: var(--color-text-secondary);
  cursor: pointer;
  padding: var(--space-2);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: color 0.2s ease;
  -webkit-tap-highlight-color: transparent;

  &:hover {
    color: var(--color-accent);
  }

  &:focus {
    outline: none;
    color: var(--color-accent);
  }

  svg {
    width: 20px;
    height: 20px;
  }
`,ip=w.input`
  width: 100%;
  padding: var(--space-5) var(--space-5);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-body);
  background-color: var(--color-background);
  transition: all 0.2s ease-in-out;
  color: var(--color-text-primary);
  font-family: inherit;
  font-weight: var(--font-weight-regular);
  -webkit-appearance: none;
  -webkit-tap-highlight-color: transparent;
  height: 52px;

  /* オートフィル時の背景色を白に固定 */
  &:-webkit-autofill,
  &:-webkit-autofill:hover,
  &:-webkit-autofill:focus,
  &:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px white inset !important;
    -webkit-text-fill-color: var(--color-text-primary) !important;
    background-color: var(--color-background) !important;
  }

  &::placeholder {
    color: var(--color-text-tertiary);
    transition: opacity 0.2s ease;
  }

  &:focus {
    outline: none;
    border-color: var(--color-accent);
    background-color: var(--color-background);
    box-shadow: var(--shadow-focused);
    
    &::placeholder {
      opacity: 0.6;
    }
  }

  &:disabled {
    background-color: var(--color-surface-alt);
    cursor: not-allowed;
    opacity: 0.7;
  }

  @media (max-width: 768px) {
    padding: var(--space-5) var(--space-4);
    height: 48px;
  }
`,O3=w.select`
  width: 100%;
  padding: var(--space-5) var(--space-5);
  height: 52px;
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-body);
  background-color: var(--color-background);
  transition: all 0.2s ease-in-out;
  color: var(--color-text-primary);
  font-family: inherit;
  font-weight: var(--font-weight-regular);
  -webkit-appearance: none;
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;

  /* オートフィル時の背景色を白に固定 */
  &:-webkit-autofill,
  &:-webkit-autofill:hover,
  &:-webkit-autofill:focus,
  &:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px white inset !important;
    -webkit-text-fill-color: var(--color-text-primary) !important;
    background-color: var(--color-background) !important;
  }

  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23888888' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  background-position: right var(--space-3) center;
  background-repeat: no-repeat;
  background-size: 1.2em 1.2em;
  padding-right: var(--space-7);

  &:focus {
    outline: none;
    border-color: var(--color-accent);
    background-color: var(--color-background);
    box-shadow: var(--shadow-focused);
  }

  &:disabled {
    background-color: var(--color-surface-alt);
    cursor: not-allowed;
    opacity: 0.7;
  }

  @media (max-width: 768px) {
    padding: var(--space-4) var(--space-7) var(--space-4) var(--space-4);
  }
`,Fi=w.div`
  color: var(--color-error);
  font-size: var(--font-size-small);
  margin-top: var(--space-2);
  font-weight: var(--font-weight-medium);
  line-height: var(--line-height-standard);
`,zce=w.button`
  background-color: var(--color-accent);
  color: var(--color-text-inverse);
  padding: var(--space-5) var(--space-6);
  border: 2px solid var(--color-accent);
  border-radius: var(--radius-none);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  margin-top: var(--space-3);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  position: relative;
  box-shadow: var(--shadow-elevation);
  -webkit-tap-highlight-color: transparent;

  &:hover:not(:disabled) {
    background-color: var(--color-accent-hover);
    border-color: var(--color-accent-hover);
    transform: translateY(-1px);
    box-shadow: var(--shadow-structure);
  }

  &:active:not(:disabled) {
    transform: translateY(0);
  }

  &:disabled {
    background-color: var(--color-text-tertiary);
    border-color: var(--color-text-tertiary);
    cursor: not-allowed;
    transform: none;
    box-shadow: var(--shadow-paper);
  }
  
  /* Removed excessive corner accent */

  @media (max-width: 768px) {
    padding: var(--space-5) var(--space-5);
    font-size: var(--font-size-small);
  }
`,Dce=w.div`
  height: 1px;
  background: var(--color-border);
  margin: var(--space-6) 0;
  position: relative;
  
  /* Removed excessive accent elements */

  @media (max-width: 768px) {
    margin: var(--space-5) 0;
  }
`,Ice=w.div`
  text-align: center;
  font-size: var(--font-size-body);
  color: var(--color-text-secondary);
  line-height: var(--line-height-standard);

  @media (max-width: 768px) {
    font-size: var(--font-size-small);
  }
`,Rce=w.button`
  color: var(--color-accent);
  text-decoration: none;
  font-weight: var(--font-weight-medium);
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  font-size: inherit;
  transition: all 0.2s ease;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  position: relative;
  -webkit-tap-highlight-color: transparent;

  &:hover {
    color: var(--color-primary);
    
    &::after {
      width: 100%;
    }
  }
  
  /* Simplified underline - only on hover */
  &::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 1px;
    background-color: var(--color-primary);
    transition: width 0.2s ease;
  }

  &:active {
    transform: translateY(1px);
  }
`,Nce=w.div`
  margin-top: var(--space-5);
  padding: var(--space-4);
  background-color: var(--color-accent-light);
  border-radius: var(--radius-none);
  border: 2px solid var(--color-accent);
  border-left: 6px solid var(--color-accent);
  position: relative;
  
  /* Removed excessive corner detail */

  @media (max-width: 768px) {
    margin-top: var(--space-5);
    padding: var(--space-4);
    
    &::after {
      width: 8px;
      height: 8px;
    }
  }
`,Lce=w.h4`
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin-bottom: var(--space-2);
  text-transform: uppercase;
  letter-spacing: 0.08em;
`,Fce=w.p`
  font-size: var(--font-size-small);
  color: var(--color-text-primary);
  line-height: var(--line-height-comfortable);
  margin: 0;
  
  strong {
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
  }
`,Bce=()=>{const e=Kt(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:o},watch:a}=HE(),[i,l]=m.useState([]),[c,d]=m.useState(!1),[u,f]=m.useState(!1),[p,h]=m.useState(!1),g=a("password"),x=a("role");m.useEffect(()=>{(async()=>{if(x==="sales"){h(!0);try{const b=await Bd.getManagers();l(b)}catch(b){console.error("Failed to fetch managers:",b),q.error("マネージャー一覧の取得に失敗しました")}finally{h(!1)}}else l([])})()},[x]);const y=async S=>{var b,j;try{const k={name:S.name,email:S.email,password:S.password,role:S.role};S.role==="sales"&&S.manager&&(k.manager_id=parseInt(S.manager)),await Ax.register(k),q.success("アカウントが作成されました。ログインしてください。"),e("/login")}catch(k){q.error(((j=(b=k.response)==null?void 0:b.data)==null?void 0:j.error)||"登録に失敗しました")}},v=()=>{e("/login")};return s.jsx(Ace,{children:s.jsxs(Oce,{children:[s.jsx(_ce,{children:s.jsx(Ece,{children:s.jsx("img",{src:"/logo.png",alt:"にっぽ係長"})})}),s.jsx(Tce,{children:"新規登録"}),s.jsx(Mce,{children:"にっぽ係長アカウント作成"}),s.jsxs($ce,{onSubmit:r(y),children:[s.jsxs(nl,{children:[s.jsx(ol,{htmlFor:"name",children:"名前"}),s.jsx(ap,{children:s.jsx(ip,{id:"name",type:"text",placeholder:"山田太郎",...t("name",{required:"名前を入力してください",minLength:{value:2,message:"名前は2文字以上である必要があります"}}),disabled:o})}),n.name&&s.jsx(Fi,{children:n.name.message})]}),s.jsxs(nl,{children:[s.jsx(ol,{htmlFor:"email",children:"メールアドレス"}),s.jsx(ap,{children:s.jsx(ip,{id:"email",type:"email",placeholder:"your.email@example.com",...t("email",{required:"メールアドレスを入力してください",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"有効なメールアドレスを入力してください"}}),disabled:o})}),n.email&&s.jsx(Fi,{children:n.email.message})]}),s.jsxs(nl,{children:[s.jsx(ol,{htmlFor:"password",children:"パスワード"}),s.jsxs(ap,{children:[s.jsx(ip,{id:"password",type:c?"text":"password",placeholder:"パスワードを入力",...t("password",{required:"パスワードを入力してください",minLength:{value:6,message:"パスワードは6文字以上である必要があります"}}),disabled:o,style:{paddingRight:"calc(var(--space-5) + 40px)"}}),s.jsx(A3,{type:"button",onClick:()=>d(!c),tabIndex:-1,"aria-label":c?"パスワードを隠す":"パスワードを表示",children:c?s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),s.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),n.password&&s.jsx(Fi,{children:n.password.message})]}),s.jsxs(nl,{children:[s.jsx(ol,{htmlFor:"confirmPassword",children:"パスワード確認"}),s.jsxs(ap,{children:[s.jsx(ip,{id:"confirmPassword",type:u?"text":"password",placeholder:"パスワードを再入力",...t("confirmPassword",{required:"パスワード確認を入力してください",validate:S=>S===g||"パスワードが一致しません"}),disabled:o,style:{paddingRight:"calc(var(--space-5) + 40px)"}}),s.jsx(A3,{type:"button",onClick:()=>f(!u),tabIndex:-1,"aria-label":u?"パスワードを隠す":"パスワードを表示",children:u?s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),s.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),n.confirmPassword&&s.jsx(Fi,{children:n.confirmPassword.message})]}),s.jsxs(nl,{children:[s.jsx(ol,{htmlFor:"role",children:"役職"}),s.jsxs(O3,{id:"role",...t("role",{required:"役職を選択してください"}),disabled:o,children:[s.jsx("option",{value:"",children:"選択してください"}),s.jsx("option",{value:"sales",children:"営業担当者"}),s.jsx("option",{value:"manager",children:"マネージャー"})]}),n.role&&s.jsx(Fi,{children:n.role.message})]}),x==="sales"&&s.jsxs(nl,{children:[s.jsx(ol,{htmlFor:"manager",children:"上司（マネージャー）"}),s.jsxs(O3,{id:"manager",...t("manager",{required:x==="sales"?"上司を選択してください":!1}),disabled:o||p,children:[s.jsx("option",{value:"",children:p?"読み込み中...":"上司を選択してください"}),i.map(S=>s.jsxs("option",{value:S.id,children:[S.name," (",S.email,")"]},S.id))]}),n.manager&&s.jsx(Fi,{children:n.manager.message}),i.length===0&&!p&&x==="sales"&&s.jsx(Fi,{children:"利用可能なマネージャーが見つかりません。システム管理者にお問い合わせください。"})]}),s.jsx(zce,{type:"submit",disabled:o,children:o?"登録中...":"アカウント作成"})]}),s.jsxs(Nce,{children:[s.jsx(Lce,{children:"役職について"}),s.jsxs(Fce,{children:[s.jsx("strong",{children:"営業担当者:"})," 自分の日報作成・閲覧",s.jsx("br",{}),s.jsx("strong",{children:"マネージャー:"})," 自分の日報 + 部下の日報閲覧・分析"]})]}),s.jsx(Dce,{}),s.jsxs(Ice,{children:["すでにアカウントをお持ちの方は"," ",s.jsx(Rce,{onClick:v,children:"ログイン"})]})]})})},Uce=()=>{const e=new URLSearchParams(window.location.search),t=e.get("salesforce_auth"),r=e.get("dynamics365_auth"),n=e.get("message");console.log("🔍 OAuthCallbackPage - URL Analysis:",{fullURL:window.location.href,search:window.location.search,salesforceAuth:t,dynamics365Auth:r,errorMessage:n,allParams:Object.fromEntries(e.entries())});const o=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(t==="success"||r==="success"){console.log(`✅ ${t==="success"?"Salesforce":"Dynamics 365"} OAuth authentication successful`),console.log("Is mobile device:",o);const d=t==="success"?"salesforce_auth_success":"dynamics365_auth_success";localStorage.setItem("oauth_auth_success",d),localStorage.setItem("oauth_auth_timestamp",Date.now().toString()),console.log("📝 Saved auth success to localStorage:",d),setTimeout(()=>{o?(console.log("📱 Mobile device detected - redirecting to home page"),window.location.href=window.location.origin):(console.log("🔒 Desktop - closing authentication window..."),window.close(),window.closed||(window.location.href=window.location.origin))},3e3)}else t==="error"||r==="error"?(console.log(`❌ ${t==="error"?"Salesforce":"Dynamics 365"} OAuth authentication failed:`,n),setTimeout(()=>{o&&(window.location.href=window.location.origin)},5e3)):console.log("No auth parameters found, might be processing or incomplete");let a="認証処理中...",i="このウィンドウは自動的に閉じられます。",l=!1;if(t==="success"||r==="success"){const c=t==="success"?"Salesforce":"Dynamics 365";a=`${c} 認証完了`,o?i=`${c}へのログインが成功しました。

3秒後に自動的にホームページに戻ります...`:i=`${c}へのログインが成功しました。

3秒後に自動的にこのウィンドウを閉じます...`,l=!0}else if(t==="error"||r==="error"){const c=t==="error"?"Salesforce":"Dynamics 365";a=`${c} 認証エラー`,i=`${c}の認証に失敗しました: ${n||"不明なエラー"}`,l=!0}else a="認証処理中",i=`認証を処理中です。
しばらくお待ちください。`,l=!0;return s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"sans-serif",backgroundColor:"#f5f5f5"},children:s.jsxs("div",{style:{textAlign:"center",backgroundColor:"white",padding:"40px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",maxWidth:"400px"},children:[s.jsx("h2",{style:{color:t==="success"||r==="success"?"#28a745":t==="error"||r==="error"?"#dc3545":"#007bff",marginBottom:"20px"},children:a}),s.jsx("p",{style:{marginBottom:"20px",lineHeight:"1.5",whiteSpace:"pre-line"},children:i}),t==="success"||r==="success"?s.jsx("button",{onClick:()=>{o?window.location.href=window.location.origin:(window.close(),window.closed||(window.location.href=window.location.origin))},style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"12px 24px",borderRadius:"5px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:o?"ホームに戻る":"今すぐ閉じる"}):l&&s.jsx("button",{onClick:()=>{o?window.location.href=window.location.origin:(window.close(),window.closed||(window.location.href=window.location.origin))},style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:o?"ホームに戻る":"ウィンドウを閉じる"})]})})},Io=Object.create(null);Io.open="0";Io.close="1";Io.ping="2";Io.pong="3";Io.message="4";Io.upgrade="5";Io.noop="6";const Up=Object.create(null);Object.keys(Io).forEach(e=>{Up[Io[e]]=e});const Mb={type:"error",data:"parser error"},$z=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",zz=typeof ArrayBuffer=="function",Dz=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,fS=({type:e,data:t},r,n)=>$z&&t instanceof Blob?r?n(t):_3(t,n):zz&&(t instanceof ArrayBuffer||Dz(t))?r?n(t):_3(new Blob([t]),n):n(Io[e]+(t||"")),_3=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function E3(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ry;function Wce(e,t){if($z&&e.data instanceof Blob)return e.data.arrayBuffer().then(E3).then(t);if(zz&&(e.data instanceof ArrayBuffer||Dz(e.data)))return t(E3(e.data));fS(e,!1,r=>{Ry||(Ry=new TextEncoder),t(Ry.encode(r))})}const T3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ku=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<T3.length;e++)ku[T3.charCodeAt(e)]=e;const qce=e=>{let t=e.length*.75,r=e.length,n,o=0,a,i,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(n=0;n<r;n+=4)a=ku[e.charCodeAt(n)],i=ku[e.charCodeAt(n+1)],l=ku[e.charCodeAt(n+2)],c=ku[e.charCodeAt(n+3)],u[o++]=a<<2|i>>4,u[o++]=(i&15)<<4|l>>2,u[o++]=(l&3)<<6|c&63;return d},Hce=typeof ArrayBuffer=="function",pS=(e,t)=>{if(typeof e!="string")return{type:"message",data:Iz(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Vce(e.substring(1),t)}:Up[r]?e.length>1?{type:Up[r],data:e.substring(1)}:{type:Up[r]}:Mb},Vce=(e,t)=>{if(Hce){const r=qce(e);return Iz(r,t)}else return{base64:!0,data:e}},Iz=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Rz="",Kce=(e,t)=>{const r=e.length,n=new Array(r);let o=0;e.forEach((a,i)=>{fS(a,!1,l=>{n[i]=l,++o===r&&t(n.join(Rz))})})},Yce=(e,t)=>{const r=e.split(Rz),n=[];for(let o=0;o<r.length;o++){const a=pS(r[o],t);if(n.push(a),a.type==="error")break}return n};function Qce(){return new TransformStream({transform(e,t){Wce(e,r=>{const n=r.length;let o;if(n<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,n);else if(n<65536){o=new Uint8Array(3);const a=new DataView(o.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{o=new Uint8Array(9);const a=new DataView(o.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(r)})}})}let Ny;function sp(e){return e.reduce((t,r)=>t+r.length,0)}function lp(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let o=0;o<t;o++)r[o]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function Gce(e,t){Ny||(Ny=new TextDecoder);const r=[];let n=0,o=-1,a=!1;return new TransformStream({transform(i,l){for(r.push(i);;){if(n===0){if(sp(r)<1)break;const c=lp(r,1);a=(c[0]&128)===128,o=c[0]&127,o<126?n=3:o===126?n=1:n=2}else if(n===1){if(sp(r)<2)break;const c=lp(r,2);o=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(sp(r)<8)break;const c=lp(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(Mb);break}o=u*Math.pow(2,32)+d.getUint32(4),n=3}else{if(sp(r)<o)break;const c=lp(r,o);l.enqueue(pS(a?c:Ny.decode(c),t)),n=0}if(o===0||o>e){l.enqueue(Mb);break}}}})}const Nz=4;function Ft(e){if(e)return Xce(e)}function Xce(e){for(var t in Ft.prototype)e[t]=Ft.prototype[t];return e}Ft.prototype.on=Ft.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ft.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Ft.prototype.off=Ft.prototype.removeListener=Ft.prototype.removeAllListeners=Ft.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===t||n.fn===t){r.splice(o,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Ft.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,t)}return this};Ft.prototype.emitReserved=Ft.prototype.emit;Ft.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ft.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Hm=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),En=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Jce="arraybuffer";function Lz(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const Zce=En.setTimeout,eue=En.clearTimeout;function Vm(e,t){t.useNativeTimers?(e.setTimeoutFn=Zce.bind(En),e.clearTimeoutFn=eue.bind(En)):(e.setTimeoutFn=En.setTimeout.bind(En),e.clearTimeoutFn=En.clearTimeout.bind(En))}const tue=1.33;function rue(e){return typeof e=="string"?nue(e):Math.ceil((e.byteLength||e.size)*tue)}function nue(e){let t=0,r=0;for(let n=0,o=e.length;n<o;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function Fz(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function oue(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function aue(e){let t={},r=e.split("&");for(let n=0,o=r.length;n<o;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class iue extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class hS extends Ft{constructor(t){super(),this.writable=!1,Vm(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new iue(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=pS(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=oue(t);return r.length?"?"+r:""}}class sue extends hS{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Yce(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Kce(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Fz()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let Bz=!1;try{Bz=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const lue=Bz;function cue(){}class uue extends sue{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(o,a)=>{this.onError("xhr post error",o,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}let zl=class Wp extends Ft{constructor(t,r,n){super(),this.createRequest=t,Vm(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=Lz(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var o;n.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=Wp.requestsCount++,Wp.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=cue,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Wp.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};zl.requestsCount=0;zl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",M3);else if(typeof addEventListener=="function"){const e="onpagehide"in En?"pagehide":"unload";addEventListener(e,M3,!1)}}function M3(){for(let e in zl.requests)zl.requests.hasOwnProperty(e)&&zl.requests[e].abort()}const due=function(){const e=Uz({xdomain:!1});return e&&e.responseType!==null}();class fue extends uue{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=due&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new zl(Uz,this.uri(),t)}}function Uz(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||lue))return new XMLHttpRequest}catch{}if(!t)try{return new En[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Wz=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class pue extends hS{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=Wz?{}:Lz(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],o=r===t.length-1;fS(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}o&&Hm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Fz()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Ly=En.WebSocket||En.MozWebSocket;class hue extends pue{createSocket(t,r,n){return Wz?new Ly(t,r,n):r?new Ly(t,r):new Ly(t)}doWrite(t,r){this.ws.send(r)}}class vue extends hS{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=Gce(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),o=Qce();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],o=r===t.length-1;this._writer.write(n).then(()=>{o&&Hm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const mue={websocket:hue,webtransport:vue,polling:fue},gue=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,yue=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $b(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let o=gue.exec(e||""),a={},i=14;for(;i--;)a[yue[i]]=o[i]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=xue(a,a.path),a.queryKey=bue(a,a.query),a}function xue(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function bue(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,o,a){o&&(r[o]=a)}),r}const zb=typeof addEventListener=="function"&&typeof removeEventListener=="function",qp=[];zb&&addEventListener("offline",()=>{qp.forEach(e=>e())},!1);class fi extends Ft{constructor(t,r){if(super(),this.binaryType=Jce,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=$b(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=$b(r.host).host);Vm(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const o=n.prototype.name;this.transports.push(o),this._transportsByName[o]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=aue(this.opts.query)),zb&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},qp.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=Nz,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&fi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",fi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const o=this.writeBuffer[n].data;if(o&&(r+=rue(o)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Hm(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,o){if(typeof r=="function"&&(o=r,r=void 0),typeof n=="function"&&(o=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(fi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),zb&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=qp.indexOf(this._offlineEventListener);n!==-1&&qp.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}fi.protocol=Nz;class wue extends fi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;fi.priorWebsocketSuccess=!1;const o=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;fi.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function a(){n||(n=!0,u(),r.close(),r=null)}const i=f=>{const p=new Error("probe error: "+f);p.transport=r.name,a(),this.emitReserved("upgradeError",p)};function l(){i("transport closed")}function c(){i("socket closed")}function d(f){r&&f.name!==r.name&&a()}const u=()=>{r.removeListener("open",o),r.removeListener("error",i),r.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};r.once("open",o),r.once("error",i),r.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let Sue=class extends wue{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(o=>mue[o]).filter(o=>!!o)),super(t,n)}};function jue(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=$b(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const kue=typeof ArrayBuffer=="function",Cue=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,qz=Object.prototype.toString,Pue=typeof Blob=="function"||typeof Blob<"u"&&qz.call(Blob)==="[object BlobConstructor]",Aue=typeof File=="function"||typeof File<"u"&&qz.call(File)==="[object FileConstructor]";function vS(e){return kue&&(e instanceof ArrayBuffer||Cue(e))||Pue&&e instanceof Blob||Aue&&e instanceof File}function Hp(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Hp(e[r]))return!0;return!1}if(vS(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Hp(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Hp(e[r]))return!0;return!1}function Oue(e){const t=[],r=e.data,n=e;return n.data=Db(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Db(e,t){if(!e)return e;if(vS(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Db(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Db(e[n],t));return r}return e}function _ue(e,t){return e.data=Ib(e.data,t),delete e.attachments,e}function Ib(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Ib(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Ib(e[r],t));return e}const Eue=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Tue=5;var Ne;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ne||(Ne={}));class Mue{constructor(t){this.replacer=t}encode(t){return(t.type===Ne.EVENT||t.type===Ne.ACK)&&Hp(t)?this.encodeAsBinary({type:t.type===Ne.EVENT?Ne.BINARY_EVENT:Ne.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Ne.BINARY_EVENT||t.type===Ne.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Oue(t),n=this.encodeAsString(r.packet),o=r.buffers;return o.unshift(n),o}}function $3(e){return Object.prototype.toString.call(e)==="[object Object]"}class mS extends Ft{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Ne.BINARY_EVENT;n||r.type===Ne.BINARY_ACK?(r.type=n?Ne.EVENT:Ne.ACK,this.reconstructor=new $ue(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(vS(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Ne[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Ne.BINARY_EVENT||n.type===Ne.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const i=t.substring(a,r);if(i!=Number(i)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(i)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const o=t.charAt(r+1);if(o!==""&&Number(o)==o){const a=r+1;for(;++r;){const i=t.charAt(r);if(i==null||Number(i)!=i){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(mS.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Ne.CONNECT:return $3(r);case Ne.DISCONNECT:return r===void 0;case Ne.CONNECT_ERROR:return typeof r=="string"||$3(r);case Ne.EVENT:case Ne.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Eue.indexOf(r[0])===-1);case Ne.ACK:case Ne.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class $ue{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=_ue(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const zue=Object.freeze(Object.defineProperty({__proto__:null,Decoder:mS,Encoder:Mue,get PacketType(){return Ne},protocol:Tue},Symbol.toStringTag,{value:"Module"}));function Vn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const Due=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Hz extends Ft{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Vn(t,"open",this.onopen.bind(this)),Vn(t,"packet",this.onpacket.bind(this)),Vn(t,"error",this.onerror.bind(this)),Vn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,o,a;if(Due.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const i={type:Ne.EVENT,data:r};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,f=r.pop();this._registerAckCallback(u,f),i.id=u}const l=(o=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||o===void 0?void 0:o.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,r){var n;const o=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(o===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},o),i=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...r){return new Promise((n,o)=>{const a=(i,l)=>i?o(i):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...a)=>n!==this._queue[0]?void 0:(o!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(o)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ne.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ne.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ne.EVENT:case Ne.BINARY_EVENT:this.onevent(t);break;case Ne.ACK:case Ne.BINARY_ACK:this.onack(t);break;case Ne.DISCONNECT:this.ondisconnect();break;case Ne.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...o){n||(n=!0,r.packet({type:Ne.ACK,id:t,data:o}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ne.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function $c(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}$c.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};$c.prototype.reset=function(){this.attempts=0};$c.prototype.setMin=function(e){this.ms=e};$c.prototype.setMax=function(e){this.max=e};$c.prototype.setJitter=function(e){this.jitter=e};class Rb extends Ft{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Vm(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new $c({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const o=r.parser||zue;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Sue(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const o=Vn(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},i=Vn(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{o(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(o),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Vn(t,"ping",this.onping.bind(this)),Vn(t,"data",this.ondata.bind(this)),Vn(t,"error",this.onerror.bind(this)),Vn(t,"close",this.onclose.bind(this)),Vn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Hm(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Hz(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const su={};function Vp(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=jue(e,t.path||"/socket.io"),n=r.source,o=r.id,a=r.path,i=su[o]&&a in su[o].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let c;return l?c=new Rb(n,t):(su[o]||(su[o]=new Rb(n,t)),c=su[o]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Vp,{Manager:Rb,Socket:Hz,io:Vp,connect:Vp});const Iue=w.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-4) var(--space-6);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  
  @media (max-width: 768px) {
    padding: var(--space-3) var(--space-4);
  }
`,Rue=w.h1`
  font-size: var(--font-size-large);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  margin: 0;
  
  @media (max-width: 768px) {
    font-size: var(--font-size-body);
  }
`,Nue=w.p`
  color: var(--color-text-tertiary);
  font-size: var(--font-size-small);
  margin: var(--space-1) 0 0 0;
`,Lue=w.div`
  flex: 1;
  display: flex;
  flex-direction: column;
`,Fue=w.div`
  height: ${e=>e.isListening?"100px":"0"};
  background: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
  margin-bottom: ${e=>e.isListening?"var(--space-4)":"0"};
  transition: height 0.3s ease, margin 0.3s ease;
  opacity: ${e=>e.isListening?"1":"0"};
`,Bue=w.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  height: 60px;
`,Uue=w.div`
  width: 3px;
  background: ${e=>e.isSpeaking?"var(--color-accent)":"var(--color-border)"};
  border-radius: 2px;
  height: ${e=>e.height}%;
  transition: all 0.15s ease;
  opacity: ${e=>e.isSpeaking?1:.2};
`,Wue=w.div`
  flex: 1;
  background-color: transparent;
  padding: var(--space-4) var(--space-4) var(--space-4) 0;  /* 右側にパディング追加 */
  overflow-y: auto;
  max-height: 500px;
  min-height: 350px;
  scroll-behavior: smooth;
  
  &::-webkit-scrollbar {
    width: 8px;  /* スクロールバーを少し太く */
  }
  
  &::-webkit-scrollbar-track {
    background: transparent;
    margin-right: var(--space-2);  /* トラックに右マージン */
  }
  
  &::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 4px;
    border: 2px solid transparent;  /* スクロールバーに透明な境界線で間隔を作る */
    background-clip: padding-box;
  }
  
  &::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-tertiary);
  }
`,z3=w.div`
  margin-bottom: var(--space-3);
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  padding: var(--space-3) 0;
  
  ${e=>e.role==="user"?`
    flex-direction: row-reverse;
  `:""}
`,D3=w.div`
  flex: 1;
  max-width: 70%;
  margin: 0 var(--space-3);  /* しっぽのスペース確保 */
  
  @media (max-width: 768px) {
    max-width: 85%;
  }
`,I3=w.div`
  font-size: var(--font-size-micro);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-tertiary);
  margin-bottom: var(--space-1);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  text-align: ${e=>e.role==="user"?"right":"left"};
`,R3=w.div`
  padding: var(--space-3) var(--space-4);
  background: ${e=>e.role==="user"?"white":"var(--color-surface)"};
  color: var(--color-text-primary);
  border: ${e=>e.role==="user"?"2px solid var(--color-accent)":"1px solid var(--color-border)"};
  border-radius: 18px;
  line-height: var(--line-height-comfortable);
  font-size: var(--font-size-body);
  box-shadow: ${e=>e.role==="user"?"0 1px 3px rgba(249, 115, 22, 0.1)":"0 1px 3px rgba(0, 0, 0, 0.05)"};
  position: relative;
  text-align: left;  /* 全てのメッセージを左揃えに */
  
  ${e=>e.isInitial?`
    animation: fadeInUp 0.5s ease;
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  `:""}
`,que=w.span`
  color: var(--color-text-tertiary);
  font-style: italic;
`,Hue=w.div`
  display: flex;
  gap: var(--space-3);
  justify-content: center;
  margin-top: var(--space-4);
  padding: var(--space-4) 0;
  position: sticky;
  bottom: 0;
  background: linear-gradient(180deg, 
    transparent 0%, 
    var(--color-background) 20%);
  
  @media (max-width: 768px) {
    flex-wrap: wrap;
    
    button {
      flex: 1;
      min-width: 120px;
    }
  }
`,Fy=w.button`
  padding: var(--space-3) var(--space-4);
  background-color: ${e=>e.primary?"var(--color-accent)":e.secondary?"var(--color-primary)":"transparent"};
  color: ${e=>e.primary||e.secondary?"white":"var(--color-text-secondary)"};
  border: ${e=>e.primary||e.secondary?"none":"1px solid var(--color-border)"};
  border-radius: var(--radius-full);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  position: relative;
  
  &:hover:not(:disabled) {
    transform: scale(1.05);
    box-shadow: var(--shadow-elevation);
    background-color: ${e=>e.primary?"var(--color-accent-hover)":e.secondary?"#6D28D9":"var(--color-surface)"};
    color: ${e=>e.primary||e.secondary?"white":"var(--color-text-primary)"};
  }
  
  &:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }
  
  svg {
    width: 16px;
    height: 16px;
  }
`,Vue=w.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 0 var(--space-3) 0;
  margin-bottom: var(--space-3);
  border-bottom: 1px solid var(--color-border);
  
  @media (max-width: 768px) {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
  }
`,Kue=w.div`
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--font-size-small);
  color: ${e=>e.isSpeaking?"var(--color-accent)":e.status==="listening"?"var(--color-success)":"var(--color-text-tertiary)"};
  font-weight: var(--font-weight-medium);
  
  &::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: currentColor;
    animation: ${e=>e.isSpeaking&&e.status==="listening"?"pulse-dot 1s infinite":"none"};
  }
  
  @keyframes pulse-dot {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 1; }
  }
`,Yue=w.div`
  background-color: transparent;
  padding: var(--space-4) 0;
  margin-top: var(--space-4);
  border-top: 1px solid var(--color-border);
`,Que=w.h3`
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-3);
  text-transform: uppercase;
  letter-spacing: 0.1em;
`,Gue=w.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-4);
  
  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`,Xue=w.div`
  padding: var(--space-3);
  background-color: var(--color-surface);
  border-radius: var(--radius-md);
  position: relative;
  transition: all 0.2s ease;
  
  &:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-subtle);
  }
  
  .label {
    font-size: var(--font-size-micro);
    color: var(--color-text-tertiary);
    margin-bottom: var(--space-1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-weight: var(--font-weight-medium);
  }
  
  .value {
    font-size: var(--font-size-body);
    color: var(--color-text-primary);
    font-weight: var(--font-weight-normal);
    line-height: var(--line-height-comfortable);
  }
`,Jue=w.button`
  padding: var(--space-1) var(--space-2);
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  color: var(--color-primary);
  font-size: var(--font-size-micro);
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    background: var(--color-primary);
    color: var(--color-text-inverse);
  }
`,Zue=w.input`
  width: 100%;
  padding: var(--space-2);
  border: 1px solid var(--color-accent);
  border-radius: var(--radius-sm);
  background: var(--color-surface);
  color: var(--color-text-primary);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  
  &:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);
  }
`,ede=w.textarea`
  width: 100%;
  padding: var(--space-2);
  border: 1px solid var(--color-accent);
  border-radius: var(--radius-sm);
  background: var(--color-surface);
  color: var(--color-text-primary);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  resize: vertical;
  min-height: 60px;
  
  &:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);
  }
`,tde=w.button`
  padding: var(--space-1) var(--space-2);
  background: var(--color-success);
  border: none;
  border-radius: var(--radius-sm);
  color: white;
  font-size: var(--font-size-micro);
  cursor: pointer;
  margin-right: var(--space-1);
  
  &:hover {
    background: var(--color-success-dark);
  }
`,rde=w.button`
  padding: var(--space-1) var(--space-2);
  background: var(--color-text-tertiary);
  border: none;
  border-radius: var(--radius-sm);
  color: white;
  font-size: var(--font-size-micro);
  cursor: pointer;
  
  &:hover {
    background: var(--color-text-secondary);
  }
`,nde=()=>{const e=Kt(),{user:t}=oo(),[r,n]=m.useState(!1),[o,a]=m.useState("disconnected"),[i,l]=m.useState(null),[c,d]=m.useState(0),[u,f]=m.useState(0);m.useEffect(()=>{if(new URLSearchParams(window.location.search).get("configured")==="true"){const E=localStorage.getItem("hearingSettings");if(E){const B=JSON.parse(E);l(B),B.greeting&&h([{role:"assistant",text:B.greeting}])}}},[]);const[p,h]=m.useState([{role:"assistant",text:"お疲れ様です！今日はどのような商談がありましたか？"}]),[g,x]=m.useState(!1),[y,v]=m.useState(!1),S=m.useRef(p),[b,j]=m.useState(""),[k,C]=m.useState({}),O=m.useRef(k);m.useEffect(()=>{S.current=p},[p]),m.useEffect(()=>{O.current=k},[k]);const[D,I]=m.useState(""),K=m.useRef(""),[X,H]=m.useState(0),[T,R]=m.useState(Array(12).fill(20)),[G,Q]=m.useState(null),[se,re]=m.useState({}),[$,V]=m.useState(!1),[U,M]=m.useState(null),[ee,ae]=m.useState(0),pe=m.useRef(0),ge=m.useRef(null),ke=m.useRef(null),Te=m.useRef(null),ce=m.useRef(null),me=m.useRef(null),ve=m.useRef(null),ie=m.useRef([]),Be=m.useRef(!1),_e=m.useRef(!1),Se=m.useRef(null),De=m.useRef(!1);m.useRef(null),m.useEffect(()=>{(async()=>{if(!Se.current)try{if(Se.current=new(window.AudioContext||window.webkitAudioContext),console.log("Audio context initialized on page load"),Se.current.state==="suspended"){const B=async()=>{try{Se.current&&Se.current.state==="suspended"&&await Se.current.resume();const oe=Se.current.createOscillator(),le=Se.current.createGain();le.gain.value=0,oe.connect(le),le.connect(Se.current.destination),oe.start(),oe.stop(Se.current.currentTime+.01),_e.current=!0,console.log("Audio context resumed and enabled on interaction"),q.success("音声が有効になりました")}catch(oe){console.error("Failed to enable audio:",oe)}};document.addEventListener("click",B,{once:!0}),document.addEventListener("touchstart",B,{once:!0}),document.addEventListener("touchend",B,{once:!0}),console.log("Waiting for user interaction to enable audio")}else _e.current=!0,console.log("Audio enabled by default")}catch(B){console.log("Could not auto-enable audio:",B)}})();const E="wss://salesdaily-api.azurewebsites.net";return ke.current=Vp(E,{transports:["websocket"],auth:{token:localStorage.getItem("token")}}),ke.current.on("connect",()=>{console.log("Connected to server"),a("connected"),q.success("サーバーに接続しました");const B=new URLSearchParams(window.location.search);let oe=null;if(B.get("configured")==="true"){const le=localStorage.getItem("hearingSettings");le&&(oe=JSON.parse(le))}g||(console.log("Requesting initial audio message on connect"),ke.current.emit("request-initial-audio",{customSettings:oe}),x(!0)),y||(v(!0),setTimeout(()=>{Qe()},500))}),ke.current.on("disconnect",B=>{console.log("Disconnected from server:",B),a("disconnected"),n(!1),B==="io server disconnect"&&setTimeout(()=>{console.log("Attempting to reconnect..."),ke.current.connect()},1e3)}),ke.current.on("connect_error",B=>{console.error("Connection error:",B.message),a("disconnected")}),ke.current.on("listening-started",()=>{a("listening"),n(!0)}),ke.current.on("listening-stopped",()=>{a("connected"),n(!1)}),ke.current.on("partial-transcript",B=>{De.current||j(B.text)}),ke.current.on("final-transcript",B=>{De.current||(I(oe=>{const le=oe?oe+" "+B.text:B.text;return K.current=le,le}),j(""),a("processing"))}),ke.current.on("ai-response-text",B=>{try{console.log("AI Response received:",B),console.log("Current user message ref:",K.current);const oe=B.correctedUserText||(K.current?K.current.trim():"");console.log("User message to save:",oe),h(oe?le=>{const ne=[...le,{role:"user",text:oe},{role:"assistant",text:B.text}];return console.log("Updated messages:",ne),ne}:le=>{const ne=[...le,{role:"assistant",text:B.text}];return console.log("Updated messages (no user):",ne),ne}),I(""),K.current="",B.reportData&&(console.log("Updating reportData:",B.reportData),C(B.reportData)),B.text&&(B.text.includes("内容把握いたしました")||B.text.includes("日報作成お疲れ様でした"))?(console.log("Conversation completed"),a("completed")):a("listening")}catch(oe){console.error("Error processing AI response:",oe),a("connected")}}),ke.current.on("ai-audio",B=>{console.log("Received AI audio data"),ie.current.push(B),Be.current||A()}),ke.current.on("error",B=>{console.error("Socket error:",B),B&&B.message&&B.message!=="WebSocket is closed before the connection is established."&&q.error(B.message)}),()=>{Ut(),ke.current&&ke.current.disconnect()}},[]),m.useEffect(()=>{if(!r){R(Array(12).fill(20)),V(!1);return}const P=()=>{const E=pe.current;ae(le=>le*.7+E*.3);const oe=pe.current>.01;if(V(oe),oe){const le=Math.min(pe.current*500,100);R(ne=>ne.map((de,Ae)=>{const fe=.7+Math.random()*.6,Ue=Math.sin((Date.now()/100+Ae)*.5);return Math.max(20,Math.min(100,le*fe*(.8+Ue*.2)))}))}else R(le=>le.map(ne=>Math.max(20,ne*.85)));ge.current=requestAnimationFrame(P)};return ge.current=requestAnimationFrame(P),()=>{ge.current&&cancelAnimationFrame(ge.current)}},[r]),m.useEffect(()=>{ve.current&&setTimeout(()=>{ve.current&&(ve.current.scrollTop=ve.current.scrollHeight)},100)},[p,D,b]),m.useEffect(()=>{o==="completed"&&(console.log("Status changed to completed, saving report..."),_())},[o]);const Qe=async()=>{try{Se.current||(Se.current=new(window.AudioContext||window.webkitAudioContext),console.log("Created new AudioContext on auto start"));try{Se.current.state==="suspended"&&await Se.current.resume();const P=Se.current.createOscillator(),E=Se.current.createGain();E.gain.value=1e-5,P.connect(E),E.connect(Se.current.destination),P.start(),P.stop(Se.current.currentTime+.01),_e.current=!0,console.log("Audio context enabled silently")}catch(P){console.log("Audio context setup:",P.message),_e.current=!0}ot()}catch(P){console.log("Auto start error:",P),ot()}},ot=async()=>{try{const P=Se.current;let E="audio/wav";typeof MediaRecorder<"u"&&(MediaRecorder.isTypeSupported("audio/webm")?E="audio/webm":MediaRecorder.isTypeSupported("audio/ogg")?E="audio/ogg":MediaRecorder.isTypeSupported("audio/mp4")&&(E="audio/mp4"),console.log("Using mimeType:",E));const B=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:{ideal:!0},noiseSuppression:{ideal:!0},autoGainControl:{ideal:!0},sampleRate:{ideal:16e3}}});ce.current=B,Te.current||(Te.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3})),Te.current.state==="suspended"&&await Te.current.resume(),P&&P.state==="suspended"&&(await P.resume(),console.log("Kept playback context active during recording"));const oe=Te.current.createMediaStreamSource(B);if(Te.current.audioWorklet&&typeof Te.current.audioWorklet.addModule=="function"){const de=Te.current.createScriptProcessor(4096,1,1);de.onaudioprocess=Ae=>{const fe=Ae.inputBuffer.getChannelData(0),Ue=Math.sqrt(fe.reduce((yt,Fn)=>yt+Fn*Fn,0)/fe.length),Me=Math.max(...fe.map(Math.abs)),at=Ue*.7+Me*.3;pe.current=at,H(at);const Ee=new ArrayBuffer(fe.length*2),Jr=new Int16Array(Ee);for(let yt=0;yt<fe.length;yt++)Jr[yt]=Math.max(-32768,Math.min(32767,fe[yt]*32768));ke.current&&ke.current.connected&&ke.current.emit("audio-data",Ee)},oe.connect(de),de.connect(Te.current.destination),me.current=de}else{const de=Te.current.createScriptProcessor(4096,1,1);de.onaudioprocess=Ae=>{const fe=Ae.inputBuffer.getChannelData(0),Ue=Math.sqrt(fe.reduce((yt,Fn)=>yt+Fn*Fn,0)/fe.length),Me=Math.max(...fe.map(Math.abs)),at=Ue*.7+Me*.3;pe.current=at,H(at);const Ee=new ArrayBuffer(fe.length*2),Jr=new Int16Array(Ee);for(let yt=0;yt<fe.length;yt++)Jr[yt]=Math.max(-32768,Math.min(32767,fe[yt]*32768));ke.current&&ke.current.connected&&ke.current.emit("audio-data",Ee)},oe.connect(de),de.connect(Te.current.destination),me.current=de}const le=new URLSearchParams(window.location.search);let ne=null;if(le.get("configured")==="true"){const de=localStorage.getItem("hearingSettings");de&&(ne=JSON.parse(de))}ke.current.emit("start-listening",{customSettings:ne})}catch(P){console.error("Error starting recording:",P),q.error("マイクへのアクセスが拒否されました")}},Ut=()=>{if(ce.current&&(ce.current.getTracks().forEach(P=>P.stop()),ce.current=null),me.current&&(me.current.disconnect(),me.current=null),Te.current&&(Te.current.close(),Te.current=null),Se.current){Se.current.state==="suspended"&&Se.current.resume().then(()=>{console.log("Playback context resumed after stopping recording")}).catch(P=>{console.log("Could not resume playback context:",P)});try{const P=Se.current.createOscillator(),E=Se.current.createGain();E.gain.value=1e-5,P.connect(E),E.connect(Se.current.destination),P.frequency.value=440,P.start(),P.stop(Se.current.currentTime+.01),console.log("Silent oscillator played to keep AudioContext active")}catch(P){console.log("Could not play silent oscillator:",P)}}ke.current&&ke.current.emit("stop-listening"),n(!1),a("connected"),j("")},A=async()=>{if(ie.current.length===0){Be.current=!1,V(!1),De.current=!1;return}Be.current=!0,V(!0),De.current=!0;const P=ie.current.shift();try{Se.current||(Se.current=new(window.AudioContext||window.webkitAudioContext)),Se.current.state==="suspended"&&(await Se.current.resume(),console.log("Resumed audio context for playback"));const E=Uint8Array.from(atob(P.audio),le=>le.charCodeAt(0)),B=new ArrayBuffer(E.length),oe=new Uint8Array(B);for(let le=0;le<E.length;le++)oe[le]=E[le];try{const le=await Se.current.decodeAudioData(B),ne=Se.current.createBufferSource();ne.buffer=le;const de=Se.current.createGain();de.gain.value=1,ne.connect(de),de.connect(Se.current.destination),ne.onended=()=>{console.log("Audio playback ended"),V(!1),De.current=!1,A()},ne.start(0),console.log("Started playing audio with Web Audio API")}catch(le){console.error("Error decoding audio:",le),V(!1),De.current=!1,A()}}catch(E){console.error("Error in playNextAudio:",E),Be.current=!1,V(!1),De.current=!1}},_=async()=>{Ut(),q.loading("日報を保存しています..."),setTimeout(async()=>{var P,E;try{const B=new Date,oe=new Date(B.getTime()+9*60*60*1e3),le=S.current,ne=O.current,de=[];for(let Me=0;Me<le.length;Me++)le[Me].role==="assistant"&&((P=le[Me+1])==null?void 0:P.role)==="user"?de.push({question:le[Me].text,answer:le[Me+1].text,timestamp:new Date().toLocaleTimeString("ja-JP")}):le[Me].role==="user"&&((E=le[Me+1])==null?void 0:E.role)==="assistant"&&Me===0&&de.push({question:"ユーザーからの報告",answer:le[Me].text,timestamp:new Date().toLocaleTimeString("ja-JP")});const Ae={};Object.keys(ne).forEach(Me=>{const at=ne[Me],Ee=Me==="concerns"?"issues":Me;Array.isArray(at)?Ae[Ee]=at.join(", "):typeof at=="object"&&at!==null?Ae[Ee]=JSON.stringify(at):at&&(Ae[Ee]=at)}),ne.issues&&(Array.isArray(ne.issues)?Ae.issues=ne.issues.join(", "):Ae.issues=ne.issues),console.log("Messages:",le),console.log("Questions and Answers:",de),console.log("Report Data:",ne),console.log("Cleaned Slots:",Ae);const fe={report_date:oe.toISOString().split("T")[0],mode:"realtime",questions_answers:de,slots:Ae};console.log("Report to save:",fe);const Ue=await an.createReport(fe);console.log("Report creation response:",Ue),q.dismiss(),q.success("日報を保存しました"),Ue&&Ue.id?e(`/reports/${Ue.id}`):(console.error("No report ID in response:",Ue),q.error("日報は保存されましたが、詳細画面への遷移に失敗しました"))}catch(B){console.error("Failed to save report:",B),q.dismiss(),q.error("日報の保存に失敗しました")}},500)},W=()=>{switch(o){case"connected":return"接続済み";case"listening":return"聞いています...";case"processing":return"AI処理中...";default:return"未接続"}},N=(P,E)=>{Q(P),re({...se,[P]:E||""})},Y=()=>{Q(null),re({})},J=P=>{const E=se[P];C(B=>({...B,[P]:E})),ke.current&&ke.current.connected&&ke.current.emit("update-report-data",{field:P,value:E}),Q(null),re({})},z=(P,E)=>{re(B=>({...B,[P]:E}))},L=P=>({customer:"顧客",project:"案件",budget:"予算",schedule:"納期",next_action:"次のアクション",participants:"参加者",location:"場所",issues:"課題・リスク",decision_makers:"決定権者",concerns:"懸念事項",competition:"競合情報"})[P]||P;return s.jsx(Iue,{children:s.jsxs(Lue,{children:[s.jsxs(Vue,{children:[s.jsxs("div",{children:[s.jsx(Rue,{children:"リアルタイム音声モード"}),s.jsx(Nue,{children:"話しかけるだけで日報を作成します"})]}),s.jsx(Kue,{status:o,isSpeaking:$,children:$?"話しています...":W()})]}),s.jsx(Fue,{isListening:r,children:s.jsx(Bue,{children:T.map((P,E)=>s.jsx(Uue,{height:P,isActive:r,isSpeaking:$,delay:E*50},E))})}),s.jsxs(Wue,{ref:ve,children:[p.map((P,E)=>s.jsx(z3,{role:P.role,children:s.jsxs(D3,{children:[s.jsx(I3,{role:P.role,children:P.role==="user"?"YOU":"AI"}),s.jsx(R3,{role:P.role,isInitial:E===0&&P.role==="assistant",children:P.text})]})},E)),(D||b)&&s.jsx(z3,{role:"user",children:s.jsxs(D3,{children:[s.jsx(I3,{role:"user",children:"YOU (話し中...)"}),s.jsxs(R3,{role:"user",children:[D,D&&b&&" ",b&&s.jsx(que,{children:b})]})]})})]}),Object.keys(k).length>0&&s.jsxs(Yue,{children:[s.jsx(Que,{children:"収集された情報"}),s.jsx(Gue,{children:Object.entries(k).map(([P,E])=>E&&s.jsxs(Xue,{children:[s.jsxs("div",{className:"label",children:[s.jsx("span",{children:L(P)}),G!==P&&s.jsx(Jue,{onClick:()=>N(P,E),children:"編集"})]}),G===P?s.jsxs("div",{children:[P==="issues"||P==="project"?s.jsx(ede,{value:se[P]||"",onChange:B=>z(P,B.target.value),autoFocus:!0}):s.jsx(Zue,{type:"text",value:se[P]||"",onChange:B=>z(P,B.target.value),autoFocus:!0}),s.jsxs("div",{style:{marginTop:"var(--space-2)"},children:[s.jsx(tde,{onClick:()=>J(P),children:"保存"}),s.jsx(rde,{onClick:Y,children:"キャンセル"})]})]}):s.jsx("div",{className:"value",children:Array.isArray(E)?E.join(", "):E})]},P))})]}),s.jsxs(Hue,{children:[o==="connected"||o==="listening"?r?s.jsxs(Fy,{primary:!0,onClick:Ut,children:[s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),"一時停止"]}):s.jsxs(Fy,{primary:!0,onClick:ot,children:[s.jsx(h5,{size:20}),"再開"]}):null,s.jsxs(Fy,{onClick:()=>e("/"),children:[s.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),"キャンセル"]})]})]})})},ode=w.div`
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 var(--space-6);
  position: relative;
  z-index: 1;

  @media (max-width: 768px) {
    padding: 0 var(--space-4);
  }
`,ade=w.div`
  background-color: var(--color-surface);
  padding: var(--space-6);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-structure);
  margin-bottom: var(--space-6);
  position: relative;
  
  @media (max-width: 768px) {
    padding: var(--space-5);
    margin-bottom: var(--space-4);
  }
`,ide=w.h1`
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-thin);
  color: #ff6b35;
  margin-bottom: var(--space-5);
  letter-spacing: -0.025em;
  line-height: var(--line-height-compressed);

  @media (max-width: 768px) {
    font-size: var(--font-size-heading);
  }
`,sde=w.div`
  display: flex;
  justify-content: space-between;
  margin-bottom: var(--space-6);
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--color-border);
    z-index: 0;
  }
`,lde=w.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: ${e=>e.active?"#ff6b35":e.completed?"#ff8c42":"var(--color-background)"};
  color: ${e=>e.active||e.completed?"var(--color-text-inverse)":"var(--color-text-secondary)"};
  border: 2px solid ${e=>e.active?"#ff6b35":e.completed?"#ff8c42":"var(--color-border)"};
  border-radius: 50%;
  font-weight: var(--font-weight-medium);
  z-index: 1;
  position: relative;
`,cde=w.div`
  position: absolute;
  top: 50px;
  font-size: var(--font-size-micro);
  color: var(--color-text-secondary);
  text-align: center;
  width: 80px;
  left: 50%;
  transform: translateX(-50%);
  line-height: 1.2;
  
  @media (max-width: 768px) {
    display: none;
  }
`,By=w.div`
  margin-bottom: var(--space-4);
`,Uy=w.label`
  display: block;
  font-weight: var(--font-weight-medium);
  margin-bottom: var(--space-2);
  color: var(--color-text-primary);
`,ude=w.select`
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  background-color: var(--color-background);
  font-size: var(--font-size-body);
  color: var(--color-text-primary);
  transition: border-color 0.2s ease;
  
  &:focus {
    outline: none;
    border-color: #ff6b35;
  }
`,dde=w.textarea`
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  background-color: var(--color-background);
  font-size: var(--font-size-body);
  color: var(--color-text-primary);
  resize: vertical;
  min-height: 100px;
  transition: border-color 0.2s ease;
  
  &:focus {
    outline: none;
    border-color: #ff6b35;
  }
`,fde=w.input`
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  background-color: var(--color-background);
  font-size: var(--font-size-body);
  color: var(--color-text-primary);
  transition: border-color 0.2s ease;
  
  &:focus {
    outline: none;
    border-color: #ff6b35;
  }
`,N3=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  margin-top: var(--space-3);
`,L3=w.label`
  display: flex;
  align-items: center;
  gap: var(--space-2);
  cursor: pointer;
  
  input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
  }
`,pde=w.div`
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin-top: var(--space-3);
`,hde=w.span`
  display: inline-flex;
  align-items: center;
  padding: var(--space-2) var(--space-3);
  background-color: #ff6b35;
  color: var(--color-text-inverse);
  border-radius: var(--radius-full);
  font-size: var(--font-size-small);
  
  button {
    margin-left: var(--space-2);
    background: none;
    border: none;
    color: inherit;
    cursor: pointer;
    font-size: var(--font-size-body);
  }
`,vde=w.div`
  display: flex;
  justify-content: space-between;
  margin-top: var(--space-6);
  gap: var(--space-3);
  
  @media (max-width: 768px) {
    flex-direction: column-reverse;
  }
`,Wy=w.button`
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-5);
  background-color: ${e=>e.primary?"#ff6b35":"var(--color-background)"};
  color: ${e=>e.primary?"var(--color-text-inverse)":"var(--color-text-primary)"};
  border: 2px solid ${e=>e.primary?"#ff6b35":"var(--color-border)"};
  border-radius: var(--radius-none);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover:not(:disabled) {
    background-color: ${e=>e.primary?"#ff5722":"#fff4f0"};
    border-color: ${e=>e.primary?"#ff5722":"#ff6b35"};
    transform: translateY(-2px);
    box-shadow: var(--shadow-elevation);
  }
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  
  @media (max-width: 768px) {
    width: 100%;
    justify-content: center;
  }
`,F3=w.div`
  background-color: #fff4f0;
  border: 2px solid #ffb088;
  padding: var(--space-4);
  border-radius: var(--radius-none);
  margin-top: var(--space-3);
`;w.div`
  text-align: center;
  padding: var(--space-8);
  
  svg {
    font-size: 64px;
    color: #ff8c42;
    margin-bottom: var(--space-4);
  }
  
  h2 {
    font-size: var(--font-size-heading);
    margin-bottom: var(--space-3);
  }
  
  p {
    color: var(--color-text-secondary);
    margin-bottom: var(--space-6);
  }
`;const mde=w.div`
  border: 3px solid var(--color-border);
  border-top: 3px solid #ff6b35;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  animation: spin 1s linear infinite;
  display: inline-block;
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`,B3=()=>{const{reportId:e}=mc(),t=Kt(),r=ga(),[n,o]=m.useState(!1),[a,i]=m.useState(0),[l,c]=m.useState(null),[d,u]=m.useState({visitPurpose:"",customPurpose:"",objectives:[],customObjective:"",focusPoints:[]}),[f,p]=m.useState(null),[h,g]=m.useState([]),x=["訪問目的","達成目標","スクリプト生成"],y=[{value:"initial",label:"初回訪問"},{value:"follow_up",label:"フォローアップ"},{value:"proposal",label:"提案"},{value:"negotiation",label:"価格交渉"},{value:"closing",label:"クロージング"},{value:"after_service",label:"アフターフォロー"},{value:"custom",label:"その他（自由入力）"}],S=[...["ニーズ確認","予算確認","決裁者特定","競合確認","導入時期確認","デモ実施","見積提示","契約締結","次回アポイント取得"],...h],b=["信頼関係構築","課題深掘り","ROI説明","差別化ポイント強調","リスク対処","成功事例紹介"];m.useEffect(()=>{e&&j()},[e]),m.useEffect(()=>{if(r.state){const{visitPurpose:H,customPurpose:T}=r.state;H&&u(R=>({...R,visitPurpose:H,customPurpose:T||""}))}},[r.state]);const j=async()=>{try{const H=localStorage.getItem("token"),T=await fetch(`/api/reports/${e}`,{headers:{Authorization:`Bearer ${H}`}});if(T.ok){const R=await T.json();c(R)}else q.error("日報の取得に失敗しました")}catch(H){console.error("Error fetching report:",H),q.error("日報の取得に失敗しました")}},k=()=>{a===x.length-1?K():i(H=>H+1)},C=()=>{i(H=>H-1)},O=H=>{u(T=>({...T,objectives:T.objectives.includes(H)?T.objectives.filter(R=>R!==H):[...T.objectives,H]}))},D=H=>{u(T=>({...T,focusPoints:T.focusPoints.includes(H)?T.focusPoints.filter(R=>R!==H):[...T.focusPoints,H]}))},I=()=>{if(d.customObjective.trim()){const H=d.customObjective.trim();S.includes(H)||g(T=>[...T,H]),u(T=>({...T,objectives:[...T.objectives,H],customObjective:""}))}},K=async()=>{var H;o(!0);try{const T=localStorage.getItem("token"),R=d.visitPurpose==="custom"?d.customPurpose:(H=y.find(Q=>Q.value===d.visitPurpose))==null?void 0:H.label,G=await fetch("/api/scripts/generate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({reportId:e,visitPurpose:R,objectives:d.objectives,focusPoints:d.focusPoints})});if(G.ok){const Q=await G.json();q.success("スクリプトが生成されました！"),t(`/scripts/${Q.id}`)}else{const Q=await G.json();q.error(Q.error||"スクリプト生成に失敗しました")}}catch(T){console.error("Error generating script:",T),q.error("スクリプト生成中にエラーが発生しました")}finally{o(!1)}},X=()=>{var H,T,R,G;switch(a){case 0:return s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:"次回の訪問目的を選択してください"}),s.jsxs(By,{children:[s.jsx(Uy,{htmlFor:"visitPurpose",children:"訪問目的"}),s.jsxs(ude,{id:"visitPurpose",value:d.visitPurpose,onChange:Q=>u({...d,visitPurpose:Q.target.value}),children:[s.jsx("option",{value:"",children:"選択してください"}),y.map(Q=>s.jsx("option",{value:Q.value,children:Q.label},Q.value))]})]}),d.visitPurpose==="custom"&&s.jsxs(By,{children:[s.jsx(Uy,{htmlFor:"customPurpose",children:"訪問目的（自由入力）"}),s.jsx(dde,{id:"customPurpose",value:d.customPurpose,onChange:Q=>u({...d,customPurpose:Q.target.value}),rows:2,placeholder:"訪問目的を入力してください"})]}),l&&s.jsxs(F3,{children:[s.jsx("h3",{children:"前回の訪問情報"}),s.jsxs("p",{children:["顧客: ",((H=l.slots)==null?void 0:H.customer)||"未設定"]}),s.jsxs("p",{children:["案件: ",((T=l.slots)==null?void 0:T.project)||"未設定"]}),s.jsxs("p",{children:["次アクション: ",((R=l.slots)==null?void 0:R.next_action)||"未設定"]})]})]});case 1:return s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:"達成したい目標を選択してください"}),s.jsx(N3,{children:S.map(Q=>s.jsxs(L3,{children:[s.jsx("input",{type:"checkbox",checked:d.objectives.includes(Q),onChange:()=>O(Q)}),Q]},Q))}),s.jsxs(By,{style:{marginTop:"var(--space-4)"},children:[s.jsx(Uy,{htmlFor:"customObjective",children:"カスタム目標"}),s.jsxs("div",{style:{display:"flex",gap:"var(--space-2)"},children:[s.jsx(fde,{id:"customObjective",type:"text",value:d.customObjective,onChange:Q=>u({...d,customObjective:Q.target.value}),onKeyPress:Q=>Q.key==="Enter"&&I(),placeholder:"独自の目標を追加"}),s.jsx(Wy,{onClick:Q=>{Q.preventDefault(),I()},style:{whiteSpace:"nowrap",minWidth:"auto"},children:"追加"})]})]}),s.jsx(pde,{children:d.objectives.map(Q=>s.jsxs(hde,{children:[Q,s.jsx("button",{onClick:()=>O(Q),children:"×"})]},Q))}),s.jsx("h3",{style:{marginTop:"var(--space-6)"},children:"重点ポイント（任意）"}),s.jsx(N3,{children:b.map(Q=>s.jsxs(L3,{children:[s.jsx("input",{type:"checkbox",checked:d.focusPoints.includes(Q),onChange:()=>D(Q)}),Q]},Q))})]});case 2:return s.jsxs("div",{style:{textAlign:"center",padding:"var(--space-6) 0"},children:[s.jsx(pd,{style:{fontSize:"64px",color:"var(--color-primary)",marginBottom:"var(--space-4)"}}),s.jsx("h2",{children:"スクリプトを生成する準備ができました"}),s.jsx("p",{style:{color:"var(--color-text-secondary)",marginBottom:"var(--space-4)"},children:"AIが最適な営業トークスクリプトを生成します"}),s.jsxs(F3,{style:{textAlign:"left",maxWidth:"600px",margin:"0 auto"},children:[s.jsx("h3",{children:"生成内容のプレビュー"}),s.jsxs("p",{children:[s.jsx("strong",{children:"訪問目的:"})," ",d.visitPurpose==="custom"?d.customPurpose:(G=y.find(Q=>Q.value===d.visitPurpose))==null?void 0:G.label]}),s.jsxs("p",{children:[s.jsx("strong",{children:"達成目標:"})," ",d.objectives.join(", ")]}),d.focusPoints.length>0&&s.jsxs("p",{children:[s.jsx("strong",{children:"重点ポイント:"})," ",d.focusPoints.join(", ")]})]})]});default:return null}};return s.jsx(ode,{children:s.jsxs(ade,{children:[s.jsx(ide,{children:"営業トークスクリプト生成"}),s.jsx(sde,{children:x.map((H,T)=>s.jsxs("div",{style:{position:"relative"},children:[s.jsx(lde,{active:T===a,completed:T<a,children:T<a?"✓":T+1}),s.jsx(cde,{children:H})]},H))}),X(),s.jsxs(vde,{children:[s.jsxs(Wy,{disabled:a===0,onClick:C,children:[s.jsx(lW,{}),"戻る"]}),s.jsx(Wy,{primary:!0,onClick:k,disabled:n||a===0&&!d.visitPurpose,children:n?s.jsx(mde,{}):a===x.length-1?s.jsxs(s.Fragment,{children:[s.jsx(pd,{}),"スクリプト生成"]}):s.jsxs(s.Fragment,{children:["次へ",s.jsx(cW,{})]})})]})]})})},qy=w.div`
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 var(--space-6);
  position: relative;
  z-index: 1;

  @media (max-width: 768px) {
    padding: 0 var(--space-4);
  }
`,Hy=w.div`
  background-color: var(--color-surface);
  padding: var(--space-6);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-structure);
  margin-bottom: var(--space-6);
  position: relative;
  
  @media (max-width: 768px) {
    padding: var(--space-5);
    margin-bottom: var(--space-4);
  }
`,gde=w.div`
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-5);
  border-bottom: 2px solid var(--color-border);
`,yde=w.h1`
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-thin);
  color: var(--color-primary);
  margin-bottom: var(--space-3);
  letter-spacing: -0.025em;
  line-height: var(--line-height-compressed);
  text-transform: uppercase;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

  @media (max-width: 768px) {
    font-size: var(--font-size-heading);
  }
`,xde=w.div`
  display: flex;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
  flex-wrap: wrap;
`,Vy=w.span`
  display: inline-block;
  padding: var(--space-2) var(--space-4);
  background-color: var(--color-primary);
  color: var(--color-text-inverse);
  border: 2px solid #ff6b35;
  border-radius: var(--radius-none);
  font-size: var(--font-size-micro);
  font-weight: var(--font-weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.08em;
`,bde=w.div`
  display: flex;
  gap: var(--space-3);
  margin-top: var(--space-4);
  flex-wrap: wrap;
  
  @media (max-width: 768px) {
    flex-direction: column;
  }
`,al=w.button`
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-5);
  background-color: ${e=>e.primary?"var(--color-primary)":e.success?"var(--color-success)":e.danger?"var(--color-error)":"var(--color-background)"};
  color: ${e=>e.primary||e.success||e.danger?"var(--color-text-inverse)":"var(--color-text-primary)"};
  border: 2px solid ${e=>e.primary?"#ff6b35":e.success?"var(--color-success)":e.danger?"var(--color-error)":"var(--color-border)"};
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: var(--shadow-elevation);
    ${e=>!e.primary&&!e.success&&!e.danger&&`
      background-color: var(--color-surface);
      border-color: #ff6b35;
    `}
  }
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  
  @media (max-width: 768px) {
    width: 100%;
    justify-content: center;
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-size-small);
  }
`,wde=w.div`
  margin-bottom: var(--space-5);
  padding: var(--space-6);
  background-color: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-structure);
  transition: all 0.2s ease-in-out;
  
  &:hover {
    box-shadow: var(--shadow-elevation);
  }
`,Sde=w.h3`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-2);
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin-bottom: var(--space-5);
  padding-bottom: var(--space-3);
  border-bottom: 2px solid var(--color-border);
  letter-spacing: -0.01em;
  text-transform: uppercase;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
`,il=w.div`
  padding: var(--space-4);
  background-color: var(--color-background);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  margin-bottom: var(--space-3);
  line-height: var(--line-height-comfortable);
  transition: all 0.2s ease-in-out;
  
  &:hover {
    background-color: var(--color-surface);
    border-color: var(--color-primary);
  }
`,jde=w.textarea`
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  background-color: var(--color-background);
  font-size: var(--font-size-body);
  color: var(--color-text-primary);
  resize: vertical;
  min-height: 100px;
  transition: border-color 0.2s ease;
  
  &:focus {
    outline: none;
    border-color: var(--color-primary);
  }
`,lu=w.ul`
  list-style: none;
  padding: 0;
  margin: 0;
`,cu=w.li`
  padding: var(--space-3) 0;
  border-bottom: 2px solid var(--color-border);
  color: var(--color-text-primary);
  line-height: var(--line-height-comfortable);
  
  &:last-child {
    border-bottom: none;
  }
  
  &:before {
    content: '•';
    color: var(--color-primary);
    font-weight: bold;
    display: inline-block;
    width: 1em;
    margin-left: -1em;
    margin-right: 0.5em;
  }
`,kde=w.div`
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
`,Cde=w.span`
  display: inline-block;
  padding: var(--space-2) var(--space-3);
  background-color: ${e=>e.variant==="warning"?"var(--color-warning)":e.variant==="success"?"var(--color-success)":"var(--color-accent)"};
  color: var(--color-text-inverse);
  border: 2px solid transparent;
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`;w.div`
  background-color: var(--color-surface);
  border: 2px solid var(--color-border);
  padding: var(--space-4);
  border-radius: var(--radius-none);
  text-align: center;
  
  h4 {
    font-size: var(--font-size-body);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-2);
  }
  
  .stat-value {
    font-size: var(--font-size-display);
    font-weight: var(--font-weight-thin);
    color: ${e=>e.color||"var(--color-primary)"};
  }
`;w.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-4);
`;const Pde=w.div`
  padding: var(--space-4);
  background-color: ${e=>e.type==="warning"?"var(--color-warning-light)":"var(--color-info-bg)"};
  border: 2px solid ${e=>e.type==="warning"?"var(--color-warning)":"var(--color-info)"};
  border-left: 6px solid ${e=>e.type==="warning"?"var(--color-warning)":"var(--color-primary)"};
  border-radius: var(--radius-none);
  margin-bottom: var(--space-3);
  font-weight: var(--font-weight-medium);
`,Ade=w.div`
  text-align: center;
  padding: var(--space-8);
  font-size: var(--font-size-large);
  color: var(--color-text-secondary);
`,Ode=()=>{const{id:e}=mc(),t=Kt(),[r,n]=m.useState(null),[o,a]=m.useState(!0),[i,l]=m.useState(!1),[c,d]=m.useState({}),u={opening:"オープニング",needs_discovery:"ニーズ確認",value_proposition:"価値提案",objection_handling:"反論処理",closing:"クロージング"};m.useEffect(()=>{f()},[e]);const f=async()=>{try{const x=localStorage.getItem("token"),y=await fetch(`/api/scripts/${e}`,{headers:{Authorization:`Bearer ${x}`}});if(y.ok){const v=await y.json();n(v),d(v.script_sections||{})}else q.error("スクリプトの取得に失敗しました"),t("/")}catch(x){console.error("Error fetching script:",x),q.error("スクリプトの取得に失敗しました")}finally{a(!1)}},p=async()=>{try{const x=localStorage.getItem("token"),y=await fetch(`/api/scripts/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({script_sections:c})});if(y.ok){const v=await y.json();n(v),l(!1),q.success("スクリプトを保存しました")}else q.error("スクリプトの更新に失敗しました")}catch(x){console.error("Error updating script:",x),q.error("スクリプトの更新に失敗しました")}},h=(x,y,v)=>{d(S=>({...S,[x]:{...S[x],[y]:v}}))},g=(x,y)=>{var v;return y?s.jsxs(wde,{children:[s.jsx(Sde,{children:u[x]}),y.main&&s.jsxs("div",{style:{marginBottom:"var(--space-3)"},children:[s.jsx("h4",{children:"メイントーク"}),i?s.jsx(jde,{value:((v=c[x])==null?void 0:v.main)||"",onChange:S=>h(x,"main",S.target.value),rows:3}):s.jsx(il,{children:y.main})]}),y.alternatives&&y.alternatives.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-3)"},children:[s.jsx("h4",{children:"トーク案"}),s.jsx(lu,{children:y.alternatives.map((S,b)=>s.jsx(cu,{children:S},b))})]}),y.key_points&&y.key_points.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-3)"},children:[s.jsx("h4",{children:"ポイント"}),s.jsx(kde,{children:y.key_points.map((S,b)=>s.jsx(Cde,{children:S},b))})]}),y.questions&&y.questions.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-3)"},children:[s.jsx("h4",{children:"質問例"}),s.jsx(lu,{children:y.questions.map((S,b)=>s.jsxs(cu,{children:["Q",b+1,". ",S]},b))})]}),x==="objection_handling"&&s.jsx("div",{children:Object.entries(y||{}).map(([S,b])=>s.jsxs("div",{style:{marginBottom:"var(--space-3)"},children:[s.jsx(Pde,{type:"warning",children:s.jsxs("strong",{children:["「",S,"」への対応"]})}),s.jsx(il,{children:b})]},S))}),x==="value_proposition"&&s.jsxs(s.Fragment,{children:[y.main_benefits&&y.main_benefits.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-3)"},children:[s.jsx("h4",{children:"主要メリット"}),s.jsx(lu,{children:y.main_benefits.map((S,b)=>s.jsx(cu,{children:S},b))})]}),y.proof_points&&y.proof_points.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-3)"},children:[s.jsx("h4",{children:"実績・証明"}),s.jsx(lu,{children:y.proof_points.map((S,b)=>s.jsx(cu,{children:S},b))})]}),y.differentiators&&y.differentiators.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-3)"},children:[s.jsx("h4",{children:"差別化ポイント"}),s.jsx(lu,{children:y.differentiators.map((S,b)=>s.jsx(cu,{children:S},b))})]})]}),x==="closing"&&s.jsxs(s.Fragment,{children:[y.trial_close&&s.jsxs("div",{style:{marginBottom:"var(--space-3)"},children:[s.jsx("h4",{children:"温度感確認"}),s.jsx(il,{children:y.trial_close})]}),y.next_action&&s.jsxs("div",{style:{marginBottom:"var(--space-3)"},children:[s.jsx("h4",{children:"次のステップ提案"}),s.jsx(il,{children:y.next_action})]}),y.commitment&&s.jsxs("div",{style:{marginBottom:"var(--space-3)"},children:[s.jsx("h4",{children:"コミットメント獲得"}),s.jsx(il,{children:y.commitment})]}),y.follow_up&&s.jsxs("div",{style:{marginBottom:"var(--space-3)"},children:[s.jsx("h4",{children:"フォローアップ"}),s.jsx(il,{children:y.follow_up})]})]})]},x):null};return o?s.jsx(qy,{children:s.jsx(Hy,{children:s.jsx(Ade,{children:"読み込み中..."})})}):r?s.jsx(qy,{children:s.jsxs(Hy,{children:[s.jsxs(gde,{children:[s.jsx(yde,{children:"営業トークスクリプト"}),s.jsxs(xde,{children:[s.jsx(Vy,{children:r.customer}),s.jsx(Vy,{children:r.situation}),s.jsx(Vy,{children:r.visit_purpose})]}),s.jsxs(bde,{children:[i?s.jsxs(s.Fragment,{children:[s.jsxs(al,{success:!0,onClick:p,children:[s.jsx(m5,{})," 保存"]}),s.jsxs(al,{onClick:()=>{l(!1),d(r.script_sections||{})},children:[s.jsx(Ru,{})," キャンセル"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(al,{onClick:()=>l(!0),children:[s.jsx(v5,{})," 編集"]}),s.jsxs(al,{onClick:()=>window.print(),children:[s.jsx(vW,{})," 印刷"]})]}),s.jsx(al,{onClick:()=>t("/scripts"),children:"一覧へ戻る"})]})]}),s.jsx("div",{children:["opening","needs_discovery","value_proposition","objection_handling","closing"].map(x=>{var v;const y=(v=r.script_sections)==null?void 0:v[x];return y?g(x,y):null})})]})}):s.jsx(qy,{children:s.jsxs(Hy,{children:[s.jsx("p",{children:"スクリプトが見つかりません"}),s.jsx(al,{onClick:()=>t("/"),children:"ホームへ戻る"})]})})},U3=w.div`
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 var(--space-6);
  position: relative;
  z-index: 1;

  @media (max-width: 768px) {
    padding: 0 var(--space-4);
  }
`,W3=w.div`
  background-color: var(--color-surface);
  padding: var(--space-6);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-structure);
  margin-bottom: var(--space-6);
`,q3=w.h1`
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-thin);
  color: #ff6b35;
  margin-bottom: var(--space-4);
  letter-spacing: -0.025em;
  line-height: var(--line-height-compressed);
  text-transform: uppercase;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  display: flex;
  align-items: center;
  gap: var(--space-3);

  @media (max-width: 768px) {
    font-size: var(--font-size-heading);
  }
`,_de=w.div`
  display: flex;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
  flex-wrap: wrap;

  @media (max-width: 768px) {
    flex-direction: column;
  }
`,Ede=w.input`
  flex: 1;
  min-width: 250px;
  padding: var(--space-3) var(--space-4);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  background-color: var(--color-background);
  font-size: var(--font-size-small);
  color: var(--color-text-primary);
  transition: border-color 0.2s ease;
  
  &::placeholder {
    font-size: var(--font-size-small);
    color: var(--color-text-tertiary);
  }
  
  &:focus {
    outline: none;
    border-color: #ff6b35;
  }

  @media (max-width: 768px) {
    min-width: 100%;
  }
`,Ky=w.button`
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-4);
  background-color: ${e=>e.active?"#ff6b35":"var(--color-background)"};
  color: ${e=>e.active?"var(--color-text-inverse)":"var(--color-text-primary)"};
  border: 2px solid ${e=>e.active?"#ff6b35":"var(--color-border)"};
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover:not(:disabled) {
    background-color: ${e=>!e.active&&"#fff4f0"};
    border-color: #ff6b35;
    transform: translateY(-1px);
  }
`,Tde=w.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  gap: var(--space-5);
  min-height: 200px;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`,Mde=w.div`
  background: linear-gradient(135deg, #ffffff 0%, #fff8f5 100%);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  padding: var(--space-5);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: linear-gradient(180deg, #ff6b35 0%, #ff8c42 100%);
    transform: scaleY(0);
    transform-origin: bottom;
    transition: transform 0.3s ease;
  }

  &:hover {
    box-shadow: 0 8px 24px rgba(255, 107, 53, 0.2);
    transform: translateY(-4px);
    border-color: #ff6b35;

    &::before {
      transform: scaleY(1);
      transform-origin: top;
    }
  }
`,$de=w.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--space-3);
  gap: var(--space-2);
`,zde=w.h3`
  font-size: var(--font-size-lead);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin-bottom: var(--space-2);
  line-height: var(--line-height-compressed);
  flex: 1;
  word-break: break-word;
`,Dde=w.button`
  background: ${e=>e.isFavorite?"linear-gradient(135deg, #ff6b35, #ff8c42)":"white"};
  border: 2px solid ${e=>e.isFavorite?"#ff6b35":"var(--color-border)"};
  color: ${e=>e.isFavorite?"white":"var(--color-text-tertiary)"};
  font-size: var(--font-size-base);
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  padding: var(--space-2);
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-none);
  box-shadow: ${e=>e.isFavorite?"0 2px 8px rgba(255, 107, 53, 0.3)":"0 1px 3px rgba(0, 0, 0, 0.1)"};

  svg {
    transition: transform 0.3s ease;
    filter: ${e=>e.isFavorite?"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2))":"none"};
  }

  &:hover {
    background: linear-gradient(135deg, #ff6b35, #ff8c42);
    color: white;
    border-color: #ff6b35;
    transform: scale(1.1) rotate(${e=>e.isFavorite?"0deg":"15deg"});
    box-shadow: 0 4px 12px rgba(255, 107, 53, 0.4);

    svg {
      transform: scale(1.1);
    }
  }

  &:active {
    transform: scale(0.95);
  }
`,Ide=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
  color: var(--color-text-secondary);
  font-size: var(--font-size-small);
`,H3=w.div`
  display: flex;
  align-items: center;
  gap: var(--space-2);
  
  svg {
    font-size: var(--font-size-small);
    color: #ff6b35;
  }
`,Rde=w.div`
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
`,Nde=w.span`
  display: inline-flex;
  align-items: center;
  padding: var(--space-2) var(--space-3);
  background: linear-gradient(135deg, #ff6b35 0%, #ff8c42 100%);
  color: white;
  border-radius: var(--radius-none);
  font-size: var(--font-size-micro);
  font-weight: var(--font-weight-bold);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  box-shadow: 0 2px 4px rgba(255, 107, 53, 0.3);
  transition: all 0.2s ease;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.5s ease;
  }

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(255, 107, 53, 0.4);

    &::before {
      left: 100%;
    }
  }
`,Lde=w.div`
  display: flex;
  gap: var(--space-2);
  padding-top: var(--space-3);
  border-top: 2px solid var(--color-border);
`,cp=w.button`
  flex: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-3);
  background: white;
  color: var(--color-text-primary);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: linear-gradient(135deg, #ff6b35, #ff8c42);
    transform: translate(-50%, -50%);
    transition: width 0.4s ease, height 0.4s ease;
  }

  svg {
    position: relative;
    z-index: 1;
    transition: transform 0.3s ease;
  }

  span {
    position: relative;
    z-index: 1;
  }

  &:hover {
    color: white;
    border-color: #ff6b35;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);

    &::before {
      width: 300%;
      height: 300%;
    }

    svg {
      transform: scale(1.1);
    }
  }

  &:active {
    transform: translateY(0);
  }
`,Fde=w.div`
  text-align: center;
  padding: 0 var(--space-12) 30px var(--space-12);
  background-color: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  margin: var(--space-8) 0;
  
  h3 {
    font-size: var(--font-size-title);
    color: var(--color-text-secondary);
    margin: 0;
    margin-bottom: var(--space-6);
    padding-top: 30px;
  }
  
  p {
    color: var(--color-text-tertiary);
    margin: 0;
    margin-bottom: var(--space-10);
    padding: 0 var(--space-4);
  }
`,Bde=w.button`
  display: inline-flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-4) var(--space-6);
  background: linear-gradient(135deg, #ff6b35 0%, #ff8c42 100%);
  color: white;
  border: none;
  border-radius: var(--radius-none);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 30px;
  box-shadow: 0 4px 16px rgba(255, 107, 53, 0.4);
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.6s ease;
  }

  svg {
    transition: transform 0.3s ease;
  }

  &:hover {
    background: linear-gradient(135deg, #ff5722 0%, #ff6b35 100%);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(255, 107, 53, 0.5);

    &::before {
      left: 100%;
    }

    svg {
      transform: rotate(15deg) scale(1.2);
    }
  }

  &:active {
    transform: translateY(0);
  }
`,Ude=w.div`
  display: flex;
  gap: var(--space-4);
  margin-bottom: var(--space-4);
  padding: var(--space-5);
  background: linear-gradient(135deg, #ff6b35 0%, #ff8c42 50%, #ffa366 100%);
  border: none;
  border-radius: var(--radius-none);
  box-shadow: 0 4px 16px rgba(255, 107, 53, 0.3);
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
    animation: shimmer 3s infinite;
  }

  @keyframes shimmer {
    0%, 100% { transform: translate(0, 0); }
    50% { transform: translate(-10%, -10%); }
  }

  @media (max-width: 768px) {
    flex-direction: column;
  }
`,Yy=w.div`
  flex: 1;
  text-align: center;
  position: relative;
  z-index: 1;
  padding: var(--space-3);
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  transition: all 0.3s ease;

  &:hover {
    background: rgba(255, 255, 255, 0.25);
    transform: scale(1.05);
  }

  .stat-value {
    font-size: var(--font-size-display);
    font-weight: var(--font-weight-bold);
    color: white;
    letter-spacing: -0.025em;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .stat-label {
    font-size: var(--font-size-small);
    color: rgba(255, 255, 255, 0.95);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-weight: var(--font-weight-medium);
    margin-top: var(--space-2);
  }
`,Qy=w.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
`,Gy=w.div`
  background-color: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  padding: var(--space-6);
  max-width: 400px;
  width: 90%;
  box-shadow: var(--shadow-elevation);
`,Xy=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-4);
`,Jy=w.h3`
  font-size: var(--font-size-lead);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
`,Zy=w.button`
  background: none;
  border: none;
  color: var(--color-text-secondary);
  font-size: var(--font-size-lead);
  cursor: pointer;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover {
    color: var(--color-text-primary);
  }
`,up=w.div`
  margin-bottom: var(--space-4);
`,dp=w.label`
  display: block;
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  margin-bottom: var(--space-2);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,e0=w.div`
  color: var(--color-text-secondary);
  margin-bottom: var(--space-6);
  line-height: var(--line-height-relaxed);
`,t0=w.div`
  display: flex;
  gap: var(--space-3);
  justify-content: flex-end;
`,sl=w.button`
  padding: var(--space-3) var(--space-5);
  background-color: ${e=>e.danger?"#ff4444":"var(--color-background)"};
  color: ${e=>e.danger?"var(--color-text-inverse)":"var(--color-text-primary)"};
  border: 2px solid ${e=>e.danger?"#ff4444":"var(--color-border)"};
  border-radius: var(--radius-none);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  
  &:hover {
    background-color: ${e=>e.danger?"#ff2222":"#ff6b35"};
    color: var(--color-text-inverse);
    border-color: ${e=>e.danger?"#ff2222":"#ff6b35"};
    transform: translateY(-1px);
  }
`,Wde=()=>{const e=Kt(),{user:t}=oo(),[r,n]=m.useState([]),[o,a]=m.useState([]),[i,l]=m.useState(!0),[c,d]=m.useState(""),[u,f]=m.useState("all"),[p,h]=m.useState({isOpen:!1,scriptId:null,scriptName:""}),[g,x]=m.useState({isOpen:!1,scriptId:null,scriptName:""}),[y,v]=m.useState({isOpen:!1,customer:"",visitPurpose:"",customPurpose:"",situation:"初回訪問",customInput:!1}),[S,b]=m.useState([]),[j,k]=m.useState({total:0,favorites:0,thisMonth:0}),C=[{value:"initial",label:"初回訪問"},{value:"follow_up",label:"フォローアップ"},{value:"proposal",label:"提案"},{value:"negotiation",label:"価格交渉"},{value:"closing",label:"クロージング"},{value:"after_service",label:"アフターフォロー"},{value:"custom",label:"その他（自由入力）"}];m.useEffect(()=>{D(),O()},[]),m.useEffect(()=>{K()},[r,c,u]);const O=async()=>{try{const M=localStorage.getItem("token"),ee=await fetch("/api/tags?category=company&limit=100",{headers:{Authorization:`Bearer ${M}`}});if(ee.ok){const ae=await ee.json();b(ae)}}catch(M){console.error("Error fetching company tags:",M)}},D=async()=>{try{const M=localStorage.getItem("token"),ee=await fetch("/api/scripts?limit=100",{headers:{Authorization:`Bearer ${M}`}});if(ee.ok){const ae=await ee.json();n(ae),I(ae)}else q.error("スクリプトの取得に失敗しました")}catch(M){console.error("Error fetching scripts:",M),q.error("スクリプトの取得に失敗しました")}finally{l(!1)}},I=M=>{const ee=new Date,ae=M.filter(pe=>{const ge=new Date(pe.created_at);return ge.getMonth()===ee.getMonth()&&ge.getFullYear()===ee.getFullYear()});k({total:M.length,favorites:M.filter(pe=>pe.is_favorite).length,thisMonth:ae.length})},K=()=>{let M=[...r];switch(c&&(M=M.filter(ee=>{var ae,pe,ge,ke;return((ae=ee.script_name)==null?void 0:ae.toLowerCase().includes(c.toLowerCase()))||((pe=ee.customer)==null?void 0:pe.toLowerCase().includes(c.toLowerCase()))||((ge=ee.visit_purpose)==null?void 0:ge.toLowerCase().includes(c.toLowerCase()))||((ke=ee.tags)==null?void 0:ke.some(Te=>Te.toLowerCase().includes(c.toLowerCase())))})),u){case"favorites":M=M.filter(ae=>ae.is_favorite);break;case"recent":const ee=new Date;ee.setDate(ee.getDate()-7),M=M.filter(ae=>new Date(ae.created_at)>ee);break}M.sort((ee,ae)=>new Date(ae.created_at)-new Date(ee.created_at)),a(M)},X=async(M,ee)=>{try{const ae=localStorage.getItem("token");(await fetch(`/api/scripts/${M}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ae}`},body:JSON.stringify({is_favorite:!ee})})).ok&&(n(r.map(ge=>ge.id===M?{...ge,is_favorite:!ee}:ge)),q.success(ee?"お気に入りから削除しました":"お気に入りに追加しました"))}catch(ae){console.error("Error toggling favorite:",ae),q.error("お気に入りの更新に失敗しました")}},H=(M,ee)=>{h({isOpen:!0,scriptId:M,scriptName:ee})},T=()=>{h({isOpen:!1,scriptId:null,scriptName:""})},R=async()=>{const{scriptId:M}=p;try{const ee=localStorage.getItem("token");(await fetch(`/api/scripts/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${ee}`}})).ok&&(n(r.filter(pe=>pe.id!==M)),q.success("スクリプトを削除しました"),T())}catch(ee){console.error("Error deleting script:",ee),q.error("スクリプトの削除に失敗しました")}},G=async M=>{try{const ee=localStorage.getItem("token"),ae=await fetch(`/api/scripts/${M}/duplicate`,{method:"POST",headers:{Authorization:`Bearer ${ee}`}});if(ae.ok)await D(),q.success("スクリプトを複製しました");else{const pe=await ae.json();q.error(pe.error||"スクリプトの複製に失敗しました")}}catch(ee){console.error("Error duplicating script:",ee),q.error("スクリプトの複製に失敗しました")}},Q=(M,ee)=>{x({isOpen:!0,scriptId:M,scriptName:ee})},se=()=>{x({isOpen:!1,scriptId:null,scriptName:""})},re=async()=>{const{scriptId:M,scriptName:ee}=g;if(!ee.trim()){q.error("スクリプト名を入力してください");return}try{const ae=localStorage.getItem("token");(await fetch(`/api/scripts/${M}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ae}`},body:JSON.stringify({script_name:ee.trim()})})).ok&&(n(r.map(ge=>ge.id===M?{...ge,script_name:ee.trim()}:ge)),q.success("スクリプト名を更新しました"),se())}catch(ae){console.error("Error updating script name:",ae),q.error("スクリプト名の更新に失敗しました")}},$=()=>{v({isOpen:!0,customer:"",visitPurpose:"",customPurpose:"",situation:"初回訪問",customInput:!1})},V=()=>{v({isOpen:!1,customer:"",visitPurpose:"",customPurpose:"",situation:"初回訪問",customInput:!1})},U=()=>{const{customer:M,visitPurpose:ee,customPurpose:ae,situation:pe}=y;if(!M.trim()){q.error("顧客名を入力してください");return}if(!ee){q.error("訪問目的を選択してください");return}if(ee==="custom"&&!ae.trim()){q.error("訪問目的を入力してください");return}e("/script-generator",{state:{customer:M.trim(),visitPurpose:ee,customPurpose:ae.trim(),situation:pe}})};return i?s.jsx(U3,{children:s.jsx(W3,{children:s.jsx(q3,{children:"読み込み中..."})})}):s.jsxs(U3,{children:[s.jsxs(W3,{children:[s.jsxs(q3,{children:[s.jsx(pd,{})," トークスクリプト管理"]}),s.jsxs(Ude,{children:[s.jsxs(Yy,{children:[s.jsx("div",{className:"stat-value",children:j.total}),s.jsx("div",{className:"stat-label",children:"全スクリプト"})]}),s.jsxs(Yy,{children:[s.jsx("div",{className:"stat-value",children:j.favorites}),s.jsx("div",{className:"stat-label",children:"お気に入り"})]}),s.jsxs(Yy,{children:[s.jsx("div",{className:"stat-value",children:j.thisMonth}),s.jsx("div",{className:"stat-label",children:"今月作成"})]})]}),s.jsxs(_de,{children:[s.jsx(Ede,{type:"text",placeholder:"スクリプト名、顧客名、タグで検索...",value:c,onChange:M=>d(M.target.value)}),s.jsx(Ky,{active:u==="all",onClick:()=>f("all"),children:"すべて"}),s.jsxs(Ky,{active:u==="favorites",onClick:()=>f("favorites"),children:[s.jsx(Jk,{})," お気に入り"]}),s.jsxs(Ky,{active:u==="recent",onClick:()=>f("recent"),children:[s.jsx(Qk,{})," 最近作成"]})]})]}),o.length===0?s.jsxs(Fde,{children:[s.jsx("h3",{children:"スクリプトが見つかりません"}),!(c||u!=="all")&&s.jsx("p",{children:"新しいスクリプトを作成しましょう"}),s.jsxs(Bde,{onClick:$,children:[s.jsx(pd,{})," 新しいスクリプトを作成"]})]}):s.jsx(Tde,{children:o.map(M=>s.jsxs(Mde,{children:[s.jsxs($de,{children:[s.jsx(zde,{children:M.script_name||`${M.customer}_${M.visit_purpose}`}),s.jsx(Dde,{isFavorite:M.is_favorite,onClick:ee=>{ee.stopPropagation(),X(M.id,M.is_favorite)},children:s.jsx(Jk,{})})]}),s.jsxs(Ide,{children:[s.jsxs(H3,{children:[s.jsx(yW,{}),M.customer," / ",M.visit_purpose]}),s.jsxs(H3,{children:[s.jsx(Qk,{}),rn(new Date(M.created_at),"yyyy年MM月dd日",{locale:Vo})]})]}),M.tags&&M.tags.length>0&&s.jsx(Rde,{children:M.tags.map((ee,ae)=>s.jsx(Nde,{children:ee},ae))}),s.jsxs(Lde,{children:[s.jsxs(cp,{onClick:()=>e(`/scripts/${M.id}`),children:[s.jsx(pW,{})," 表示"]}),s.jsxs(cp,{onClick:ee=>{ee.stopPropagation(),Q(M.id,M.script_name||`${M.customer}_${M.visit_purpose}`)},children:[s.jsx(v5,{})," 編集"]}),s.jsxs(cp,{onClick:ee=>{ee.stopPropagation(),G(M.id)},children:[s.jsx(fW,{})," 複製"]}),s.jsxs(cp,{onClick:ee=>{ee.stopPropagation(),H(M.id,M.script_name||`${M.customer}_${M.visit_purpose}`)},children:[s.jsx(g5,{})," 削除"]})]})]},M.id))}),p.isOpen&&s.jsx(Qy,{onClick:T,children:s.jsxs(Gy,{onClick:M=>M.stopPropagation(),children:[s.jsxs(Xy,{children:[s.jsx(Jy,{children:"削除確認"}),s.jsx(Zy,{onClick:T,children:s.jsx(Ru,{})})]}),s.jsxs(e0,{children:["「",p.scriptName,"」を削除してもよろしいですか？",s.jsx("br",{}),"この操作は取り消すことができません。"]}),s.jsxs(t0,{children:[s.jsx(sl,{onClick:T,children:"キャンセル"}),s.jsx(sl,{danger:!0,onClick:R,children:"削除する"})]})]})}),g.isOpen&&s.jsx(Qy,{onClick:se,children:s.jsxs(Gy,{onClick:M=>M.stopPropagation(),children:[s.jsxs(Xy,{children:[s.jsx(Jy,{children:"スクリプト名を編集"}),s.jsx(Zy,{onClick:se,children:s.jsx(Ru,{})})]}),s.jsx(e0,{children:s.jsx("input",{type:"text",value:g.scriptName,onChange:M=>x({...g,scriptName:M.target.value}),style:{width:"100%",padding:"var(--space-3)",border:"2px solid var(--color-border)",borderRadius:"var(--radius-none)",backgroundColor:"var(--color-background)",fontSize:"var(--font-size-body)",color:"var(--color-text-primary)"},placeholder:"スクリプト名を入力",autoFocus:!0})}),s.jsxs(t0,{children:[s.jsx(sl,{onClick:se,children:"キャンセル"}),s.jsx(sl,{onClick:re,style:{backgroundColor:"#ff6b35",borderColor:"#ff6b35",color:"white"},children:"更新"})]})]})}),y.isOpen&&s.jsx(Qy,{onClick:V,children:s.jsxs(Gy,{onClick:M=>M.stopPropagation(),style:{maxWidth:"500px"},children:[s.jsxs(Xy,{children:[s.jsx(Jy,{children:"新しいスクリプトを作成"}),s.jsx(Zy,{onClick:V,children:s.jsx(Ru,{})})]}),s.jsxs(e0,{children:[s.jsxs(up,{children:[s.jsx(dp,{children:"顧客名"}),!y.customInput&&S.length>0?s.jsx(s.Fragment,{children:s.jsxs("select",{value:y.customer,onChange:M=>{M.target.value==="__custom__"?v({...y,customInput:!0,customer:""}):v({...y,customer:M.target.value})},style:{width:"100%",padding:"var(--space-3)",border:"2px solid var(--color-border)",borderRadius:"var(--radius-none)",backgroundColor:"var(--color-background)",fontSize:"var(--font-size-body)",color:"var(--color-text-primary)",marginBottom:"var(--space-2)"},children:[s.jsx("option",{value:"",children:"顧客を選択してください"}),S.map(M=>s.jsx("option",{value:M.name,children:M.name},M.id)),s.jsx("option",{value:"__custom__",children:"--- 新しい顧客を入力 ---"})]})}):s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",value:y.customer,onChange:M=>v({...y,customer:M.target.value}),style:{width:"100%",padding:"var(--space-3)",border:"2px solid var(--color-border)",borderRadius:"var(--radius-none)",backgroundColor:"var(--color-background)",fontSize:"var(--font-size-body)",color:"var(--color-text-primary)",marginBottom:"var(--space-2)"},placeholder:"顧客名を入力",autoFocus:!0}),S.length>0&&s.jsx("button",{onClick:()=>v({...y,customInput:!1,customer:""}),style:{fontSize:"var(--font-size-small)",color:"#ff6b35",background:"none",border:"none",cursor:"pointer",padding:0,textDecoration:"underline"},children:"既存の顧客から選択"})]})]}),s.jsxs(up,{children:[s.jsx(dp,{children:"訪問目的"}),s.jsxs("select",{value:y.visitPurpose,onChange:M=>v({...y,visitPurpose:M.target.value}),style:{width:"100%",padding:"var(--space-3)",border:"2px solid var(--color-border)",borderRadius:"var(--radius-none)",backgroundColor:"var(--color-background)",fontSize:"var(--font-size-body)",color:"var(--color-text-primary)"},children:[s.jsx("option",{value:"",children:"選択してください"}),C.map(M=>s.jsx("option",{value:M.value,children:M.label},M.value))]})]}),y.visitPurpose==="custom"&&s.jsxs(up,{children:[s.jsx(dp,{children:"訪問目的（自由入力）"}),s.jsx("input",{type:"text",value:y.customPurpose,onChange:M=>v({...y,customPurpose:M.target.value}),style:{width:"100%",padding:"var(--space-3)",border:"2px solid var(--color-border)",borderRadius:"var(--radius-none)",backgroundColor:"var(--color-background)",fontSize:"var(--font-size-body)",color:"var(--color-text-primary)"},placeholder:"訪問目的を入力してください"})]}),s.jsxs(up,{style:{marginBottom:0},children:[s.jsx(dp,{children:"商談段階"}),s.jsxs("select",{value:y.situation,onChange:M=>v({...y,situation:M.target.value}),style:{width:"100%",padding:"var(--space-3)",border:"2px solid var(--color-border)",borderRadius:"var(--radius-none)",backgroundColor:"var(--color-background)",fontSize:"var(--font-size-body)",color:"var(--color-text-primary)"},children:[s.jsx("option",{value:"初回訪問",children:"初回訪問"}),s.jsx("option",{value:"ヒアリング",children:"ヒアリング"}),s.jsx("option",{value:"提案",children:"提案"}),s.jsx("option",{value:"見積提示",children:"見積提示"}),s.jsx("option",{value:"クロージング",children:"クロージング"}),s.jsx("option",{value:"契約締結",children:"契約締結"}),s.jsx("option",{value:"アフターフォロー",children:"アフターフォロー"})]})]})]}),s.jsxs(t0,{children:[s.jsx(sl,{onClick:V,children:"キャンセル"}),s.jsx(sl,{onClick:U,style:{backgroundColor:"#ff6b35",borderColor:"#ff6b35",color:"white"},children:"作成"})]})]})})]})},V3=w.div`
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 var(--space-6);
  position: relative;
  z-index: 1;

  @media (max-width: 768px) {
    padding: 0 var(--space-4);
  }
`,K3=w.div`
  background-color: var(--color-surface);
  padding: var(--space-6);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  box-shadow: var(--shadow-structure);
  margin-bottom: var(--space-6);
  position: relative;
  
  @media (max-width: 768px) {
    padding: var(--space-5);
    margin-bottom: var(--space-4);
  }
`,Y3=w.h1`
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-thin);
  color: #ff6b35;
  margin-bottom: var(--space-5);
  letter-spacing: -0.025em;
  line-height: var(--line-height-compressed);
  display: flex;
  align-items: center;
  gap: var(--space-3);

  @media (max-width: 768px) {
    font-size: var(--font-size-heading);
  }
`,uu=w.div`
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-6);
  border-bottom: 2px solid var(--color-border);
  
  &:last-child {
    border-bottom: none;
    padding-bottom: 0;
  }
`,du=w.h2`
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin-bottom: var(--space-4);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,fu=w.div`
  margin-bottom: var(--space-4);
`,pu=w.label`
  display: block;
  font-weight: var(--font-weight-medium);
  margin-bottom: var(--space-2);
  color: var(--color-text-primary);
  font-size: var(--font-size-body);
`,Q3=w.input`
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  background-color: var(--color-background);
  font-size: var(--font-size-body);
  color: var(--color-text-primary);
  transition: border-color 0.2s ease;
  
  &:focus {
    outline: none;
    border-color: #ff6b35;
  }
`,G3=w.select`
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  background-color: var(--color-background);
  font-size: var(--font-size-body);
  color: var(--color-text-primary);
  transition: border-color 0.2s ease;
  
  &:focus {
    outline: none;
    border-color: #ff6b35;
  }
`,qde=w.input`
  width: 120px;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  background-color: var(--color-background);
  font-size: var(--font-size-body);
  color: var(--color-text-primary);
  transition: border-color 0.2s ease;
  
  &:focus {
    outline: none;
    border-color: #ff6b35;
  }
`,Hde=w.textarea`
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  background-color: var(--color-background);
  font-size: var(--font-size-body);
  color: var(--color-text-primary);
  resize: vertical;
  min-height: 80px;
  transition: border-color 0.2s ease;
  
  &:focus {
    outline: none;
    border-color: #ff6b35;
  }
`,X3=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
`,fp=w.label`
  display: flex;
  align-items: center;
  gap: var(--space-2);
  cursor: pointer;
  font-size: var(--font-size-body);
  
  input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
  }
`,Vde=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  margin-top: var(--space-4);
`,Kde=w.div`
  display: flex;
  gap: var(--space-2);
  align-items: flex-start;
  padding: var(--space-3);
  background-color: var(--color-background);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  position: relative;
`,Yde=w.div`
  min-width: 30px;
  height: 30px;
  background-color: #ff6b35;
  color: var(--color-text-inverse);
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  font-weight: var(--font-weight-bold);
  font-size: var(--font-size-small);
`,Qde=w.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
`,Gde=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
`,r0=w.button`
  background: none;
  border: none;
  color: var(--color-text-secondary);
  cursor: pointer;
  padding: var(--space-1);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: color 0.2s ease;
  
  &:hover {
    color: #ff6b35;
  }
  
  &:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }
`,Xde=w.div`
  display: flex;
  gap: var(--space-3);
  margin-top: var(--space-6);
  
  @media (max-width: 768px) {
    flex-direction: column;
  }
`,n0=w.button`
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-5);
  background-color: ${e=>e.primary?"#ff6b35":"var(--color-background)"};
  color: ${e=>e.primary?"var(--color-text-inverse)":"var(--color-text-primary)"};
  border: 2px solid ${e=>e.primary?"#ff6b35":"var(--color-border)"};
  border-radius: var(--radius-none);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  
  &:hover:not(:disabled) {
    background-color: ${e=>e.primary?"#ff5722":"#fff4f0"};
    border-color: ${e=>e.primary?"#ff5722":"#ff6b35"};
    transform: translateY(-2px);
    box-shadow: var(--shadow-elevation);
  }
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  
  @media (max-width: 768px) {
    width: 100%;
    justify-content: center;
  }
`,J3=w.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: var(--space-4);
  margin-top: var(--space-4);
`,Z3=w.div`
  padding: var(--space-4);
  background-color: ${e=>e.selected?"#fff4f0":"var(--color-background)"};
  border: 2px solid ${e=>e.selected?"#ff6b35":"var(--color-border)"};
  border-radius: var(--radius-none);
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    border-color: #ff6b35;
    transform: translateY(-2px);
    box-shadow: var(--shadow-elevation);
  }
  
  h4 {
    font-size: var(--font-size-body);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
    margin-bottom: var(--space-2);
  }
  
  p {
    font-size: var(--font-size-small);
    color: var(--color-text-secondary);
    margin: 0;
  }
`,eA=w.div`
  padding: var(--space-4);
  background-color: #fff4f0;
  border: 2px solid #ffb088;
  border-radius: var(--radius-none);
  margin-bottom: var(--space-4);
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
  line-height: var(--line-height-relaxed);
`,Jde=()=>{var S;const e=Kt(),{id:t}=mc(),[r,n]=m.useState(!1),[o,a]=m.useState([]),[i,l]=m.useState({name:`カスタム設定 ${new Date().toLocaleDateString("ja-JP")}`,description:"",greeting:"お疲れ様です！今日はどんな一日でしたか？",input_mode:"voice",max_questions:5,question_template:"default",custom_questions:[],required_slots:["customer","project","next_action","budget","schedule","participants","location","issues"],optional_slots:[],enable_follow_up:!0,follow_up_threshold:.7,enable_smart_skip:!0,is_default:!1}),c={default:{name:"スタンダード",description:"一般的な営業活動向け",questions:[{text:"本日訪問された顧客はどちらでしたか？",targetSlot:"customer",required:!0},{text:"どのような商談内容でしたか？",targetSlot:"project",required:!0},{text:"次のアクションは何ですか？",targetSlot:"next_action",required:!0},{text:"課題や懸念点はありましたか？",targetSlot:"issues",required:!1},{text:"他に共有したいことはありますか？",targetSlot:null,required:!1}]},detailed:{name:"詳細ヒアリング",description:"重要商談向けの詳細版",questions:[{text:"本日の訪問先と参加者を教えてください",targetSlot:"customer",required:!0},{text:"商談の主な議題は何でしたか？",targetSlot:"project",required:!0},{text:"予算感はいかがでしたか？",targetSlot:"budget",required:!1},{text:"スケジュール感を教えてください",targetSlot:"schedule",required:!1},{text:"競合他社の動きはありましたか？",targetSlot:null,required:!1},{text:"決裁者の反応はどうでしたか？",targetSlot:null,required:!1},{text:"次のアクションと期日を教えてください",targetSlot:"next_action",required:!0}]},quick:{name:"クイック",description:"手短な報告向け（3問）",questions:[{text:"顧客名と案件名を教えてください",targetSlot:"customer",required:!0},{text:"結果と次のアクションは？",targetSlot:"next_action",required:!0},{text:"特記事項があれば教えてください",targetSlot:"issues",required:!1}]},meeting:{name:"議事録深掘り",description:"議事録から抽出された情報を補完",questions:[{text:"議事録に記載のない顧客の雰囲気や反応はいかがでしたか？",targetSlot:null,required:!1},{text:"議事録では分からない懸念点や課題はありましたか？",targetSlot:"issues",required:!1},{text:"参加者の中で特に重要な発言をした方はいましたか？",targetSlot:null,required:!1},{text:"議事録に記載されていない次のアクションはありますか？",targetSlot:"next_action",required:!1},{text:"全体を通して印象に残ったことを教えてください",targetSlot:null,required:!1}]}};m.useEffect(()=>{d()},[t]);const d=async()=>{n(!0);try{const b=await bo.getAll();if(a(b),t){const j=await bo.get(t);l({...j,custom_questions:j.custom_questions||[]})}else try{const j=await bo.getDefault();j.id&&l({...j,name:`カスタム設定 ${new Date().toLocaleDateString("ja-JP")}`,description:"",is_default:!1})}catch{console.log("デフォルト設定が存在しません")}}catch(b){console.error("Error loading settings:",b),q.error("設定の読み込みに失敗しました")}finally{n(!1)}},u=b=>{const j=c[b];l(k=>({...k,question_template:b,custom_questions:j.questions,max_questions:j.questions.length}))},f=()=>{l(b=>{const j=[...b.custom_questions,{text:"",targetSlot:null,required:!1}];return{...b,custom_questions:j,max_questions:Math.max(b.max_questions||5,j.length)}})},p=(b,j,k)=>{l(C=>({...C,custom_questions:C.custom_questions.map((O,D)=>D===b?{...O,[j]:k}:O)}))},h=b=>{l(j=>{const k=j.custom_questions.filter((C,O)=>O!==b);return{...j,custom_questions:k,max_questions:Math.max(k.length,Math.min(j.max_questions||5,10))}})},g=(b,j)=>{const k=[...i.custom_questions],C=j==="up"?b-1:b+1;C>=0&&C<k.length&&([k[b],k[C]]=[k[C],k[b]],l(O=>({...O,custom_questions:k})))},x=(b,j)=>{l(k=>{const C=[...k.required_slots],O=[...k.optional_slots];if(C.includes(b)){if(C.length<=3)return q.error("最低3つの項目を選択してください"),k;const D=C.indexOf(b);C.splice(D,1),O.push(b)}else{const D=O.indexOf(b);D>-1&&O.splice(D,1),C.push(b)}return{...k,required_slots:C,optional_slots:O}})},y=async()=>{if(!i.name||!i.name.trim()){const b=c[i.question_template],j=b?b.name:"カスタム";i.name=`${j}設定 ${new Date().toLocaleDateString("ja-JP")}`}if(i.custom_questions.length===0){q.error("質問を1つ以上設定してください");return}if(i.required_slots.length<3){q.error("収集する情報は最低3つ選択してください");return}if(i.custom_questions.some(b=>!b.text.trim())){q.error("空の質問があります");return}n(!0);try{t?(await bo.update(t,i),q.success("設定を更新しました")):(await bo.create(i),q.success("カスタム設定を保存しました")),await d()}catch(b){console.error("Error saving settings:",b),q.error("設定の保存に失敗しました")}finally{n(!1)}},v=async b=>{try{const j=await bo.get(b);l(j),q.success(`設定「${j.name}」を読み込みました`)}catch(j){console.error("Error loading setting:",j),q.error("設定の読み込みに失敗しました")}};return r?s.jsx(V3,{children:s.jsx(K3,{children:s.jsxs(Y3,{children:[s.jsx(zx,{})," 読み込み中..."]})})}):s.jsx(V3,{children:s.jsxs(K3,{children:[s.jsxs(Y3,{children:[s.jsx(zx,{})," AIヒアリング設定管理"]}),s.jsx(eA,{children:"AIヒアリングの質問内容や回数をカスタマイズして保存できます。 作成した設定は、ヒアリング開始時に選択して使用できます。"}),o&&o.length>0&&s.jsxs(uu,{children:[s.jsx(du,{children:"保存済み設定"}),s.jsx(eA,{style:{marginBottom:"var(--space-4)"},children:"複数のカスタム設定を作成できます。業界別、顧客タイプ別などで設定を使い分けることができます。"}),s.jsx(J3,{children:(()=>{const b=o.filter(k=>!k.is_default).sort((k,C)=>new Date(C.updated_at)-new Date(k.updated_at)),j={voice:"音声入力用",text:"テキスト入力用",both:"両方用",meeting:"議事録用"};return b.map(k=>s.jsxs(Z3,{selected:i.id===k.id,onClick:()=>v(k.id),children:[s.jsx("h4",{children:k.name}),k.description&&s.jsx("p",{children:k.description}),s.jsx("p",{style:{marginTop:"var(--space-2)",fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-bold)",color:"#ff6b35"},children:j[k.input_mode]||k.input_mode}),s.jsxs("p",{style:{marginTop:"var(--space-1)",fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)"},children:["質問数: ",k.max_questions,"問"]})]},k.id))})()})]}),s.jsxs(uu,{children:[s.jsx(du,{children:"基本設定"}),s.jsxs(fu,{children:[s.jsx(pu,{htmlFor:"settingName",children:"設定名 *"}),s.jsx(Q3,{id:"settingName",type:"text",value:i.name,onChange:b=>l({...i,name:b.target.value}),placeholder:"例: 建設業向け設定、IT企業向け設定",required:!0}),s.jsx("div",{style:{marginTop:"var(--space-2)",fontSize:"var(--font-size-micro)",color:"var(--color-text-secondary)"},children:"この設定を識別するための名前を入力してください"})]}),i.input_mode!=="meeting"&&s.jsxs(fu,{children:[s.jsx(pu,{htmlFor:"greeting",children:"開始時の挨拶文"}),s.jsx(Q3,{id:"greeting",type:"text",value:i.greeting,onChange:b=>l({...i,greeting:b.target.value}),placeholder:"お疲れ様です！今日はどんな一日でしたか？"})]}),i.input_mode==="meeting"&&s.jsxs("div",{style:{padding:"var(--space-3)",backgroundColor:"#fff4f0",border:"2px solid #ffb088",borderRadius:"var(--radius-none)",marginBottom:"var(--space-4)",fontSize:"var(--font-size-small)",color:"var(--color-text-secondary)"},children:["議事録モードでは、挨拶文は議事録の内容から自動生成されます",s.jsx("br",{}),"例: 「〇〇株式会社様との面談はいかがでしたか？」"]}),s.jsxs(fu,{children:[s.jsx(pu,{htmlFor:"inputMode",children:"設定適用入力方式"}),s.jsxs(G3,{id:"inputMode",value:i.input_mode,onChange:b=>{const j=b.target.value;j==="meeting"?u("meeting"):i.question_template==="meeting"&&u("default"),l({...i,input_mode:j})},children:[s.jsx("option",{value:"voice",children:"音声入力のみ"}),s.jsx("option",{value:"text",children:"テキスト入力のみ"}),s.jsx("option",{value:"both",children:"両方（切り替え可能）"}),s.jsx("option",{value:"meeting",children:"議事録モード"})]}),s.jsxs("div",{style:{marginTop:"var(--space-3)",padding:"var(--space-3)",backgroundColor:"#fff4f0",border:"2px solid #ffb088",borderRadius:"var(--radius-none)",fontSize:"var(--font-size-small)",color:"var(--color-text-secondary)"},children:[s.jsx("div",{style:{fontWeight:"var(--font-weight-bold)",marginBottom:"var(--space-2)",color:"#ff6b35"},children:"入力方式について"}),s.jsxs("ul",{style:{margin:0,paddingLeft:"var(--space-5)",lineHeight:"1.6"},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"音声入力のみ"}),": 音声での回答に最適化された質問"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"テキスト入力のみ"}),": キーボード入力向けの質問"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"両方"}),": 状況に応じて音声・テキストを切り替え"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"議事録モード"}),": 議事録から自動抽出された情報を補完する追加質問"]})]}),s.jsx("p",{style:{marginTop:"var(--space-2)",marginBottom:0,fontSize:"var(--font-size-micro)",color:"#ff6b35"},children:"複数のカスタム設定を作成して保存できます（業界別、顧客別など）"})]})]}),s.jsxs(fu,{children:[s.jsx(pu,{htmlFor:"maxQuestions",children:"最大質問回数"}),s.jsx(qde,{id:"maxQuestions",type:"number",min:"3",max:"10",value:i.max_questions||5,onChange:b=>l({...i,max_questions:parseInt(b.target.value)||5})}),s.jsx("span",{style:{marginLeft:"var(--space-2)",fontSize:"var(--font-size-small)",color:"var(--color-text-secondary)"},children:"回まで（3〜10回）"}),s.jsx("p",{style:{marginTop:"var(--space-2)",fontSize:"var(--font-size-micro)",color:"var(--color-text-tertiary)"},children:"※ テンプレート選択時は自動で設定されます"})]})]}),s.jsxs(uu,{children:[s.jsx(du,{children:"質問テンプレート"}),i.input_mode==="meeting"&&s.jsx("div",{style:{padding:"var(--space-3)",backgroundColor:"#fff4f0",border:"2px solid #ffb088",borderRadius:"var(--radius-none)",marginBottom:"var(--space-4)",fontSize:"var(--font-size-small)",color:"var(--color-text-secondary)"},children:"議事録モードでは「議事録深掘り」テンプレートのみ使用できます"}),i.question_template&&c[i.question_template]&&s.jsxs("div",{style:{padding:"var(--space-3)",backgroundColor:"#fff4f0",border:"2px solid #ff6b35",borderRadius:"var(--radius-none)",marginBottom:"var(--space-4)",fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-medium)",color:"#ff6b35"},children:["現在の設定: ",c[i.question_template].name," (",((S=i.custom_questions)==null?void 0:S.length)||0,"問)"]}),s.jsx(J3,{children:Object.entries(c).filter(([b,j])=>i.input_mode==="meeting"?b==="meeting":b!=="meeting").map(([b,j])=>s.jsxs(Z3,{selected:i.question_template===b,onClick:()=>u(b),children:[s.jsx("h4",{children:j.name}),s.jsx("p",{children:j.description}),s.jsxs("p",{style:{marginTop:"var(--space-2)"},children:["質問数: ",j.questions.length,"問"]}),i.question_template===b&&s.jsx("div",{style:{marginTop:"var(--space-2)",padding:"var(--space-1) var(--space-2)",backgroundColor:"#ff6b35",color:"white",fontSize:"var(--font-size-micro)",fontWeight:"var(--font-weight-bold)",borderRadius:"var(--radius-none)",textAlign:"center",textTransform:"uppercase",letterSpacing:"0.05em"},children:"選択中"})]},b))}),s.jsxs(Vde,{children:[s.jsx("h3",{style:{fontSize:"var(--font-size-body)",fontWeight:"var(--font-weight-bold)",marginBottom:"var(--space-3)"},children:"カスタム質問リスト"}),(i.custom_questions||[]).map((b,j)=>s.jsxs(Kde,{children:[s.jsx(Yde,{children:j+1}),s.jsxs(Qde,{children:[s.jsx(Hde,{value:b.text,onChange:k=>p(j,"text",k.target.value),placeholder:"質問内容を入力..."}),s.jsxs("div",{style:{display:"flex",gap:"var(--space-3)",alignItems:"center"},children:[s.jsxs(G3,{value:b.targetSlot||"",onChange:k=>p(j,"targetSlot",k.target.value||null),style:{width:"200px"},children:[s.jsx("option",{value:"",children:"対象スロットなし"}),s.jsx("option",{value:"customer",children:"顧客名"}),s.jsx("option",{value:"project",children:"案件名"}),s.jsx("option",{value:"next_action",children:"次アクション"}),s.jsx("option",{value:"budget",children:"予算"}),s.jsx("option",{value:"schedule",children:"スケジュール"}),s.jsx("option",{value:"participants",children:"参加者"}),s.jsx("option",{value:"location",children:"場所"}),s.jsx("option",{value:"issues",children:"課題"})]}),s.jsxs(fp,{children:[s.jsx("input",{type:"checkbox",checked:b.required,onChange:k=>p(j,"required",k.target.checked)}),"必須質問"]})]})]}),s.jsxs(Gde,{children:[s.jsx(r0,{onClick:()=>g(j,"up"),disabled:j===0,children:s.jsx(uW,{})}),s.jsx(r0,{onClick:()=>g(j,"down"),disabled:j===i.custom_questions.length-1,children:s.jsx(sW,{})}),s.jsx(r0,{onClick:()=>h(j),children:s.jsx(g5,{})})]})]},j)),s.jsxs(n0,{onClick:f,children:[s.jsx(hW,{})," 質問を追加"]})]})]}),s.jsxs(uu,{children:[s.jsx(du,{children:"収集する情報（スロット）"}),s.jsx("div",{style:{padding:"var(--space-3)",marginBottom:"var(--space-4)",backgroundColor:"#fff4f0",border:"1px solid #ffb088",borderRadius:"var(--radius-none)",fontSize:"var(--font-size-small)",color:"var(--color-text-secondary)"},children:"※ 最低3つの項目を選択してください"}),s.jsxs(fu,{children:[s.jsx(pu,{children:"必須項目"}),s.jsx(X3,{children:["customer","project","next_action","budget","schedule","participants","location","issues"].map(b=>s.jsxs(fp,{children:[s.jsx("input",{type:"checkbox",checked:i.required_slots.includes(b),onChange:()=>x(b)}),b==="customer"&&"顧客名",b==="project"&&"案件名",b==="next_action"&&"次のアクション",b==="budget"&&"予算",b==="schedule"&&"スケジュール",b==="participants"&&"参加者",b==="location"&&"場所",b==="issues"&&"課題・リスク"]},b))})]})]}),s.jsxs(uu,{children:[s.jsx(du,{children:"高度な設定"}),s.jsxs(X3,{children:[s.jsxs(fp,{children:[s.jsx("input",{type:"checkbox",checked:i.enable_follow_up,onChange:b=>l({...i,enable_follow_up:b.target.checked})}),"動的フォローアップを有効化（未入力項目を自動で追加質問）"]}),s.jsxs(fp,{children:[s.jsx("input",{type:"checkbox",checked:i.enable_smart_skip,onChange:b=>l({...i,enable_smart_skip:b.target.checked})}),"スマートスキップを有効化（十分な情報が集まったら早めに終了）"]})]})]}),s.jsx("div",{style:{padding:"var(--space-4)",backgroundColor:"#fff4f0",border:"2px solid #ff6b35",borderRadius:"var(--radius-none)",marginBottom:"var(--space-4)",fontSize:"var(--font-size-small)",textAlign:"center"},children:(()=>{const b={voice:"音声入力用",text:"テキスト入力用",both:"両方用",meeting:"議事録用"};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{fontWeight:"var(--font-weight-bold)",color:"#ff6b35",marginBottom:"var(--space-2)"},children:["保存先: ",b[i.input_mode]||i.input_mode]}),s.jsxs("div",{style:{fontSize:"var(--font-size-micro)",color:"var(--color-text-secondary)"},children:["この設定は「",b[i.input_mode],"」として保存されます"]})]})})()}),s.jsxs(Xde,{children:[s.jsxs(n0,{onClick:()=>e("/"),children:[s.jsx(Ru,{})," ホームへ戻る"]}),s.jsxs(n0,{primary:!0,onClick:y,children:[s.jsx(m5,{})," 設定を保存"]})]})]})})},tA=w.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-6);
`,Zde=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-4);
  border-bottom: 2px solid var(--color-border);
`,efe=w.h1`
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-thin);
  color: var(--color-primary);
  margin: 0;
`,tfe=w.button`
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-border);
  background: transparent;
  color: var(--color-text);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  border-radius: var(--radius-none);
  transition: all 0.2s;

  &:hover {
    border-color: var(--color-accent);
    color: var(--color-accent);
  }
`,rfe=w.div`
  margin-bottom: var(--space-6);
`,nfe=w.h2`
  font-size: var(--font-size-large);
  font-weight: var(--font-weight-bold);
  color: var(--color-text);
  margin-bottom: var(--space-4);
  display: flex;
  align-items: center;
  gap: var(--space-3);
`,ofe=w.span`
  padding: var(--space-1) var(--space-3);
  background: var(--color-background);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
`,afe=w.table`
  width: 100%;
  border-collapse: collapse;
  background: var(--color-surface);
  border: 2px solid var(--color-border);
`,hu=w.th`
  padding: var(--space-4);
  text-align: left;
  background: var(--color-background);
  border-bottom: 2px solid var(--color-border);
  font-weight: var(--font-weight-bold);
  color: var(--color-text);
  font-size: var(--font-size-base);
`,vu=w.td`
  padding: var(--space-4);
  border-bottom: 1px solid var(--color-border);
  color: var(--color-text);
`,rA=w.div`
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background-color: ${e=>e.color||"#6B7280"};
  border: 2px solid var(--color-border);
`,ll=w.button`
  padding: var(--space-2) var(--space-3);
  margin-right: var(--space-2);
  border: 2px solid ${e=>e.danger?"#EF4444":"var(--color-border)"};
  background: transparent;
  color: ${e=>e.danger?"#EF4444":"var(--color-text)"};
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-small);
  cursor: pointer;
  border-radius: var(--radius-none);
  transition: all 0.2s;

  &:hover {
    ${e=>e.danger?`
      background: #EF4444;
      color: white;
    `:`
      border-color: var(--color-accent);
      color: var(--color-accent);
    `}
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,ife=w.div`
  padding: var(--space-8);
  text-align: center;
  color: var(--color-text-secondary);
  border: 2px dashed var(--color-border);
  border-radius: var(--radius-none);
`,sfe=w.div`
  padding: var(--space-8);
  text-align: center;
  color: var(--color-text-secondary);
`,lfe=w.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
`,cfe=w.div`
  background: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  padding: var(--space-6);
  max-width: 500px;
  width: 90%;
`,ufe=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-4);
  padding-bottom: var(--space-4);
  border-bottom: 2px solid var(--color-border);
`,dfe=w.h2`
  font-size: var(--font-size-large);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin: 0;
`,ffe=w.button`
  background: transparent;
  border: none;
  font-size: var(--font-size-large);
  cursor: pointer;
  color: var(--color-text-secondary);
  padding: var(--space-2);

  &:hover {
    color: var(--color-accent);
  }
`,o0=w.div`
  margin-bottom: var(--space-4);
`,a0=w.label`
  display: block;
  margin-bottom: var(--space-2);
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
`,nA=w.input`
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-base);
  background: var(--color-background);
  color: var(--color-text);

  &:focus {
    outline: none;
    border-color: var(--color-accent);
  }
`,pfe=w.select`
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  font-size: var(--font-size-base);
  background: var(--color-background);
  color: var(--color-text);

  &:focus {
    outline: none;
    border-color: var(--color-accent);
  }
`,hfe=w.div`
  display: flex;
  gap: var(--space-3);
  align-items: center;
`,vfe=w.input`
  width: 60px;
  height: 40px;
  border: 2px solid var(--color-border);
  border-radius: var(--radius-none);
  cursor: pointer;
`,mfe=w.div`
  display: flex;
  gap: var(--space-3);
  justify-content: flex-end;
  margin-top: var(--space-6);
`,gfe=w.button`
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-accent);
  background: var(--color-accent);
  color: white;
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  border-radius: var(--radius-none);
  transition: all 0.2s;

  &:hover {
    background: var(--color-primary);
    border-color: var(--color-primary);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,yfe=w.button`
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-border);
  background: transparent;
  color: var(--color-text);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  border-radius: var(--radius-none);
  transition: all 0.2s;

  &:hover {
    border-color: var(--color-text-secondary);
  }
`,xfe=()=>{const e=Kt(),t=ji(),{isManager:r}=oo(),[n,o]=m.useState(null),[a,i]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState([]),[f,p]=m.useState({name:"",category:"company",color:"#3B82F6"}),{data:h=[],isLoading:g,error:x,isFetching:y}=Or({queryKey:["allTags"],queryFn:async()=>{console.log("[TagManagePage] Fetching all tags...");const T=await Ur.getAll(null,200);return console.log("[TagManagePage] Fetched tags:",T),T},staleTime:0,refetchOnMount:!0});Le.useEffect(()=>{console.log("[TagManagePage] State:",{allTags:h,tagsCount:h.length,isLoading:g,isFetching:y,error:x})},[h,g,y,x]),Le.useEffect(()=>{console.log("[TagManagePage] Mounted - Invalidating tag cache..."),t.invalidateQueries(["allTags"]),t.invalidateQueries(["popularTags"])},[t]);const v=_t({mutationFn:T=>Ur.createTag(T),onSuccess:()=>{t.invalidateQueries(["allTags"]),t.invalidateQueries(["popularTags"]),i(!1),p({name:"",category:"company",color:"#3B82F6"}),q.success("タグを作成しました")},onError:T=>{var G,Q;const R=((Q=(G=T.response)==null?void 0:G.data)==null?void 0:Q.message)||"タグの作成に失敗しました";q.error(R),console.error("Create tag error:",T)}}),S=_t({mutationFn:T=>Ur.deleteTag(T),onSuccess:()=>{t.invalidateQueries(["allTags"]),t.invalidateQueries(["popularTags"]),q.success("タグを削除しました")},onError:T=>{q.error("タグの削除に失敗しました"),console.error("Delete tag error:",T)}}),b=_t({mutationFn:({tagId:T,updates:R})=>Ur.updateTag(T,R),onSuccess:()=>{t.invalidateQueries(["allTags"]),t.invalidateQueries(["popularTags"]),o(null),q.success("タグを更新しました")},onError:T=>{q.error("タグの更新に失敗しました"),console.error("Update tag error:",T)}}),j=_t({mutationFn:({sourceTagIds:T,targetTagId:R})=>Ur.mergeTags(T,R),onSuccess:()=>{t.invalidateQueries(["allTags"]),t.invalidateQueries(["popularTags"]),c(!1),u([]),q.success("タグを統合しました")},onError:T=>{q.error("タグの統合に失敗しました"),console.error("Merge tags error:",T)}}),k=(T,R)=>{window.confirm(`「${R}」を削除してもよろしいですか？
関連する日報からもこのタグが削除されます。`)&&S.mutate(T)},C=()=>{if(d.length<2){q.error("統合するタグを2つ以上選択してください");return}const T=d[0],R=d.slice(1),G=h.find(Q=>Q.id===T);window.confirm(`「${G.name}」に統合します。
他の選択したタグは削除されます。よろしいですか？`)&&j.mutate({sourceTagIds:R,targetTagId:T})},O=T=>{u(R=>R.includes(T)?R.filter(G=>G!==T):[...R,T])};Le.useEffect(()=>{n&&p({name:n.name,category:n.category,color:n.color})},[n]);const D=()=>{p({name:"",category:"company",color:"#3B82F6"}),i(!0)},I=()=>{if(!f.name.trim()){q.error("タグ名を入力してください");return}a?v.mutate({name:f.name,category:f.category,color:f.color}):b.mutate({tagId:n.id,updates:{name:f.name,category:f.category,color:f.color}})},K=()=>{i(!1),o(null),p({name:"",category:"company",color:"#3B82F6"})};if(g)return s.jsx(tA,{children:s.jsx(sfe,{children:"タグ一覧を読み込み中..."})});const X=h.reduce((T,R)=>(T[R.category]||(T[R.category]=[]),T[R.category].push(R),T),{}),H={company:"企業名",person:"人物",topic:"話題",emotion:"感情",stage:"ステージ",industry:"業界",product:"製品・サービス"};return s.jsxs(tA,{children:[s.jsxs(Zde,{children:[s.jsx(efe,{children:"タグ管理"}),s.jsxs("div",{style:{display:"flex",gap:"var(--space-3)"},children:[l?s.jsxs(s.Fragment,{children:[s.jsx(ll,{onClick:()=>{c(!1),u([])},children:"キャンセル"}),s.jsxs(ll,{onClick:C,disabled:d.length<2,children:["統合実行 (",d.length,"個選択中)"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(ll,{onClick:D,children:"+ タグを作成"}),s.jsx(ll,{onClick:()=>c(!0),children:"タグを統合"})]}),s.jsx(tfe,{onClick:()=>e("/"),children:"← ホームに戻る"})]})]}),h.length===0?s.jsxs(ife,{children:[s.jsx("p",{children:"タグがまだありません"}),s.jsx("p",{style:{fontSize:"var(--font-size-small)",marginTop:"var(--space-2)"},children:"日報を作成すると、AIが自動的にタグを抽出します"})]}):Object.entries(X).map(([T,R])=>s.jsxs(rfe,{children:[s.jsxs(nfe,{children:[H[T]||T,s.jsxs(ofe,{children:[R.length,"個"]})]}),s.jsxs(afe,{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[l&&s.jsx(hu,{style:{width:"50px"},children:"選択"}),s.jsx(hu,{children:"タグ名"}),s.jsx(hu,{style:{width:"100px"},children:"色"}),s.jsx(hu,{style:{width:"100px"},children:"使用回数"}),s.jsx(hu,{style:{width:"150px"},children:"操作"})]})}),s.jsx("tbody",{children:R.map(G=>s.jsxs("tr",{children:[l&&s.jsx(vu,{children:s.jsx("input",{type:"checkbox",checked:d.includes(G.id),onChange:()=>O(G.id)})}),s.jsx(vu,{children:G.name}),s.jsx(vu,{children:s.jsx(rA,{color:G.color})}),s.jsxs(vu,{children:[G.usage_count||0,"回"]}),s.jsxs(vu,{children:[s.jsx(ll,{onClick:()=>o(G),disabled:l,children:"編集"}),s.jsx(ll,{danger:!0,onClick:()=>k(G.id,G.name),disabled:l,children:"削除"})]})]},G.id))})]})]},T)),(a||n)&&s.jsx(lfe,{onClick:K,children:s.jsxs(cfe,{onClick:T=>T.stopPropagation(),children:[s.jsxs(ufe,{children:[s.jsx(dfe,{children:a?"タグを作成":"タグを編集"}),s.jsx(ffe,{onClick:K,children:"×"})]}),s.jsxs(o0,{children:[s.jsx(a0,{children:"タグ名"}),s.jsx(nA,{type:"text",value:f.name,onChange:T=>p({...f,name:T.target.value}),placeholder:"タグ名を入力"})]}),s.jsxs(o0,{children:[s.jsx(a0,{children:"カテゴリ"}),s.jsxs(pfe,{value:f.category,onChange:T=>p({...f,category:T.target.value}),children:[s.jsx("option",{value:"company",children:"企業名"}),s.jsx("option",{value:"person",children:"人物"}),s.jsx("option",{value:"topic",children:"話題"}),s.jsx("option",{value:"emotion",children:"感情"}),s.jsx("option",{value:"stage",children:"ステージ"}),s.jsx("option",{value:"industry",children:"業界"}),s.jsx("option",{value:"product",children:"製品・サービス"})]})]}),s.jsxs(o0,{children:[s.jsx(a0,{children:"カラー"}),s.jsxs(hfe,{children:[s.jsx(vfe,{type:"color",value:f.color,onChange:T=>p({...f,color:T.target.value})}),s.jsx(nA,{type:"text",value:f.color,onChange:T=>p({...f,color:T.target.value}),placeholder:"#000000",style:{width:"150px"}}),s.jsx(rA,{color:f.color})]})]}),s.jsxs(mfe,{children:[s.jsx(yfe,{onClick:K,children:"キャンセル"}),s.jsx(gfe,{onClick:I,disabled:v.isLoading||b.isLoading,children:v.isLoading||b.isLoading?"保存中...":"保存"})]})]})})]})},oA=w.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-6);
`,bfe=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-4);
  border-bottom: 2px solid var(--color-border);
`,wfe=w.h1`
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-thin);
  color: var(--color-primary);
  margin: 0;
`,Sfe=w.button`
  padding: var(--space-3) var(--space-5);
  border: 2px solid var(--color-border);
  background: transparent;
  color: var(--color-text);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  border-radius: var(--radius-none);
  transition: all 0.2s;

  &:hover {
    border-color: var(--color-accent);
    color: var(--color-accent);
  }
`,i0=w.div`
  background: var(--color-surface);
  border: 2px solid var(--color-border);
  padding: var(--space-5);
  margin-bottom: var(--space-5);
`,s0=w.h2`
  font-size: var(--font-size-large);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin-bottom: var(--space-4);
`,jfe=w.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-4);
  margin-bottom: var(--space-5);
`,kfe=w.div`
  padding: var(--space-4);
  background: var(--color-background);
  border: 2px solid var(--color-border);
`,Cfe=w.div`
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-2);
`,Pfe=w.div`
  font-size: var(--font-size-xlarge);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
`,aA=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
`,iA=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-3);
  background: var(--color-background);
  border: 1px solid var(--color-border);
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    border-color: var(--color-primary);
    background: var(--color-surface);
    transform: translateX(4px);
  }

  &:hover span:first-of-type {
    color: var(--color-primary);
  }
`,sA=w.span`
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
  transition: color 0.2s;
`,lA=w.span`
  font-size: var(--font-size-small);
  color: var(--color-text-secondary);
`,Afe=w.div`
  display: flex;
  gap: var(--space-2);
  margin-bottom: var(--space-5);
`,pp=w.button`
  padding: var(--space-2) var(--space-4);
  border: 2px solid ${e=>e.active?"var(--color-primary)":"var(--color-border)"};
  background: ${e=>e.active?"var(--color-primary)":"transparent"};
  color: ${e=>e.active?"white":"var(--color-text)"};
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    border-color: var(--color-primary);
    ${e=>!e.active&&"background: var(--color-surface);"}
  }
`,Ofe=w.span`
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-bold);
  color: ${e=>e.change>0?"#10B981":e.change<0?"#EF4444":"var(--color-text-secondary)"};

  &::before {
    content: '${e=>e.change>0?"↑":e.change<0?"↓":"→"}';
    margin-right: var(--space-1);
  }
`,_fe=w.div`
  margin-bottom: var(--space-5);
`,Efe=w.h3`
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin: 0 0 var(--space-3) 0;
  padding: var(--space-2);
  background: var(--color-surface);
  border-left: 4px solid var(--color-primary);
`,Tfe=w.div`
  padding: var(--space-8);
  text-align: center;
  color: var(--color-text-secondary);
`,Mfe=()=>{const e=Kt(),{user:t}=oo(),[r,n]=m.useState(30),o=l=>({company:"会社",person:"人物",topic:"トピック",emotion:"感情",stage:"ステージ",industry:"業界",product:"製品"})[l]||l,{data:a,isLoading:i}=Or({queryKey:["tagStats",r],queryFn:()=>Ur.getStats(r),enabled:!!t});return i?s.jsx(oA,{children:s.jsx(Tfe,{children:"タグ統計を読み込み中..."})}):s.jsxs(oA,{children:[s.jsxs(bfe,{children:[s.jsx(wfe,{children:"タグ分析"}),s.jsx(Sfe,{onClick:()=>e("/"),children:"← ホームに戻る"})]}),s.jsxs(Afe,{children:[s.jsx(pp,{active:r===7,onClick:()=>n(7),children:"7日間"}),s.jsx(pp,{active:r===30,onClick:()=>n(30),children:"30日間"}),s.jsx(pp,{active:r===90,onClick:()=>n(90),children:"90日間"}),s.jsx(pp,{active:r===365,onClick:()=>n(365),children:"1年間"})]}),a&&s.jsxs(s.Fragment,{children:[s.jsxs(i0,{children:[s.jsxs(s0,{children:["カテゴリ別統計（過去",r,"日間）"]}),s.jsx(jfe,{children:a.categoryStats&&a.categoryStats.map(l=>s.jsxs(kfe,{children:[s.jsx(Cfe,{children:o(l.category)}),s.jsxs(Pfe,{children:[l.usage_count,"回"]}),s.jsxs("div",{style:{fontSize:"var(--font-size-small)",color:"var(--color-text-secondary)",marginTop:"var(--space-2)"},children:[l.report_count,"件の日報"]}),l.change!==void 0&&l.change!==0&&s.jsx("div",{style:{marginTop:"var(--space-2)"},children:s.jsxs(Ofe,{change:l.change,children:[Math.abs(l.change),"%"]})})]},l.category))})]}),s.jsxs(i0,{children:[s.jsx(s0,{children:"人気のタグ（Top 20）"}),s.jsx(aA,{children:a.topTags&&a.topTags.map(l=>s.jsxs(iA,{onClick:()=>e(`/tags/${l.id}`),children:[s.jsx(sA,{children:l.name}),s.jsxs(lA,{children:[l.usage_count,"回使用"]})]},l.id))})]}),a.categoryRankings&&s.jsxs(i0,{children:[s.jsx(s0,{children:"カテゴリ別ランキング"}),Object.entries(a.categoryRankings).map(([l,c])=>c.length>0&&s.jsxs(_fe,{children:[s.jsxs(Efe,{children:[o(l)," Top 10"]}),s.jsx(aA,{children:c.map((d,u)=>s.jsxs(iA,{onClick:()=>e(`/tags/${d.id}`),children:[s.jsxs("div",{children:[s.jsxs("span",{style:{color:"var(--color-text-secondary)",marginRight:"var(--space-2)"},children:["#",u+1]}),s.jsx(sA,{children:d.name})]}),s.jsxs(lA,{children:[d.usage_count,"回使用"]})]},d.id))})]},l))]})]})]})},l0=w.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-6);

  @media (max-width: 768px) {
    padding: var(--space-4);
  }
`,$fe=w.div`
  margin-bottom: var(--space-6);
`,zfe=w.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--space-4);
  gap: var(--space-3);
  flex-wrap: wrap;
`,Dfe=w.button`
  padding: var(--space-2) var(--space-4);
  background: transparent;
  border: none;
  font-size: var(--font-size-base);
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: color 0.2s;
  display: flex;
  align-items: center;
  gap: var(--space-2);

  &:hover {
    color: var(--color-primary);
  }
`,Ife=w.div`
  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-background) 100%);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--space-5) var(--space-6);
  margin-bottom: var(--space-4);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);

  @media (max-width: 768px) {
    padding: var(--space-4);
  }
`,Rfe=w.h1`
  font-size: var(--font-size-3xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-text);
  margin: 0 0 var(--space-2) 0;
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex-wrap: wrap;

  @media (max-width: 768px) {
    font-size: var(--font-size-2xl);
  }
`,Nfe=w.span`
  display: inline-flex;
  align-items: center;
  padding: var(--space-3) var(--space-5);
  background: ${e=>e.color||"#3B82F6"};
  color: white;
  border-radius: var(--radius-full);
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-bold);
  box-shadow: 0 4px 12px ${e=>e.color?`${e.color}40`:"rgba(59, 130, 246, 0.25)"};
  letter-spacing: 0.02em;
  transition: transform 0.2s, box-shadow 0.2s;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px ${e=>e.color?`${e.color}50`:"rgba(59, 130, 246, 0.35)"};
  }

  @media (max-width: 768px) {
    font-size: var(--font-size-lg);
    padding: var(--space-2) var(--space-4);
  }
`,Lfe=w.span`
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  font-weight: var(--font-weight-normal);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,Ffe=w.div`
  display: flex;
  gap: var(--space-3);
  flex-wrap: wrap;
  align-items: center;
`,c0=w.button`
  padding: var(--space-2) var(--space-4);
  background: ${e=>e.primary?"var(--color-primary)":"var(--color-background-secondary)"};
  color: ${e=>e.primary?"white":"var(--color-text)"};
  border: 1px solid ${e=>e.primary?"var(--color-primary)":"var(--color-border)"};
  border-radius: var(--radius-md);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    opacity: 0.8;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Bfe=w.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-6);
  margin-bottom: var(--space-6);

  @media (max-width: 968px) {
    grid-template-columns: 1fr;
  }
`,Bi=w.div`
  background: var(--color-background);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--space-5);
  box-shadow: var(--shadow-sm);
`,Ui=w.h2`
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-text);
  margin: 0 0 var(--space-4) 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
`,Ufe=w.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-4);
`,hp=w.div`
  text-align: center;
  padding: var(--space-4);
  background: var(--color-background-secondary);
  border-radius: var(--radius-md);
`,vp=w.div`
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin-bottom: var(--space-1);
`,mp=w.div`
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
`,mu=w.div`
  margin-bottom: var(--space-5);

  &:last-child {
    margin-bottom: 0;
  }
`;w.h3`
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text);
  margin: 0 0 var(--space-3) 0;
`;const gp=w.div`
  text-align: center;
  padding: var(--space-8) var(--space-4);
  color: var(--color-text-secondary);
  font-size: var(--font-size-base);
`,cA=w.div`
  padding: var(--space-4);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-3);
  background: var(--color-background-secondary);

  &:last-child {
    margin-bottom: 0;
  }
`,uA=w.div`
  font-weight: var(--font-weight-semibold);
  color: var(--color-text);
  margin-bottom: var(--space-2);
  font-size: var(--font-size-base);
`,dA=w.div`
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  line-height: 1.6;
  margin-bottom: var(--space-2);
`,fA=w.a`
  font-size: var(--font-size-sm);
  color: var(--color-primary);
  text-decoration: none;
  word-break: break-all;

  &:hover {
    text-decoration: underline;
  }
`,Wfe=w.div`
  padding: var(--space-3);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-2);
  background: var(--color-background-secondary);
  font-size: var(--font-size-sm);

  &:last-child {
    margin-bottom: 0;
  }
`,qfe=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
`,Hfe=w.div`
  padding: var(--space-4);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--color-background);
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-md);
  }
`,Vfe=w.div`
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-2);
`,Kfe=w.div`
  font-weight: var(--font-weight-semibold);
  color: var(--color-text);
  margin-bottom: var(--space-1);
`,Yfe=w.div`
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
`,zr=w.div`
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  background: ${e=>e.color||"var(--color-primary)"};
  color: white;
  border-radius: var(--radius-full);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 2px 8px ${e=>e.color?`${e.color}30`:"rgba(59, 130, 246, 0.2)"};

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px ${e=>e.color?`${e.color}40`:"rgba(59, 130, 246, 0.3)"};
  }
`,Dr=w.span`
  background: rgba(255, 255, 255, 0.3);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-bold);
`,Ir=w.h3`
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-bold);
  color: var(--color-text);
  margin: 0 0 var(--space-3) 0;
  padding-bottom: var(--space-2);
  border-bottom: 1px solid var(--color-border);
`,Qfe=w.div`
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  font-style: italic;
  padding: var(--space-3);
  background: var(--color-background-secondary);
  border-left: 3px solid var(--color-primary);
  border-radius: var(--radius-sm);
`,Gfe=w.div`
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  font-style: italic;
`,Xfe=w.div`
  text-align: center;
  padding: var(--space-8);
  color: var(--color-text-secondary);
`,Jfe=w.div`
  padding: var(--space-4);
  background: var(--color-background-secondary);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  line-height: 1.8;
  color: var(--color-text);

  strong {
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
  }

  ul {
    margin: var(--space-2) 0;
    padding-left: var(--space-5);
  }

  li {
    margin: var(--space-1) 0;
  }

  code {
    background: var(--color-background);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    font-family: monospace;
    font-size: var(--font-size-xs);
  }
`,Wi=e=>{if(!e)return"";let t=e;t=t.replace(/【\d+:\d+†source】/g,""),t=t.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>");const r=t.split(`
`);let n=!1;const o=[];return r.forEach((a,i)=>{const l=a.trim();l.startsWith("- ")?(n||(o.push("<ul>"),n=!0),o.push(`<li>${l.substring(2)}</li>`)):(n&&(o.push("</ul>"),n=!1),l&&o.push(a))}),n&&o.push("</ul>"),o.join(`
`)};function Zfe(){const{tagId:e}=mc(),t=Kt(),r=ji(),{data:n,isLoading:o,error:a}=Or({queryKey:["tagDetail",e],queryFn:()=>Of.getDetail(e),enabled:!!e}),i=_t({mutationFn:()=>Of.fetchInfo(e,!1),onSuccess:j=>{j.cached?q.success("DBから情報を読み込みました"):q.success("Web情報を取得しました"),r.invalidateQueries(["tagDetail",e])},onError:j=>{console.error("Web情報取得エラー:",j),q.error("Web情報の取得に失敗しました")}}),l=_t({mutationFn:()=>Of.fetchInfo(e,!0),onSuccess:()=>{q.success("Web情報を更新しました"),r.invalidateQueries(["tagDetail",e])},onError:j=>{console.error("Web情報更新エラー:",j),q.error("Web情報の更新に失敗しました")}}),c=_t({mutationFn:()=>Of.deleteWebInfo(e),onSuccess:()=>{q.success("Web情報を削除しました"),r.invalidateQueries(["tagDetail",e])},onError:j=>{console.error("Web情報削除エラー:",j),q.error("Web情報の削除に失敗しました")}});if(o)return s.jsx(l0,{children:s.jsx(Xfe,{children:"読み込み中..."})});if(a||!(n!=null&&n.success))return s.jsx(l0,{children:s.jsx(gp,{children:"タグ情報の取得に失敗しました"})});const{tag:d,web_info:u,reports:f,stats:p,related_tags:h={}}=n,g=j=>j?new Date(j).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}):"未設定",x=j=>{t(`/reports/${j}`)},y=()=>{i.mutate()},v=()=>{l.mutate()},S=()=>{window.confirm(`保存されたWeb情報を削除してもよろしいですか？
※削除後、再度「Web情報を取得」ボタンから取得できます。`)&&c.mutate()},b=j=>({company:"会社",person:"人物",topic:"トピック",emotion:"感情",stage:"ステージ",industry:"業界",product:"製品"})[j]||j;return s.jsxs(l0,{children:[s.jsxs($fe,{children:[s.jsxs(zfe,{children:[s.jsx(Dfe,{onClick:()=>t(-1),children:"← 戻る"}),s.jsx(Ffe,{children:d.category==="company"&&s.jsx(s.Fragment,{children:u?s.jsxs(s.Fragment,{children:[s.jsx(c0,{primary:!0,onClick:v,disabled:l.isPending,children:l.isPending?"更新中...":"Web情報を更新"}),s.jsx(c0,{onClick:S,disabled:c.isPending,children:"データを削除"})]}):s.jsx(c0,{primary:!0,onClick:y,disabled:i.isPending,children:i.isPending?"取得中...":"Web情報を取得"})})})]}),s.jsxs(Ife,{children:[s.jsx(Lfe,{children:b(d.category)}),s.jsx(Rfe,{children:s.jsx(Nfe,{color:d.color,children:d.name})})]})]}),s.jsxs(Bfe,{children:[s.jsxs(Bi,{children:[s.jsx(Ui,{children:"統計情報"}),s.jsxs(Ufe,{children:[s.jsxs(hp,{children:[s.jsx(vp,{children:p.report_count}),s.jsx(mp,{children:"使用日報数"})]}),s.jsxs(hp,{children:[s.jsx(vp,{children:p.user_count}),s.jsx(mp,{children:"使用ユーザー数"})]}),s.jsxs(hp,{children:[s.jsx(vp,{children:g(p.first_used)}),s.jsx(mp,{children:"初回使用日"})]}),s.jsxs(hp,{children:[s.jsx(vp,{children:g(p.last_used)}),s.jsx(mp,{children:"最終使用日"})]})]})]}),d.category&&s.jsxs(Bi,{children:[s.jsx(Ui,{children:d.category==="person"?"人物に関する情報":d.category==="emotion"?"この感情に関する情報":d.category==="industry"?"この業界に関する情報":d.category==="product"?"この製品に関する情報":d.category==="company"?"この会社に関する情報":d.category==="topic"?"この話題に関する情報":d.category==="stage"?"このステージに関する情報":"関連情報"}),Object.keys(h).some(j=>{var k;return((k=h[j])==null?void 0:k.length)>0})?s.jsxs(mu,{children:[h.company&&h.company.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:d.category==="person"?"所属企業":"関連企業"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.company.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),d.category!=="person"&&h.person&&h.person.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:"関連人物"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.person.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),h.industry&&h.industry.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:"業界"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.industry.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),h.topic&&h.topic.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:"話題・趣味"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.topic.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),h.emotion&&h.emotion.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:"商談の雰囲気"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.emotion.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),h.stage&&h.stage.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:"営業ステージ"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.stage.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),h.product&&h.product.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:"関連製品・サービス"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.product.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),h.ステータス&&h.ステータス.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:"ステータス"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.ステータス.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),h.業界&&h.業界.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:"業界"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.業界.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),h.規模&&h.規模.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:"規模"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.規模.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),h.アクション&&h.アクション.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:"アクション"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.アクション.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),h.フェーズ&&h.フェーズ.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:"フェーズ"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.フェーズ.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),h.優先度&&h.優先度.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:"優先度"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.優先度.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),h.見込み&&h.見込み.length>0&&s.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[s.jsx(Ir,{children:"見込み"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:h.見込み.map(j=>s.jsxs(zr,{color:j.color,onClick:()=>t(`/tags/${j.id}`),children:[j.name,s.jsxs(Dr,{children:[j.usage_count,"回"]})]},j.id))})]}),s.jsx(Qfe,{children:"この方との日報で共通してタグ付けされた情報です。次回訪問時の参考にしてください。"})]}):s.jsxs(gp,{children:[d.category==="person"&&s.jsxs(s.Fragment,{children:["まだ人物に関する情報が記録されていません",s.jsx("br",{}),"日報を作成すると、この方に関する情報が自動的に表示されます"]}),d.category==="emotion"&&s.jsxs(s.Fragment,{children:["まだこの感情に関する情報が記録されていません",s.jsx("br",{}),"日報を作成すると、この感情に関する情報が自動的に表示されます"]}),d.category==="industry"&&s.jsxs(s.Fragment,{children:["まだこの業界に関する情報が記録されていません",s.jsx("br",{}),"日報を作成すると、この業界に関する情報が自動的に表示されます"]}),d.category==="product"&&s.jsxs(s.Fragment,{children:["まだこの製品に関する情報が記録されていません",s.jsx("br",{}),"日報を作成すると、この製品に関する情報が自動的に表示されます"]}),d.category==="company"&&s.jsxs(s.Fragment,{children:["まだこの会社に関する情報が記録されていません",s.jsx("br",{}),"日報を作成すると、この会社に関する情報が自動的に表示されます"]}),d.category==="topic"&&s.jsxs(s.Fragment,{children:["まだこの話題に関する情報が記録されていません",s.jsx("br",{}),"日報を作成すると、この話題に関する情報が自動的に表示されます"]}),d.category==="stage"&&s.jsxs(s.Fragment,{children:["まだこのステージに関する情報が記録されていません",s.jsx("br",{}),"日報を作成すると、このステージに関する情報が自動的に表示されます"]})]})]}),d.category==="company"&&s.jsxs(Bi,{children:[s.jsx(Ui,{children:"企業情報"}),u!=null&&u.company_info?s.jsxs(mu,{children:[s.jsx(Jfe,{dangerouslySetInnerHTML:{__html:Wi(typeof u.company_info=="string"?u.company_info:u.company_info.description||"データがありません")}}),u.last_fetched_at&&s.jsxs(Gfe,{children:["最終取得: ",g(u.last_fetched_at)]})]}):s.jsxs(gp,{children:["Web情報がありません",s.jsx("br",{}),"「Web情報を取得」ボタンで企業情報を取得できます"]})]})]}),d.category==="company"&&(u==null?void 0:u.latest_news)&&Array.isArray(u.latest_news)&&u.latest_news.length>0&&s.jsxs(Bi,{style:{marginBottom:"var(--space-6)"},children:[s.jsx(Ui,{children:"最新ニュース"}),s.jsx(mu,{children:u.latest_news.map((j,k)=>s.jsxs(cA,{children:[s.jsx(uA,{dangerouslySetInnerHTML:{__html:Wi(j.title)}}),j.summary&&j.summary!==j.title&&s.jsx(dA,{dangerouslySetInnerHTML:{__html:Wi(j.summary)}}),j.url&&s.jsx(fA,{href:j.url,target:"_blank",rel:"noopener noreferrer",children:j.url})]},k))})]}),d.category==="company"&&(u==null?void 0:u.related_people)&&Array.isArray(u.related_people)&&u.related_people.length>0&&s.jsxs(Bi,{style:{marginBottom:"var(--space-6)"},children:[s.jsx(Ui,{children:"関連人物"}),s.jsx(mu,{children:u.related_people.map((j,k)=>s.jsxs(Wfe,{children:[j.name&&s.jsx("strong",{dangerouslySetInnerHTML:{__html:Wi(j.name)}}),j.description&&j.description!==j.name&&s.jsx("div",{style:{marginTop:"var(--space-1)"},dangerouslySetInnerHTML:{__html:Wi(j.description)}})]},k))})]}),d.category==="company"&&(u==null?void 0:u.recent_topics)&&Array.isArray(u.recent_topics)&&u.recent_topics.length>0&&s.jsxs(Bi,{style:{marginBottom:"var(--space-6)"},children:[s.jsx(Ui,{children:"最近の取り組み・注目トピック"}),s.jsx(mu,{children:u.recent_topics.map((j,k)=>s.jsxs(cA,{children:[s.jsx(uA,{dangerouslySetInnerHTML:{__html:Wi(j.title)}}),j.summary&&j.summary!==j.title&&s.jsx(dA,{dangerouslySetInnerHTML:{__html:Wi(j.summary)}}),j.url&&s.jsx(fA,{href:j.url,target:"_blank",rel:"noopener noreferrer",children:j.url})]},k))})]}),s.jsxs(Bi,{children:[s.jsxs(Ui,{children:["関連日報 (",f.length,"件)"]}),f.length>0?s.jsx(qfe,{children:f.map(j=>s.jsxs(Hfe,{onClick:()=>x(j.id),children:[s.jsx(Vfe,{children:g(j.report_date)}),s.jsx(Kfe,{children:j.customer&&j.project?`${j.customer} - ${j.project}`:j.customer||j.project||"（タイトルなし）"}),s.jsxs(Yfe,{children:["作成者: ",j.user_name," | ステータス: ",j.status]})]},j.id))}):s.jsx(gp,{children:"関連する日報がありません"})]})]})}const epe=w.div`
  min-height: 100vh;
  min-height: 100dvh;
  background-color: var(--color-background);
  position: relative;
  overflow-x: hidden;
  
  /* Architectural grid overlay */
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      linear-gradient(rgba(0,0,0,0.015) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,0,0,0.015) 1px, transparent 1px);
    background-size: var(--space-7) var(--space-7);
    pointer-events: none;
    z-index: 0;
  }
`,tpe=w.header`
  background-color: var(--color-background);
  border-bottom: 1px solid var(--color-border);
  position: sticky;
  top: 0;
  z-index: 100;
  box-shadow: var(--shadow-paper);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
`,rpe=w.nav`
  max-width: 1400px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-5) var(--space-6);
  height: 88px;
  position: relative;
  z-index: 1;

  @media (max-width: 768px) {
    padding: var(--space-4) var(--space-5);
    height: 72px;
  }
`,npe=w.div`
  display: flex;
  align-items: center;
  gap: var(--space-4);
`,ope=w.div`
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
  
  img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  @media (max-width: 768px) {
    width: 40px;
    height: 40px;
  }
`,ape=w(Rw)`
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-accent);
  text-decoration: none;
  letter-spacing: -0.02em;
  transition: all 0.2s ease-in-out;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  text-transform: uppercase;
  position: relative;
  z-index: 1;

  &:hover {
    color: var(--color-accent);
  }

  @media (max-width: 768px) {
    font-size: var(--font-size-lead);
  }
`,ipe=w.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-3);
  flex: 1;

  @media (max-width: 768px) {
    display: none;
  }
`,yp=w(Rw)`
  color: var(--color-text-secondary);
  text-decoration: none;
  padding: var(--space-3) var(--space-4);
  border-radius: var(--radius-standard);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  transition: all 0.2s ease-in-out;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  
  &:hover {
    color: var(--color-primary);
    background-color: var(--color-surface);
  }

  &:active {
    transform: scale(0.98);
  }
`,spe=w.div`
  display: flex;
  align-items: center;
  gap: var(--space-6);

  @media (max-width: 768px) {
    gap: var(--space-4);
  }
`,lpe=w.button`
  background: transparent;
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
  padding: var(--space-3) var(--space-5);
  border-radius: var(--radius-standard);
  cursor: pointer;
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  transition: all 0.2s ease-in-out;

  &:hover {
    color: var(--color-error);
    border-color: var(--color-error);
    background-color: rgba(198, 40, 40, 0.05);
  }

  &:active {
    transform: scale(0.98);
  }

  @media (max-width: 768px) {
    display: none; /* モバイルでは非表示にしてハンバーガーメニュー内のみに */
  }
`,cpe=w.main`
  max-width: 1400px;
  margin: 0 auto;
  padding: var(--space-6) var(--space-6);
  margin-top: var(--space-5);
  position: relative;
  z-index: 1;

  @media (max-width: 768px) {
    padding: var(--space-6) var(--space-4);
    margin-top: var(--space-4);
  }
`,upe=w.div`
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-size: var(--font-size-micro);
  color: var(--color-text-secondary);
  font-weight: var(--font-weight-medium);
  padding: var(--space-3) var(--space-4);
  background-color: var(--color-surface);
  border-radius: 24px;
  border: 1px solid var(--color-border-light);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

  @media (max-width: 768px) {
    display: none;
  }
`,dpe=w.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  font-size: var(--font-size-micro);
  color: var(--color-text-secondary);
  font-weight: var(--font-weight-medium);
  padding: var(--space-2) var(--space-3);
  background-color: var(--color-surface);
  border-radius: var(--radius-none);
  border: 1px solid var(--color-border);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  margin-top: var(--space-3);
  text-transform: uppercase;
  letter-spacing: 0.05em;
`,pA=w.span`
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: ${e=>e.online?"var(--color-success)":"var(--color-warning)"};
  box-shadow: 0 0 0 2px var(--color-background);
  position: relative;

  ${e=>e.online&&`
    &::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 50%;
      background-color: var(--color-success);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.7; transform: scale(1.1); }
    }
  `}
`,fpe=w.div`
  display: flex;
  flex-direction: column;
  background-color: var(--color-surface);
  border-radius: var(--radius-standard);
  border: 1px solid var(--color-border-light);
  min-width: 120px;
  margin-right: var(--space-4);
  padding: var(--space-2) var(--space-4);

  @media (max-width: 768px) {
    display: none;
  }
`,ppe=w.span`
  color: var(--color-text-primary);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
`,hpe=w.span`
  color: var(--color-text-secondary);
  font-size: var(--font-size-micro);
  font-weight: var(--font-weight-medium);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  margin-top: var(--space-1);
`,vpe=w.button`
  display: none;
  background-color: var(--color-surface);
  border: 2px solid var(--color-border);
  color: var(--color-primary);
  width: 44px;
  height: 44px;
  cursor: pointer;
  border-radius: var(--radius-none);
  transition: all 0.2s ease-in-out;
  font-size: 1.2rem;
  font-weight: var(--font-weight-bold);
  box-shadow: var(--shadow-paper);
  position: relative;
  -webkit-tap-highlight-color: transparent;

  &:hover {
    background-color: var(--color-accent-light);
    border-color: var(--color-accent);
    color: var(--color-accent);
    box-shadow: var(--shadow-elevation);
    transform: translateY(-1px);
  }

  &:active {
    transform: translateY(0);
  }
  
  /* アーキテクチャル要素を追加 */
  &::after {
    content: '';
    position: absolute;
    top: -2px;
    right: -2px;
    width: 8px;
    height: 8px;
    border-top: 2px solid var(--color-accent);
    border-right: 2px solid var(--color-accent);
  }

  @media (max-width: 768px) {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  @media (max-width: 400px) {
    width: 40px;
    height: 40px;
    font-size: 1rem;
  }
`,mpe=w.div`
  position: fixed;
  top: 0;
  right: ${e=>e.open?"0":"-100%"};
  width: 85%;
  max-width: 360px;
  height: 100vh;
  background-color: var(--color-surface);
  border-left: 2px solid var(--color-border);
  box-shadow: var(--shadow-structure);
  z-index: 1001;
  padding: var(--space-6);
  overflow-y: auto;
  transition: right 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  
  /* アーキテクチャルグリッド背景 */
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      linear-gradient(rgba(0,0,0,0.02) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,0,0,0.02) 1px, transparent 1px);
    background-size: var(--space-6) var(--space-6);
    pointer-events: none;
    z-index: 0;
    opacity: ${e=>e.open?"1":"0"};
    transition: opacity 0.3s ease;
  }
  
  @media (max-width: 400px) {
    width: 90%;
    padding: var(--space-5);
  }
`,gpe=w.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, ${e=>e.open?"0.4":"0"});
  backdrop-filter: blur(${e=>e.open?"6px":"0px"});
  visibility: ${e=>e.open?"visible":"hidden"};
  opacity: ${e=>e.open?"1":"0"};
  z-index: 1000;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
`,ype=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-5);
  border-bottom: 2px solid var(--color-border);
  position: relative;
  z-index: 1;
  
  /* アーキテクチャル要素 */
  &::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 60px;
    height: 2px;
    background-color: var(--color-accent);
  }
`,xpe=w.h2`
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  letter-spacing: -0.02em;
  text-transform: uppercase;
  margin: 0;
`,bpe=w.button`
  background-color: var(--color-background);
  border: 2px solid var(--color-border);
  font-size: 1.2rem;
  color: var(--color-text-primary);
  cursor: pointer;
  padding: var(--space-3);
  border-radius: var(--radius-none);
  transition: all 0.2s ease-in-out;
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: var(--shadow-paper);
  -webkit-tap-highlight-color: transparent;

  &:hover {
    color: var(--color-error);
    border-color: var(--color-error);
    background-color: rgba(198, 40, 40, 0.05);
    transform: translateY(-1px);
    box-shadow: var(--shadow-elevation);
  }
  
  &:active {
    transform: translateY(0);
  }
`,wpe=w.div`
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  position: relative;
  z-index: 1;
`,xp=w(Rw)`
  display: block;
  padding: var(--space-4) var(--space-5);
  color: var(--color-text-primary);
  text-decoration: none;
  border-radius: var(--radius-none);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  transition: all 0.2s ease-in-out;
  border: 2px solid transparent;
  background-color: var(--color-background);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  position: relative;

  &:hover {
    background-color: var(--color-accent-light);
    color: var(--color-primary);
    border-color: var(--color-accent);
    transform: translateY(-1px);
    box-shadow: var(--shadow-elevation);
  }
  
  &:active {
    transform: translateY(0);
  }
  
  /* アーキテクチャル要素 */
  &::after {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    width: 8px;
    height: 8px;
    border-top: 2px solid var(--color-border);
    border-left: 2px solid var(--color-border);
    transition: border-color 0.2s ease;
  }
  
  &:hover::after {
    border-color: var(--color-accent);
  }
`,Spe=w.div`
  padding: var(--space-5);
  margin-bottom: var(--space-6);
  background-color: var(--color-background);
  border-radius: var(--radius-none);
  text-align: center;
  border: 2px solid var(--color-border);
  box-shadow: var(--shadow-paper);
  position: relative;
  z-index: 1;
  
  /* アーキテクチャル要素 */
  &::after {
    content: '';
    position: absolute;
    top: -2px;
    right: -2px;
    width: 12px;
    height: 12px;
    border-top: 2px solid var(--color-accent);
    border-right: 2px solid var(--color-accent);
  }
`,jpe=w.button`
  width: 100%;
  background-color: var(--color-background);
  color: var(--color-error);
  border: 2px solid var(--color-error);
  padding: var(--space-4) var(--space-5);
  border-radius: var(--radius-none);
  cursor: pointer;
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-bold);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  margin-top: var(--space-6);
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  box-shadow: var(--shadow-paper);
  position: relative;
  z-index: 1;
  -webkit-tap-highlight-color: transparent;

  &:hover {
    background-color: rgba(198, 40, 40, 0.1);
    border-color: var(--color-error);
    transform: translateY(-1px);
    box-shadow: var(--shadow-elevation);
  }
  
  &:active {
    transform: translateY(0);
  }
  
  /* アーキテクチャル要素 */
  &::after {
    content: '';
    position: absolute;
    top: -2px;
    right: -2px;
    width: 12px;
    height: 12px;
    border-top: 2px solid var(--color-error);
    border-right: 2px solid var(--color-error);
  }
`,kpe=()=>{const{user:e,logout:t,isManager:r}=oo(),n=Kt(),[o,a]=Le.useState(navigator.onLine),[i,l]=m.useState(!1);Le.useEffect(()=>{const f=()=>a(!0),p=()=>a(!1);return window.addEventListener("online",f),window.addEventListener("offline",p),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",p)}},[]);const c=()=>{t(),n("/login")},d=()=>{l(!1)},u=()=>{l(!1)};return s.jsxs(epe,{children:[s.jsx(tpe,{children:s.jsxs(rpe,{children:[s.jsxs(npe,{children:[s.jsx(ope,{children:s.jsx("img",{src:"/logo.png",alt:"にっぽ係長"})}),s.jsx(ape,{to:"/",children:"にっぽ係長"})]}),s.jsxs(ipe,{children:[s.jsx(yp,{to:"/",children:"ホーム"}),s.jsx(yp,{to:"/scripts",children:"スクリプト管理"}),s.jsx(yp,{to:"/my-analytics",children:"マイ分析"}),r&&s.jsx(yp,{to:"/team-analytics",children:"チーム分析"})]}),s.jsxs(spe,{children:[s.jsxs(upe,{children:[s.jsx(pA,{online:o}),o?"オンライン":"オフライン"]}),s.jsxs(fpe,{children:[s.jsxs(ppe,{children:[e==null?void 0:e.name,"さん"]}),s.jsx(hpe,{children:r?"マネージャー":"営業担当"})]}),s.jsx(lpe,{onClick:c,children:"ログアウト"}),s.jsx(vpe,{onClick:()=>l(!0),children:"☰"})]})]})}),s.jsx(gpe,{open:i,onClick:d}),s.jsxs(mpe,{open:i,children:[s.jsxs(ype,{children:[s.jsx(xpe,{children:"メニュー"}),s.jsx(bpe,{onClick:d,children:"×"})]}),s.jsxs(Spe,{children:[s.jsxs("div",{style:{fontSize:"var(--font-size-body)",fontWeight:"var(--font-weight-medium)",color:"var(--color-text-primary)"},children:[e==null?void 0:e.name,"さん"]}),s.jsx("div",{style:{fontSize:"var(--font-size-small)",color:"var(--color-text-secondary)",marginTop:"var(--space-2)"},children:r?"マネージャー":"営業担当"}),s.jsxs(dpe,{children:[s.jsx(pA,{online:o}),o?"オンライン":"オフライン"]})]}),s.jsxs(wpe,{children:[s.jsx(xp,{to:"/",onClick:u,children:"ホーム"}),s.jsx(xp,{to:"/scripts",onClick:u,children:"スクリプト管理"}),s.jsx(xp,{to:"/my-analytics",onClick:u,children:"マイ分析"}),r&&s.jsx(xp,{to:"/team-analytics",onClick:u,children:"チーム分析"})]}),s.jsx(jpe,{onClick:c,children:"ログアウト"})]}),s.jsx(cpe,{children:s.jsx(Y_,{})})]})},Cpe=()=>{const{isAuthenticated:e,loading:t}=oo();return t?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:s.jsx("div",{children:"読み込み中..."})}):e?s.jsx(Y_,{}):s.jsx(K_,{to:"/login",replace:!0})},Ppe=new FR({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function Ape(){const[e,t]=Le.useState(!1);return Le.useEffect(()=>{const r=new URLSearchParams(window.location.search),n=r.get("salesforce_auth")==="success"||r.get("dynamics365_auth")==="success"||r.has("code")||window.location.pathname.includes("/oauth/");t(n)},[]),s.jsx(HR,{client:Ppe,children:s.jsx(kF,{children:s.jsxs(bR,{children:[s.jsx(VN,{position:"top-right"}),s.jsxs(fR,{children:[s.jsx(xt,{path:"/login",element:s.jsx(nB,{})}),s.jsx(xt,{path:"/register",element:s.jsx(Bce,{})}),e?s.jsx(xt,{path:"/",element:s.jsx(Uce,{})}):s.jsx(xt,{element:s.jsx(Cpe,{}),children:s.jsxs(xt,{element:s.jsx(kpe,{}),children:[s.jsx(xt,{path:"/",element:s.jsx(UW,{})}),s.jsx(xt,{path:"/hearing",element:s.jsx(vq,{})}),s.jsx(xt,{path:"/hearing/realtime",element:s.jsx(nde,{})}),s.jsx(xt,{path:"/hearing/settings",element:s.jsx(Jde,{})}),s.jsx(xt,{path:"/tags/manage",element:s.jsx(xfe,{})}),s.jsx(xt,{path:"/tags/analytics",element:s.jsx(Mfe,{})}),s.jsx(xt,{path:"/tags/:tagId",element:s.jsx(Zfe,{})}),s.jsx(xt,{path:"/reports/:id",element:s.jsx(EH,{})}),s.jsx(xt,{path:"/reports/:id/edit",element:s.jsx(dV,{})}),s.jsx(xt,{path:"/reports/:reportId/scripts/generate",element:s.jsx(B3,{})}),s.jsx(xt,{path:"/script-generator",element:s.jsx(B3,{})}),s.jsx(xt,{path:"/scripts",element:s.jsx(Wde,{})}),s.jsx(xt,{path:"/scripts/:id",element:s.jsx(Ode,{})}),s.jsx(xt,{path:"/analytics",element:s.jsx(kV,{})}),s.jsx(xt,{path:"/my-analytics",element:s.jsx(fce,{})}),s.jsx(xt,{path:"/team-analytics",element:s.jsx(Pce,{})})]})}),s.jsx(xt,{path:"*",element:s.jsx(K_,{to:"/",replace:!0})})]})]})})})}I_(document.getElementById("root")).render(s.jsx(m.StrictMode,{children:s.jsx(Ape,{})}));
//# sourceMappingURL=index-8Mmfw56p.js.map
