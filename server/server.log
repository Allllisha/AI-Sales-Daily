
> sales-daily-server@1.0.0 dev
> nodemon src/index.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: { customer: '鹿島建設', summary: '今日は鹿島建設との商談でした' }
AI undecided analysis: { answer: '今日は鹿島建設との商談でした', result: 'NO' }
Missing slots: [
  'project',
  'next_action',
  'budget',
  'schedule',
  'participants',
  'location',
  'issues'
]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: { customer: '鹿島建設', summary: '今日は鹿島建設との商談でした', project: 'BIM' }
AI undecided analysis: { answer: 'BIMとAIを活用したシステムについて話しました', result: 'NO' }
Missing slots: [
  'next_action',
  'budget',
  'schedule',
  'participants',
  'location',
  'issues'
]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: true,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: '鹿島建設',
  summary: '今日は鹿島建設との商談でした',
  project: 'BIM',
  next_action: '見積書を来週提出する予定です'
}
AI undecided analysis: { answer: '見積書を来週提出する予定です', result: 'NO' }
Missing slots: [ 'budget', 'schedule', 'participants', 'location', 'issues' ]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: '鹿島建設',
  summary: '今日は鹿島建設との商談でした',
  project: 'BIM',
  next_action: '見積書を来週提出する予定です',
  budget: '約1000万円'
}
AI undecided analysis: { answer: '予算は約1000万円です', result: 'NO' }
Missing slots: [ 'schedule', 'participants', 'location', 'issues' ]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: true,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: '鹿島建設',
  summary: '今日は鹿島建設との商談でした',
  project: 'BIM',
  next_action: '見積書を来週提出する予定です',
  budget: '約1000万円',
  schedule: '2ヶ月程度'
}
AI undecided analysis: { answer: 'スケジュールは2ヶ月程度です', result: 'NO' }
Missing slots: [ 'participants', 'location', 'issues' ]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: true,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: '鹿島建設',
  summary: '今日は鹿島建設との商談でした',
  project: 'BIM',
  next_action: '見積書を来週提出する予定です',
  budget: '約1000万円',
  schedule: '2ヶ月程度',
  participants: [ '先方の部長である山田一郎さん', '田中部長' ]
}
AI undecided analysis: { answer: '先方の部長である山田一郎さん、田中部長と私が参加しました', result: 'NO' }
Missing slots: [ 'location', 'issues' ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Correction request received: {
  text: '今日は大成建設の山田さんと面接をしました面接というか商談なんですけど山田さんもご用意が好きで私もゴルフが好きなのでなんかゴルフの話でとても盛り上がりました今具体的な商談の話なんですけれど電話でもまあお伝えしていたその建築× AI で何ができるかっていうところで先方の一番の悩みとしてはやっぱり人手不足に非常に悩んでるらしいです'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: '今日は大成建設の山田さんと面接をしました面接というか商談なんですけど山田さんもご用意が好きで私もゴル',
  corrected: '今日は大成建設の山田さんと面接というか商談を行いました。山田さんもゴルフが好きで、私もゴルフが好きな'
}
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: true,
  hasBusinessContext: true,
  hasPersonalDetails: true,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  project: [ '建築' ],
  issues: [ 'やはり人手不足に非常に困っているということでした' ],
  participants: [ '今日は大成建設の山田さん' ],
  summary: '今日は大成建設の山田さんと面接というか商談を行いました。山田さんもゴルフが好きで、私もゴルフが好きなので、その話題でとても盛り上がりました。具体的な商談の内容ですが、電話でもお伝えしていた「建築×AIで何ができるか」というテーマについて話しました。先方の一番の悩みは、やはり人手不足に非常に困っているということでした。'
}
AI undecided analysis: {
  answer: '今日は大成建設の山田さんと面接というか商談を行いました。山田さんもゴルフが好きで、私もゴルフが好きな',
  result: 'NO'
}
Missing slots: [ 'next_action', 'budget', 'schedule', 'location' ]
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  project: [ '建築' ],
  issues: [ 'やはり人手不足に非常に困っているということでした' ],
  participants: [ '今日は大成建設の山田さん' ],
  summary: '今日は大成建設の山田さんと面接というか商談を行いました。山田さんもゴルフが好きで、私もゴルフが好きなので、その話題でとても盛り上がりました。具体的な商談の内容ですが、電話でもお伝えしていた「建築×AIで何ができるか」というテーマについて話しました。先方の一番の悩みは、やはり人手不足に非常に困っているということでした。'
}
AI undecided analysis: {
  answer: '今回の商談を受けて まあ 次にはもう1回アポイントメントを取らなきゃいけないの と あとはそのポイン',
  result: 'NO'
}
Missing slots: [ 'next_action', 'budget', 'schedule', 'location' ]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  project: [ '建築' ],
  issues: [ 'やはり人手不足に非常に困っているということでした' ],
  participants: [ '今日は大成建設の山田さん' ],
  summary: '今日は大成建設の山田さんと面接というか商談を行いました。山田さんもゴルフが好きで、私もゴルフが好きなので、その話題でとても盛り上がりました。具体的な商談の内容ですが、電話でもお伝えしていた「建築×AIで何ができるか」というテーマについて話しました。先方の一番の悩みは、やはり人手不足に非常に困っているということでした。'
}
AI undecided analysis: { answer: '先ほどお話しした通りです', result: 'NO' }
Missing slots: [ 'next_action', 'budget', 'schedule', 'location' ]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  project: [ '建築' ],
  issues: [ 'やはり人手不足に非常に困っているということでした' ],
  participants: [ '今日は大成建設の山田さん' ],
  summary: '今日は大成建設の山田さんと面接というか商談を行いました。山田さんもゴルフが好きで、私もゴルフが好きなので、その話題でとても盛り上がりました。具体的な商談の内容ですが、電話でもお伝えしていた「建築×AIで何ができるか」というテーマについて話しました。先方の一番の悩みは、やはり人手不足に非常に困っているということでした。'
}
AI undecided analysis: { answer: 'あのだからでも持っていく っていう話です', result: 'NO' }
Missing slots: [ 'next_action', 'budget', 'schedule', 'location' ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Correction request received: {
  text: '今日は大成建設との商談がありました 参加したのは私 根本ありさと 大成建設の部長の山田さんです 山田さんはゴルフが好きということでゴルフの話で盛り上がりました 商談の内容についてはまあ AI と建設で何ができるかっていうことについて でした'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: '今日は大成建設との商談がありました 参加したのは私 根本ありさと 大成建設の部長の山田さんです 山田',
  corrected: '今日は大成建設との商談がありました。参加者は私、根本ありさと、大成建設の部長である山田さんです。山田'
}
AI extraction result: {
  "customer": "大成建設",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": ["私", "根本ありさ", "山田さん"],
  "location": "",
  "issues": []
}
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "商談の具体的な案件名やプロジェクト内容について教えてください。",
  "reason": "基本情報の一つであるprojectが未入力のため、最優先で確認する必要があります。"
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:663:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: true,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  participants: [ '私', '根本ありさ', '山田さん' ],
  summary: '今日は大成建設との商談がありました。参加者は私、根本ありさと、大成建設の部長である山田さんです。山田さんはゴルフが好きということで、ゴルフの話で盛り上がりました。商談の内容は、AIと建設で何ができるかについてでした。'
}
AI undecided analysis: {
  answer: '今日は大成建設との商談がありました。参加者は私、根本ありさと、大成建設の部長である山田さんです。山田',
  result: 'NO'
}
Missing slots: [
  'project',
  'next_action',
  'budget',
  'schedule',
  'location',
  'issues'
]
Correction request received: {
  text: 'まあ 具体的には そのまあ 人手不足に悩んでるっていう事なので 営業日報のシステムが欲しいということでしたあとは 建設にまあ 特によく使う その BIM の 3 d モデルとかとプラスしてそのチャット ボット機能が付いたそういったあのシステムを求めているということでしたでまあそれについてもアイスが何ができるかっていうところについて こちらから提案しました'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'まあ 具体的には そのまあ 人手不足に悩んでるっていう事なので 営業日報のシステムが欲しいということ',
  corrected: '具体的には、人手不足に悩んでいるため、営業日報のシステムが欲しいということでした。また、建設業で特に'
}
AI extraction result: ```json
{
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": ["人手不足"],
  "summary": "大成建設は営業日報システムを求めており、BIMの3Dモデルとチャットボット機能が必要だと述べていました。当社はそれに対する提案を行いました。"
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:551:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:53:27
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "今回の商談に関連する予算や金額について、何か話が出ましたか？",
  "reason": "未入力の項目の中で、予算（budget）は商談の具体性を高める重要な情報であるため、優先して質問します。"
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:663:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: true,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  participants: [ '私', '根本ありさ', '山田さん' ],
  summary: '今日は大成建設との商談がありました。参加者は私、根本ありさと、大成建設の部長である山田さんです。山田さんはゴルフが好きということで、ゴルフの話で盛り上がりました。商談の内容は、AIと建設で何ができるかについてでした。',
  project: [ 'BIM' ],
  issues: [ '人手不足に悩んでいるため' ],
  next_action: [ '当社が何を提供できるかについて提案を行いました' ]
}
AI undecided analysis: {
  answer: '具体的には、人手不足に悩んでいるため、営業日報のシステムが欲しいということでした。また、建設業で特に',
  result: 'NO'
}
Missing slots: [ 'budget', 'schedule', 'location' ]
AI extraction result: {
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "6億ぐらい",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": []
}
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "今回の商談はどこで行われましたか？",
  "reason": "未入力の項目であるlocationを確認するため。scheduleよりもlocationの方が具体的な情報として重要度が高いと判断。"
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:663:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  participants: [ '私', '根本ありさ', '山田さん' ],
  summary: '今日は大成建設との商談がありました。参加者は私、根本ありさと、大成建設の部長である山田さんです。山田さんはゴルフが好きということで、ゴルフの話で盛り上がりました。商談の内容は、AIと建設で何ができるかについてでした。',
  project: [ 'BIM' ],
  issues: [ '人手不足に悩んでいるため' ],
  next_action: [ '当社が何を提供できるかについて提案を行いました' ],
  budget: '6億ぐらい'
}
AI undecided analysis: {
  answer: '予算 金額についてはあまり深く 特に話さなかったんですけど前聞いた話だと6億ぐらいまでは全然 生きる',
  result: 'NO'
}
Missing slots: [ 'schedule', 'location' ]
AI extraction result: {
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "6億",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": []
}
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "今回の商談はどちらで行われましたか？",
  "reason": "未入力の項目であるlocationについて質問する必要があるため。"
}
AI extraction result: {
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": [],
  "location": "新宿の都庁前",
  "issues": []
}
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "スケジュールや納期について、具体的に決まったことはありますか？",
  "reason": "未入力の項目であるスケジュールについて、具体的な情報を確認する必要があるため。"
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:663:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  participants: [ '私', '根本ありさ', '山田さん' ],
  summary: '今日は大成建設との商談がありました。参加者は私、根本ありさと、大成建設の部長である山田さんです。山田さんはゴルフが好きということで、ゴルフの話で盛り上がりました。商談の内容は、AIと建設で何ができるかについてでした。',
  project: [ 'BIM' ],
  issues: [ '人手不足に悩んでいるため' ],
  next_action: [ '当社が何を提供できるかについて提案を行いました' ],
  budget: '6億',
  location: '新宿の都庁前'
}
AI undecided analysis: { answer: '今回の商談は新宿の都庁前で行いました', result: 'NO' }
Missing slots: [ 'schedule' ]
Skipping similar question for schedule: スケジュールや納期についてはいかがでしたか？
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Correction request received: {
  text: 'お疲れ様です 今日は大成建設の山田さんとお話ししました 商談では特にまああのまあもちろん 商談の話もしたんですけど でもゴルフについて すごい盛り上がっちゃって ちょっと面白かったです'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'お疲れ様です 今日は大成建設の山田さんとお話ししました 商談では特にまああのまあもちろん 商談の話も',
  corrected: 'お疲れ様です。今日は大成建設の山田さんとお話ししました。商談ではもちろん商談の話もしましたが、ゴルフ'
}
AI extraction result: {
  "customer": "大成建設",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": ["山田さん"],
  "location": "",
  "issues": []
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": ["大成建設の山田さんとお話しした", "商談の話をした", "ゴルフの話で盛り上がった"],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:757:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:599:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "その商談を受けて、次に何をする予定ですか？",
  "reason": "ユーザーの回答が過去の行動に関する内容だったため、次のアクションを確認する必要がある。",
  "needsFollowUp": true
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:676:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: true,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  participants: [ '山田さん' ],
  summary: 'お疲れ様です。今日は大成建設の山田さんとお話ししました。商談ではもちろん商談の話もしましたが、ゴルフの話でとても盛り上がり、少し面白かったです。'
}
AI undecided analysis: {
  answer: 'お疲れ様です。今日は大成建設の山田さんとお話ししました。商談ではもちろん商談の話もしましたが、ゴルフ',
  result: 'NO'
}
Missing slots: [
  'project',
  'next_action',
  'budget',
  'schedule',
  'location',
  'issues'
]
Correction request received: {
  text: 'そうですね えっと AI の AI と あと建設で何ができるかっていう話について 特に話したんですけど特に先方が最近の人手不足ですごい 悩んでいて例えば建築資材をあの BIM のデータから抽出して まあ 足りない 資材とかを 在庫確認してそのまま発注してくれるような そういう AI のシステムが欲しいと言っていました後はあの他にも なんかあの建築 建築というより まああ の設計図から読み取ってそのままなんだろう 建物とかの 3 D モデルを AI が作ってくれる」っていうのもいいなって言ってました'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'そうですね えっと AI の AI と あと建設で何ができるかっていう話について 特に話したんですけ',
  corrected: 'AIと建設分野で何ができるかという話をしました。特に先方は最近の人手不足に悩んでおり、例えば建築資材'
}
AI extraction result: ```json
{
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": ["人手不足"]
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:551:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:53:27
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": ["AIと建設分野で何ができるかという話をした", "先方がAIシステムの要望を話した"],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:757:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:599:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "それを受けて、次に何をする予定ですか？",
  "reason": "最新の回答が過去の行動に関する内容であり、次のアクションが具体的に記載されていないため。",
  "needsFollowUp": true
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:676:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: true,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  participants: [ '山田さん' ],
  summary: 'お疲れ様です。今日は大成建設の山田さんとお話ししました。商談ではもちろん商談の話もしましたが、ゴルフの話でとても盛り上がり、少し面白かったです。',
  project: [ '建築', 'BIM', '設計' ],
  issues: [ '特に先方は最近の人手不足に悩んでおり' ],
  next_action: [
    '足りない資材を在庫確認してそのまま発注できるようなAIシステムが欲しいと話していました',
    '建物の3DモデルをAIが自動で作成してくれる仕組みも良いと考えているようでした'
  ]
}
AI undecided analysis: {
  answer: 'AIと建設分野で何ができるかという話をしました。特に先方は最近の人手不足に悩んでおり、例えば建築資材',
  result: 'NO'
}
Missing slots: [ 'budget', 'schedule', 'location' ]
Correction request received: { text: '具体的には 今日はなかったですね' }
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: { original: '具体的には 今日はなかったですね', corrected: '具体的には、今日は特にありませんでした。' }
AI extraction result: {
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": []
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": ["特に何も行動しなかった"],
  "needsNextActionQuestion": false
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:757:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:599:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "商談のスケジュールや納期について、何か具体的なお話はありましたか？",
  "reason": "未入力項目であるscheduleについて確認する必要があるため。",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:676:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  participants: [ '山田さん' ],
  summary: 'お疲れ様です。今日は大成建設の山田さんとお話ししました。商談ではもちろん商談の話もしましたが、ゴルフの話でとても盛り上がり、少し面白かったです。',
  project: [ '建築', 'BIM', '設計' ],
  issues: [ '特に先方は最近の人手不足に悩んでおり' ],
  next_action: [
    '足りない資材を在庫確認してそのまま発注できるようなAIシステムが欲しいと話していました',
    '建物の3DモデルをAIが自動で作成してくれる仕組みも良いと考えているようでした'
  ]
}
AI undecided analysis: { answer: '具体的には、今日は特にありませんでした。', result: 'YES' }
Missing slots: [ 'budget', 'schedule', 'location' ]
User indicated information is undecided, recording as undecided
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Correction request received: {
  text: '今日は大成建設の部長の山田さんとの商談がありました場所は新宿で行われましたけれどその時に まあ 私たちは結構お互いにゴルフが好きなんだっていうことでゴルフの話でとっても盛り上がりました 間食はまあすごい良かったんですけれど まあ AI にすごい興味を持ってくれてるのでまあすごい感じ 良かったな というふうに思ってます'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: '今日は大成建設の部長の山田さんとの商談がありました場所は新宿で行われましたけれどその時に まあ 私た',
  corrected: '今日は大成建設の部長である山田さんとの商談が新宿で行われました。その際、お互いにゴルフが好きだという'
}
AI extraction result: ```json
{
  "customer": "大成建設",
  "project": null,
  "next_action": [],
  "budget": null,
  "schedule": null,
  "participants": ["山田部長"],
  "location": "新宿",
  "issues": []
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:557:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:53:27
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": [
    "大成建設の部長である山田さんとの商談を行った",
    "ゴルフが好きだという話題で盛り上がった",
    "山田さんがAIに強い興味を持っていることを確認した"
  ],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:763:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:605:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "今回の商談に関連する具体的な案件やプロジェクトの内容は何ですか？",
  "reason": "基本情報であるprojectが未入力であり、次に重要な項目であるため。",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:682:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: true,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  participants: [ '今日は大成建設の部長である山田さん' ],
  summary: '今日は大成建設の部長である山田さんとの商談が新宿で行われました。その際、お互いにゴルフが好きだという話題でとても盛り上がりました。商談の雰囲気も非常に良く、山田さんがAIに強い興味を持ってくださったので、とても良い印象を受けました。'
}
AI undecided analysis: {
  answer: '今日は大成建設の部長である山田さんとの商談が新宿で行われました。その際、お互いにゴルフが好きだという',
  result: 'NO'
}
Missing slots: [
  'project',
  'next_action',
  'budget',
  'schedule',
  'location',
  'issues'
]
Correction request received: {
  text: '具体的には 設計図を読み取って 3 D モデルを作ってくれるアプリについて まあ 開発したいという風に言ってましたあとは pim の 3 d モデルにプラスしてチャット ボット機能をつけたいという風に言ってました'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: '具体的には 設計図を読み取って 3 D モデルを作ってくれるアプリについて まあ 開発したいという風',
  corrected: '具体的には、設計図を読み取って3Dモデルを作成するアプリを開発したいと言っていました。また、BIMの'
}
AI extraction result: ```json
{
  "customer": "大成建設",
  "project": "設計図から3Dモデルを作成するアプリ開発、BIM連携チャットボット機能追加",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": ["今日は大成建設の部長である山田さん"],
  "location": "新宿",
  "issues": []
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:557:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:53:27
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": ["設計図を読み取って3Dモデルを作成するアプリを開発したいと言った", "BIMの3Dモデルに加えてチャットボット機能を追加したいと言った"],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:763:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:605:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "今回のプロジェクトの予算や金額について、何か話が出ましたか？",
  "reason": "未入力の項目の中で、予算（budget）はプロジェクトの進行において重要な情報であるため、優先的に確認する必要があります。",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:682:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  participants: [ '今日は大成建設の部長である山田さん' ],
  summary: '今日は大成建設の部長である山田さんとの商談が新宿で行われました。その際、お互いにゴルフが好きだという話題でとても盛り上がりました。商談の雰囲気も非常に良く、山田さんがAIに強い興味を持ってくださったので、とても良い印象を受けました。',
  project: [ '設計', 'BIM' ],
  next_action: [ '設計図を読み取って3Dモデルを作成するアプリを開発したいと言っていました' ]
}
AI undecided analysis: {
  answer: '具体的には、設計図を読み取って3Dモデルを作成するアプリを開発したいと言っていました。また、BIMの',
  result: 'NO'
}
Missing slots: [ 'budget', 'schedule', 'location', 'issues' ]
Correction request received: { text: '予算とか金額については 特に具体的ではなかったです まただでも6億ぐらい出せるって言ってました' }
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: '予算とか金額については 特に具体的ではなかったです まただでも6億ぐらい出せるって言ってました',
  corrected: '予算や金額については特に具体的な話はありませんでしたが、6億円程度は出せると言っていました。'
}
AI extraction result: {
  "customer": "大成建設",
  "project": "設計図からの3Dモデル自動生成システム",
  "next_action": ["設計図を読み取って3Dモデルを作成するアプリの開発を検討"],
  "budget": "6億円程度",
  "schedule": null,
  "participants": ["山田部長"],
  "location": "新宿",
  "issues": []
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": ["予算や金額について具体的な話をしなかった", "6億円程度は出せると言った"],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:763:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:605:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "そのプロジェクトのスケジュールや納期について、何か具体的な話はありましたか？",
  "reason": "未入力項目のうち、スケジュールはプロジェクトの進行において重要な情報であり、次に確認すべき項目です。",
  "needsFollowUp": false
}
AI extraction result: {
  "customer": "大成建設",
  "project": "設計図からの3Dモデル自動生成システム",
  "next_action": ["デモを複数作成して提示する"],
  "budget": "6億円程度",
  "schedule": null,
  "participants": ["山田さん（大成建設 部長）"],
  "location": "新宿",
  "issues": []
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": true,
  "actionType": "mixed",
  "extractedActions": ["先方からデモを提示してほしいと言われた", "たくさんデモを作る予定"],
  "needsNextActionQuestion": false
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:763:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:605:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "そのプロジェクトに関して、何か課題や懸念事項は挙がっていますか？",
  "reason": "未入力の項目であるissuesについて確認する必要があるため。",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:682:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: true,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  participants: [ '今日は大成建設の部長である山田さん' ],
  summary: '今日は大成建設の部長である山田さんとの商談が新宿で行われました。その際、お互いにゴルフが好きだという話題でとても盛り上がりました。商談の雰囲気も非常に良く、山田さんがAIに強い興味を持ってくださったので、とても良い印象を受けました。',
  project: [ '設計', 'BIM' ],
  next_action: [ '設計図を読み取って3Dモデルを作成するアプリを開発したいと言っていました' ],
  budget: '6億円程度',
  location: '新宿'
}
AI undecided analysis: {
  answer: 'うんと まずはまあでもいくつかデモを作って提示してほしいという風に あの先方から言われました なので',
  result: 'NO'
}
Missing slots: [ 'schedule', 'issues' ]
Skipping similar question for schedule: スケジュールや納期についてはいかがでしたか？
Correction request received: {
  text: 'やっぱり 人手不足に悩んでるらしいので まあ 人手不足を解消するために AI がどう 建築に貢献できるかっていうところを我々がもっと 深掘って認識 知識を知識をもっとつけていかないといけないな という風に思いました'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'やっぱり 人手不足に悩んでるらしいので まあ 人手不足を解消するために AI がどう 建築に貢献でき',
  corrected: '人手不足に悩んでいるようなので、人手不足を解消するためにAIが建築にどのように貢献できるかを、我々が'
}
AI extraction result: {
  "customer": "大成建設",
  "project": "人手不足解消のためのAI活用",
  "next_action": ["AIが建築にどのように貢献できるかを深掘りし、知識を身につける"],
  "budget": "6億円程度",
  "schedule": null,
  "participants": ["今日は大成建設の部長である山田さん"],
  "location": "新宿",
  "issues": ["人手不足"]
}
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": true,
  "actionType": "future",
  "extractedActions": ["AIが建築にどのように貢献できるかを深掘りする", "認識を深める", "知識を身につける"],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:763:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:605:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": true,
  "nextQuestion": null,
  "reason": "基本情報（customer, project, next_action）が揃っており、他の項目が未定でも完了可能です。また、質問回数が5回に達しているため、これ以上の質問は不要です。",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:682:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  participants: [ '今日は大成建設の部長である山田さん' ],
  summary: '今日は大成建設の部長である山田さんとの商談が新宿で行われました。その際、お互いにゴルフが好きだという話題でとても盛り上がりました。商談の雰囲気も非常に良く、山田さんがAIに強い興味を持ってくださったので、とても良い印象を受けました。',
  project: [ '設計', 'BIM' ],
  next_action: [ '設計図を読み取って3Dモデルを作成するアプリを開発したいと言っていました' ],
  budget: '6億円程度',
  location: '新宿',
  issues: [ '人手不足' ]
}
AI undecided analysis: {
  answer: '人手不足に悩んでいるようなので、人手不足を解消するためにAIが建築にどのように貢献できるかを、我々が',
  result: 'NO'
}
Missing slots: [ 'schedule' ]
Skipping similar question for schedule: スケジュールや納期についてはいかがでしたか？
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Personal analytics error: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:54:18)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '194',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Personal analytics error: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:54:18)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '194',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Personal analytics error: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:54:18)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '194',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Personal analytics error: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:54:18)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '194',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Personal analytics error: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:54:18)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '194',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Personal analytics error: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:54:18)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '194',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Correction request received: {
  text: '今日は大成建設の山田さんとお話ししました 商談は新宿で行われて初めて会ったのでまあ お互いの自己紹介とあとは山田さんがゴルフが大好きっていうことだったのでゴルフについて話しました で具体的なまあ 商談内容としては まあ AI と建設でこれから何ができるかっていうことについて まあ お互いの知識だったりとかまああの今後のやりたいことについて話し合いました'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: '今日は大成建設の山田さんとお話ししました 商談は新宿で行われて初めて会ったのでまあ お互いの自己紹介',
  corrected: '今日は大成建設の山田さんとお話ししました。商談は新宿で行われ、初めてお会いしたのでお互いに自己紹介を'
}
AI extraction result: {
  "customer": "大成建設",
  "project": "AIと建設分野での可能性検討",
  "next_action": [],
  "budget": null,
  "schedule": null,
  "participants": ["山田さん"],
  "location": "新宿",
  "issues": [],
  "personal_info": ["ゴルフが趣味"],
  "relationship_notes": ["ゴルフの話題で盛り上がった"]
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": [
    "大成建設の山田さんとお話しした",
    "商談を新宿で行った",
    "お互いに自己紹介をした",
    "ゴルフについて話題にした",
    "AIと建設分野で何ができるかについて話し合った"
  ],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:783:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:622:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "今回の商談を受けて、次に何をする予定になりましたか？",
  "reason": "next_actionが未入力であり、営業担当者の次の具体的な行動が必要なため。",
  "needsFollowUp": true
}
Correction request received: {
  text: 'えーと 今回の商談はまだあの 初めましてだったのでまあ 具体的に何をするかっていうと まあ またあのアポイントメントをあの営業の方からとってでそのアポイントメントの時に 今回話した AI と建築に関するデモを2つぐらいあのこちらで用意して大成建設の方にでも 披露するっていう そういう予定です'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'えーと 今回の商談はまだあの 初めましてだったのでまあ 具体的に何をするかっていうと まあ またあの',
  corrected: '今回の商談は初めての打ち合わせだったため、具体的な内容についてはまだ決まっていません。今後、営業担当'
}
AI extraction result: {
  "customer": "大成建設",
  "project": "AIと建設分野での可能性検討",
  "next_action": [
    "アポイントを取り直す",
    "AIと建築に関するデモを2つ準備する"
  ],
  "budget": null,
  "schedule": null,
  "participants": [
    "山田さん"
  ],
  "location": "新宿",
  "issues": [],
  "personal_info": [
    "ゴルフが趣味"
  ],
  "relationship_notes": [
    "ゴルフの話題で盛り上がった"
  ]
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": true,
  "actionType": "mixed",
  "extractedActions": [
    "初めての打ち合わせを実施した",
    "営業担当が改めてアポイントを取る予定",
    "AIと建築に関するデモを2つ用意する予定",
    "大成建設の方にデモを披露する予定"
  ],
  "needsNextActionQuestion": false
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:783:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:622:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "今回のプロジェクトにおける予算や金額について、何か話題に上がりましたか？",
  "reason": "基本情報（customer, project, next_action）は揃っているが、未入力の項目であるbudgetについて確認する必要があるため。",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:702:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: true,
  hasNextSteps: true,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  project: 'AIと建設分野での可能性検討',
  participants: [ '山田さん' ],
  location: '新宿',
  personal_info: [ 'ゴルフが趣味' ],
  relationship_notes: [ 'ゴルフの話題で盛り上がった' ],
  summary: '今日は大成建設の山田さんとお話ししました。商談は新宿で行われ、初めてお会いしたのでお互いに自己紹介をしました。また、山田さんがゴルフが大好きだということで、ゴルフについても話題にしました。具体的な商談内容としては、AIと建設分野でこれから何ができるかについて、お互いの知識や今後の取り組みたいことについて話し合いました。',
  next_action: [ 'アポイントを取り直す', 'AIと建築に関するデモを2つ準備する' ]
}
AI undecided analysis: {
  answer: '今回の商談は初めての打ち合わせだったため、具体的な内容についてはまだ決まっていません。今後、営業担当',
  result: 'YES'
}
Missing slots: [ 'budget', 'schedule', 'issues' ]
User indicated information is undecided, recording as undecided
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Correction request received: {
  text: '今日は大成建設の山田さんとの商談でした 山田さんは部長をやっていらっしゃって で新宿で今日行ったんですけど 12時から 山田さんはすごいゴルフが好きでで私もゴルフが好きなので それについてとても盛り上がりましたあとはまあ 具体的な商談内容なんですけどまあ AI と建設で何ができるかっていうことについて話しました'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: '今日は大成建設の山田さんとの商談でした 山田さんは部長をやっていらっしゃって で新宿で今日行ったんで',
  corrected: '今日は大成建設の山田部長との商談がありました。新宿で12時から行われました。山田部長はゴルフが大好き'
}
AI extraction result: {
  "customer": "大成建設",
  "project": "AIと建設の活用",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": ["山田部長"],
  "location": "新宿",
  "issues": [],
  "personal_info": ["ゴルフが趣味"],
  "relationship_notes": ["ゴルフの話で盛り上がった"]
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": [
    "大成建設の山田部長との商談を行った",
    "新宿で12時から商談を行った",
    "ゴルフの話題で盛り上がった",
    "AIと建設で何ができるかについて話し合った"
  ],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:773:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:612:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "今回の商談を受けて、次に何をする予定になりましたか？",
  "reason": "next_actionが未入力であり、営業担当者の次の具体的な行動を確認する必要があるため。",
  "needsFollowUp": true
}
Correction request received: {
  text: 'と来月8月までにデモを2つ作らないといけないです 1つは日陰 計算 でも でもう1つは 営業日報 デモになりますで どちらも その8月の再度の大成建設とのアポイントメントで披露する予定です'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'と来月8月までにデモを2つ作らないといけないです 1つは日陰 計算 でも でもう1つは 営業日報 デ',
  corrected: '来月8月までにデモを2つ作成する必要があります。1つは日陰計算のデモで、もう1つは営業日報のデモにな'
}
AI extraction result: {
  "customer": "大成建設",
  "project": "AIと建設の活用",
  "next_action": [
    "日陰計算のデモを作成する",
    "営業日報のデモを作成する"
  ],
  "budget": null,
  "schedule": "8月までにデモを作成、8月に再度アポイントメント",
  "participants": [
    "山田部長"
  ],
  "location": "新宿",
  "issues": [],
  "personal_info": [
    "ゴルフが趣味"
  ],
  "relationship_notes": [
    "ゴルフの話で盛り上がった"
  ]
}
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": true,
  "actionType": "future",
  "extractedActions": [
    "デモを2つ作成する（1つは日陰計算のデモ、もう1つは営業日報のデモ）",
    "8月の大成建設とのアポイントメントでデモを披露する"
  ],
  "needsNextActionQuestion": false
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:773:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:612:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "今回のプロジェクトに関連する予算や金額について、何か決まっていることはありますか？",
  "reason": "未入力の項目の中で、予算（budget）はプロジェクトの進行において重要な情報であり、次に確認すべき項目と判断しました。",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:692:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: true,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  project: 'AIと建設の活用',
  participants: [ '山田部長' ],
  location: '新宿',
  personal_info: [ 'ゴルフが趣味' ],
  relationship_notes: [ 'ゴルフの話で盛り上がった' ],
  summary: '今日は大成建設の山田部長との商談がありました。新宿で12時から行われました。山田部長はゴルフが大好きで、私もゴルフが好きなので、その話題でとても盛り上がりました。具体的な商談内容としては、AIと建設で何ができるかについて話し合いました。',
  next_action: [ '日陰計算のデモを作成する', '営業日報のデモを作成する' ],
  schedule: '8月までにデモを作成、8月に再度アポイントメント'
}
AI undecided analysis: {
  answer: '来月8月までにデモを2つ作成する必要があります。1つは日陰計算のデモで、もう1つは営業日報のデモにな',
  result: 'NO'
}
Missing slots: [ 'budget', 'issues' ]
AI extraction result: {
  "customer": "大成建設",
  "project": "AIと建設の活用",
  "next_action": [
    "日陰計算のデモを作成する",
    "営業日報のデモを作成する"
  ],
  "budget": null,
  "schedule": "8月までにデモを作成、8月に再度アポイントメント",
  "participants": [
    "山田部長"
  ],
  "location": "新宿",
  "issues": [],
  "personal_info": [
    "ゴルフが趣味"
  ],
  "relationship_notes": [
    "ゴルフの話で盛り上がった"
  ]
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": ["予算や金額の話をしなかった"],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:773:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:612:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "今回の商談で何か課題や懸念事項は挙がりましたか？",
  "reason": "未入力の項目に課題（issues）が含まれており、次に重要な情報として確認する必要があるため。",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:692:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  project: 'AIと建設の活用',
  participants: [ '山田部長' ],
  location: '新宿',
  personal_info: [ 'ゴルフが趣味' ],
  relationship_notes: [ 'ゴルフの話で盛り上がった' ],
  summary: '今日は大成建設の山田部長との商談がありました。新宿で12時から行われました。山田部長はゴルフが大好きで、私もゴルフが好きなので、その話題でとても盛り上がりました。具体的な商談内容としては、AIと建設で何ができるかについて話し合いました。',
  next_action: [ '日陰計算のデモを作成する', '営業日報のデモを作成する' ],
  schedule: '8月までにデモを作成、8月に再度アポイントメント'
}
AI undecided analysis: { answer: '予算や 金額の話は 今回は特に具体的にはしてません', result: 'YES' }
Missing slots: [ 'budget', 'issues' ]
User indicated information is undecided, recording as undecided
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Login attempt for email: tanaka@example.com
Found user: { id: 2, email: 'tanaka@example.com', name: '田中花子', role: 'sales' }
Password valid: true
Correction request received: {
  text: '今日は大成建設の山田さんとの商談でした 新宿で12時から行ったんですけれどもその時に まあ 驚いたのは山田さんかすごいゴルフが好きで 私もゴルフが好きなので2人でゴルフのお話で盛り上がりましたでま その後に あの具体的な商談の話にはなったんですけれども まあ AI と建築でどういったものが今後できるかっていう話について話し合いました'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: '今日は大成建設の山田さんとの商談でした 新宿で12時から行ったんですけれどもその時に まあ 驚いたの',
  corrected: '今日は大成建設の山田さんとの商談がありました。新宿で12時から行ったのですが、驚いたのは山田さんがゴ'
}
AI extraction result: ```json
{
  "customer": "大成建設",
  "project": "AIと建築の可能性についての商談",
  "next_action": [],
  "budget": null,
  "schedule": null,
  "participants": ["山田さん"],
  "location": "新宿",
  "issues": [],
  "personal_info": ["ゴルフが趣味"],
  "relationship_notes": ["ゴルフの話で盛り上がった"]
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:564:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:59:27
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": [
    "大成建設の山田さんとの商談を行った",
    "ゴルフの話で盛り上がった",
    "AIと建築について話し合った"
  ],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:773:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:612:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "今回の商談を受けて、次に何をする予定になりましたか？",
  "reason": "next_actionが未入力であり、営業担当者の次の具体的な行動を確認する必要があるため。",
  "needsFollowUp": true
}
Correction request received: {
  text: 'えっとまず 8月の第1週までにデモを作りますで 1つ目が 営業日報 でも でもう1つが日陰 計算でもになりますでえっとそれ以外に関しては 8月に営業からもう一度 大成建設にはポイントを取る予定になっていてその際にこの2つのデモを見せる 予定になっています'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'えっとまず 8月の第1週までにデモを作りますで 1つ目が 営業日報 でも でもう1つが日陰 計算でも',
  corrected: 'まず、8月第1週までにデモを作成します。1つ目が営業日報、もう1つが日陰計算デモです。それ以外につい'
}
AI extraction result: ```json
{
  "customer": "大成建設",
  "project": "営業日報デモと日陰計算デモの作成",
  "next_action": [
    "8月第1週までに営業日報デモを作成する",
    "8月第1週までに日陰計算デモを作成する",
    "8月に大成建設に再度アプローチし、2つのデモを提示する"
  ],
  "budget": null,
  "schedule": "8月第1週までにデモ作成",
  "participants": [],
  "location": null,
  "issues": [],
  "personal_info": [],
  "relationship_notes": []
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:564:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:59:27
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": true,
  "actionType": "future",
  "extractedActions": [
    "8月第1週までにデモを作成する",
    "営業日報デモを作成する",
    "日陰計算デモを作成する",
    "8月に営業から大成建設に再度アプローチする",
    "大成建設に2つのデモを提示する"
  ],
  "needsNextActionQuestion": false
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:773:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:612:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "今回のプロジェクトの予算や金額について、何か決まっていることはありますか？",
  "reason": "未入力の項目の中で、予算（budget）は重要な情報であり、次に確認すべき項目と判断しました。",
  "needsFollowUp": false
}
AI extraction result: {
  "customer": null,
  "project": null,
  "next_action": [],
  "budget": "未定",
  "schedule": null,
  "participants": [],
  "location": null,
  "issues": [],
  "personal_info": [],
  "relationship_notes": []
}
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": false,
  "actionType": "status",
  "extractedActions": [],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:773:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:612:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "今回のプロジェクトのスケジュールや納期について、何か決まっていることはありますか？",
  "reason": "未入力の項目の中で、スケジュールはプロジェクト進行において重要な情報であるため。",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:692:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: '大成建設',
  project: [ '建築' ],
  participants: [ '今日は大成建設の山田さん' ],
  summary: '今日は大成建設の山田さんとの商談がありました。新宿で12時から行ったのですが、驚いたのは山田さんがゴルフがとても好きだということです。私もゴルフが好きなので、2人でゴルフの話で盛り上がりました。その後、具体的な商談の話に移り、AIと建築で今後どのようなことが可能になるかについて話し合いました。',
  next_action: [ '8月第1週までにデモを作成します', 'その際にこの2つのデモを提示する予定です' ],
  budget: '未定'
}
AI undecided analysis: { answer: '今回のプロジェクトの予算についてはまだ何も決まってないです', result: 'YES' }
Missing slots: [ 'schedule', 'location', 'issues' ]
User indicated information is undecided, recording as undecided
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:55:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:182:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:31:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:55:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:182:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:31:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:55:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:182:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:31:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:55:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:182:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:31:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:56:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:20:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:183:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:32:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Analytics request - userId: 2 period: 30
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:56:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:20:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:183:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:32:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 90
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 91
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 90
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 91
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:204:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Personal analytics error: ReferenceError: Cannot access 'startDate' before initialization
    at /Users/anemoto/sales_daily/server/src/routes/analytics.js:13:44
    at Layer.handle [as handle_request] (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/route.js:149:13)
    at authMiddleware (/Users/anemoto/sales_daily/server/src/middleware/auth.js:14:5)
    at Layer.handle [as handle_request] (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/anemoto/sales_daily/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/index.js:346:12)
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:71:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:210:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:71:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:210:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Customer analysis: 1
Fetching project categories...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Debugger listening on ws://127.0.0.1:9229/5981e3c5-7ddc-4b80-b8d8-ac0e212c5b04
For help, see: https://nodejs.org/en/docs/inspector
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-17T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-17T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '560',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-17T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-17T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '560',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '560',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T15:00:00.000Z',
  endDate: '2025-07-25T14:59:59.999Z'
}
Reports in date range: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T00:08:43.232Z
  }
]
Reports with slots JOIN: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: '{"建築"}'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:239:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T15:00:00.000Z',
  endDate: '2025-07-25T14:59:59.999Z'
}
Reports in date range: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T00:08:43.232Z
  }
]
Reports with slots JOIN: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: '{"建築"}'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:239:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T00:08:43.232Z
  }
]
Reports with slots JOIN: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: '{"建築"}'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:244:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T00:08:43.232Z
  }
]
Reports in date range: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T00:08:43.232Z
  }
]
Reports with slots JOIN: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: '{"建築"}'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Fetching daily reports...
Reports with slots JOIN: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: '{"建築"}'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T00:08:43.232Z
  }
]
Reports with slots JOIN: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: '{"建築"}'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: []
getBasicStats query result: {
  total_reports: '0',
  draft_reports: '0',
  completed_reports: '0',
  unique_customers: '0',
  reports_with_actions: '0',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: []
Reports with slots JOIN: []
Basic stats: {
  total_reports: '0',
  draft_reports: '0',
  completed_reports: '0',
  unique_customers: '0',
  reports_with_actions: '0',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 0
Fetching project categories...
Project categories: 0
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: []
getBasicStats query result: {
  total_reports: '0',
  draft_reports: '0',
  completed_reports: '0',
  unique_customers: '0',
  reports_with_actions: '0',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: []
Reports with slots JOIN: []
Basic stats: {
  total_reports: '0',
  draft_reports: '0',
  completed_reports: '0',
  unique_customers: '0',
  reports_with_actions: '0',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 0
Fetching project categories...
Project categories: 0
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Correction request received: {
  text: '今日は大成建設の部長の山田さんと 新宿で12時から 商談がありました 今回の商談は初めてだったんですけれども 山田さん が非常にいい人でゴルフがお好き ということで 私もすごいゴルフが好きなのでゴルフの話をして盛り上がりましたで商談のまま 内容自体なんですけれども AI と建築で何ができるかというところをテーマにあのお話ししました'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: '今日は大成建設の部長の山田さんと 新宿で12時から 商談がありました 今回の商談は初めてだったんです',
  corrected: '今日は大成建設の部長である山田さんと、新宿で12時から商談がありました。今回の商談は初めてでしたが、'
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
AI extraction result: {
  "customer": "大成建設",
  "project": "AIと建築の活用",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": ["山田さん"],
  "location": "新宿",
  "issues": [],
  "personal_info": ["ゴルフが趣味"],
  "relationship_notes": ["ゴルフの話で盛り上がった"]
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": [
    "大成建設の部長である山田さんと新宿で商談を行った",
    "ゴルフの話題で盛り上がった",
    "AIと建築で何ができるかというテーマについて話した"
  ],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:851:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:690:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "今回の商談を受けて、次に何をする予定になりましたか？",
  "reason": "next_actionが未入力であり、営業担当者の次の具体的な行動を確認する必要があるため。",
  "needsFollowUp": true
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Correction request received: {
  text: 'まずは 8月までにちゃんとした でも作らないといけないです そのデモっていうのは1つは日陰 計算 でも でもう1つは 日報 でも ですでこの2つを 8月の8日までに4日ですね 8月の4日にアポイントメントを取って その時に この2つのデモを披露する予定です'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Text correction error: {
  message: "Cannot read properties of undefined (reading 'trim')",
  response: undefined,
  status: undefined,
  config: undefined
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
AI extraction result: ```json
{
  "customer": "",
  "project": "",
  "next_action": ["デモ作成", "8月4日にアポイントメントを設定", "デモを披露"],
  "budget": "",
  "schedule": "8月4日",
  "participants": [],
  "location": "",
  "issues": [],
  "personal_info": [],
  "relationship_notes": []
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:629:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:59:27
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": true,
  "actionType": "future",
  "extractedActions": [
    "8月4日までに2つのデモを作成する",
    "8月4日にアポイントメントを取る",
    "アポイントメント時に2つのデモを披露する"
  ],
  "needsNextActionQuestion": false
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:851:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:690:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "今回のプロジェクトに関して、予算や金額の話は出ましたか？",
  "reason": "未入力の項目であるbudgetが重要な情報であり、次に確認すべき項目だからです。",
  "needsFollowUp": false
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
AI extraction result: {
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "未定",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": [],
  "personal_info": [],
  "relationship_notes": []
}
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": false,
  "actionType": "status",
  "extractedActions": [],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:851:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:690:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "今回のプロジェクトに関して、何か課題や懸念事項はありますか？",
  "reason": "未入力の項目であるissuesを確認する必要があるため。",
  "needsFollowUp": false
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
AI extraction result: {
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": ["建築の知識が浅く、適切なソリューションを提供できるかが不明確"],
  "personal_info": [],
  "relationship_notes": []
}
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": false,
  "actionType": "status",
  "extractedActions": [],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:851:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:690:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": true,
  "reason": "基本情報（customer, project, next_action）が揃っており、他の項目も十分に埋まっているため、これ以上の質問は不要と判断しました。",
  "needsFollowUp": false
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Daily reports: 31
Fetching customer analysis...
Project categories: 1
Fetching issues analysis...
Customer analysis: 1
Fetching project categories...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Project categories: 1
Fetching issues analysis...
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: '大成建設',
    project: 'AIと建築の活用'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
/Users/anemoto/sales_daily/server/src/routes/reports.js:384
router.get('/team', authMiddleware, managerOnly, async (req, res) => {
                                    ^

ReferenceError: managerOnly is not defined
    at Object.<anonymous> (/Users/anemoto/sales_daily/server/src/routes/reports.js:384:37)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1613:10)
    at Module.load (node:internal/modules/cjs/loader:1275:32)
    at Module._load (node:internal/modules/cjs/loader:1096:12)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at Object.<anonymous> (/Users/anemoto/sales_daily/server/src/index.js:9:22)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1613:10)

Node.js v20.19.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
/Users/anemoto/sales_daily/server/src/routes/analytics.js:322
router.get('/team', authMiddleware, managerOnly, async (req, res) => {
                                    ^

ReferenceError: managerOnly is not defined
    at Object.<anonymous> (/Users/anemoto/sales_daily/server/src/routes/analytics.js:322:37)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1613:10)
    at Module.load (node:internal/modules/cjs/loader:1275:32)
    at Module._load (node:internal/modules/cjs/loader:1096:12)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at Object.<anonymous> (/Users/anemoto/sales_daily/server/src/index.js:12:25)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1613:10)

Node.js v20.19.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::3001
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/Users/anemoto/sales_daily/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/Users/anemoto/sales_daily/server/src/index.js:57:5)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1613:10)
    at Module.load (node:internal/modules/cjs/loader:1275:32)
    at Module._load (node:internal/modules/cjs/loader:1096:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 3001
}

Node.js v20.19.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
