
> sales-daily-server@1.0.0 dev
> nodemon src/index.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: { customer: 'é¹¿å³¶å»ºè¨­', summary: 'ä»Šæ—¥ã¯é¹¿å³¶å»ºè¨­ã¨ã®å•†è«‡ã§ã—ãŸ' }
AI undecided analysis: { answer: 'ä»Šæ—¥ã¯é¹¿å³¶å»ºè¨­ã¨ã®å•†è«‡ã§ã—ãŸ', result: 'NO' }
Missing slots: [
  'project',
  'next_action',
  'budget',
  'schedule',
  'participants',
  'location',
  'issues'
]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: { customer: 'é¹¿å³¶å»ºè¨­', summary: 'ä»Šæ—¥ã¯é¹¿å³¶å»ºè¨­ã¨ã®å•†è«‡ã§ã—ãŸ', project: 'BIM' }
AI undecided analysis: { answer: 'BIMã¨AIã‚’æ´»ç”¨ã—ãŸã‚·ã‚¹ãƒ†ãƒ ã«ã¤ã„ã¦è©±ã—ã¾ã—ãŸ', result: 'NO' }
Missing slots: [
  'next_action',
  'budget',
  'schedule',
  'participants',
  'location',
  'issues'
]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: true,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'é¹¿å³¶å»ºè¨­',
  summary: 'ä»Šæ—¥ã¯é¹¿å³¶å»ºè¨­ã¨ã®å•†è«‡ã§ã—ãŸ',
  project: 'BIM',
  next_action: 'è¦‹ç©æ›¸ã‚’æ¥é€±æå‡ºã™ã‚‹äºˆå®šã§ã™'
}
AI undecided analysis: { answer: 'è¦‹ç©æ›¸ã‚’æ¥é€±æå‡ºã™ã‚‹äºˆå®šã§ã™', result: 'NO' }
Missing slots: [ 'budget', 'schedule', 'participants', 'location', 'issues' ]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'é¹¿å³¶å»ºè¨­',
  summary: 'ä»Šæ—¥ã¯é¹¿å³¶å»ºè¨­ã¨ã®å•†è«‡ã§ã—ãŸ',
  project: 'BIM',
  next_action: 'è¦‹ç©æ›¸ã‚’æ¥é€±æå‡ºã™ã‚‹äºˆå®šã§ã™',
  budget: 'ç´„1000ä¸‡å††'
}
AI undecided analysis: { answer: 'äºˆç®—ã¯ç´„1000ä¸‡å††ã§ã™', result: 'NO' }
Missing slots: [ 'schedule', 'participants', 'location', 'issues' ]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: true,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'é¹¿å³¶å»ºè¨­',
  summary: 'ä»Šæ—¥ã¯é¹¿å³¶å»ºè¨­ã¨ã®å•†è«‡ã§ã—ãŸ',
  project: 'BIM',
  next_action: 'è¦‹ç©æ›¸ã‚’æ¥é€±æå‡ºã™ã‚‹äºˆå®šã§ã™',
  budget: 'ç´„1000ä¸‡å††',
  schedule: '2ãƒ¶æœˆç¨‹åº¦'
}
AI undecided analysis: { answer: 'ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯2ãƒ¶æœˆç¨‹åº¦ã§ã™', result: 'NO' }
Missing slots: [ 'participants', 'location', 'issues' ]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: true,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'é¹¿å³¶å»ºè¨­',
  summary: 'ä»Šæ—¥ã¯é¹¿å³¶å»ºè¨­ã¨ã®å•†è«‡ã§ã—ãŸ',
  project: 'BIM',
  next_action: 'è¦‹ç©æ›¸ã‚’æ¥é€±æå‡ºã™ã‚‹äºˆå®šã§ã™',
  budget: 'ç´„1000ä¸‡å††',
  schedule: '2ãƒ¶æœˆç¨‹åº¦',
  participants: [ 'å…ˆæ–¹ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ä¸€éƒã•ã‚“', 'ç”°ä¸­éƒ¨é•·' ]
}
AI undecided analysis: { answer: 'å…ˆæ–¹ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ä¸€éƒã•ã‚“ã€ç”°ä¸­éƒ¨é•·ã¨ç§ãŒå‚åŠ ã—ã¾ã—ãŸ', result: 'NO' }
Missing slots: [ 'location', 'issues' ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Correction request received: {
  text: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨é¢æ¥ã‚’ã—ã¾ã—ãŸé¢æ¥ã¨ã„ã†ã‹å•†è«‡ãªã‚“ã§ã™ã‘ã©å±±ç”°ã•ã‚“ã‚‚ã”ç”¨æ„ãŒå¥½ãã§ç§ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ããªã®ã§ãªã‚“ã‹ã‚´ãƒ«ãƒ•ã®è©±ã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸä»Šå…·ä½“çš„ãªå•†è«‡ã®è©±ãªã‚“ã§ã™ã‘ã‚Œã©é›»è©±ã§ã‚‚ã¾ã‚ãŠä¼ãˆã—ã¦ã„ãŸãã®å»ºç¯‰Ã— AI ã§ä½•ãŒã§ãã‚‹ã‹ã£ã¦ã„ã†ã¨ã“ã‚ã§å…ˆæ–¹ã®ä¸€ç•ªã®æ‚©ã¿ã¨ã—ã¦ã¯ã‚„ã£ã±ã‚Šäººæ‰‹ä¸è¶³ã«éå¸¸ã«æ‚©ã‚“ã§ã‚‹ã‚‰ã—ã„ã§ã™'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨é¢æ¥ã‚’ã—ã¾ã—ãŸé¢æ¥ã¨ã„ã†ã‹å•†è«‡ãªã‚“ã§ã™ã‘ã©å±±ç”°ã•ã‚“ã‚‚ã”ç”¨æ„ãŒå¥½ãã§ç§ã‚‚ã‚´ãƒ«',
  corrected: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨é¢æ¥ã¨ã„ã†ã‹å•†è«‡ã‚’è¡Œã„ã¾ã—ãŸã€‚å±±ç”°ã•ã‚“ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ãã§ã€ç§ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ããª'
}
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: true,
  hasBusinessContext: true,
  hasPersonalDetails: true,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  project: [ 'å»ºç¯‰' ],
  issues: [ 'ã‚„ã¯ã‚Šäººæ‰‹ä¸è¶³ã«éå¸¸ã«å›°ã£ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã—ãŸ' ],
  participants: [ 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨é¢æ¥ã¨ã„ã†ã‹å•†è«‡ã‚’è¡Œã„ã¾ã—ãŸã€‚å±±ç”°ã•ã‚“ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ãã§ã€ç§ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ããªã®ã§ã€ãã®è©±é¡Œã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å…·ä½“çš„ãªå•†è«‡ã®å†…å®¹ã§ã™ãŒã€é›»è©±ã§ã‚‚ãŠä¼ãˆã—ã¦ã„ãŸã€Œå»ºç¯‰Ã—AIã§ä½•ãŒã§ãã‚‹ã‹ã€ã¨ã„ã†ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦è©±ã—ã¾ã—ãŸã€‚å…ˆæ–¹ã®ä¸€ç•ªã®æ‚©ã¿ã¯ã€ã‚„ã¯ã‚Šäººæ‰‹ä¸è¶³ã«éå¸¸ã«å›°ã£ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã—ãŸã€‚'
}
AI undecided analysis: {
  answer: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨é¢æ¥ã¨ã„ã†ã‹å•†è«‡ã‚’è¡Œã„ã¾ã—ãŸã€‚å±±ç”°ã•ã‚“ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ãã§ã€ç§ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ããª',
  result: 'NO'
}
Missing slots: [ 'next_action', 'budget', 'schedule', 'location' ]
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  project: [ 'å»ºç¯‰' ],
  issues: [ 'ã‚„ã¯ã‚Šäººæ‰‹ä¸è¶³ã«éå¸¸ã«å›°ã£ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã—ãŸ' ],
  participants: [ 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨é¢æ¥ã¨ã„ã†ã‹å•†è«‡ã‚’è¡Œã„ã¾ã—ãŸã€‚å±±ç”°ã•ã‚“ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ãã§ã€ç§ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ããªã®ã§ã€ãã®è©±é¡Œã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å…·ä½“çš„ãªå•†è«‡ã®å†…å®¹ã§ã™ãŒã€é›»è©±ã§ã‚‚ãŠä¼ãˆã—ã¦ã„ãŸã€Œå»ºç¯‰Ã—AIã§ä½•ãŒã§ãã‚‹ã‹ã€ã¨ã„ã†ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦è©±ã—ã¾ã—ãŸã€‚å…ˆæ–¹ã®ä¸€ç•ªã®æ‚©ã¿ã¯ã€ã‚„ã¯ã‚Šäººæ‰‹ä¸è¶³ã«éå¸¸ã«å›°ã£ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã—ãŸã€‚'
}
AI undecided analysis: {
  answer: 'ä»Šå›ã®å•†è«‡ã‚’å—ã‘ã¦ ã¾ã‚ æ¬¡ã«ã¯ã‚‚ã†1å›ã‚¢ãƒã‚¤ãƒ³ãƒˆãƒ¡ãƒ³ãƒˆã‚’å–ã‚‰ãªãã‚ƒã„ã‘ãªã„ã® ã¨ ã‚ã¨ã¯ãã®ãƒã‚¤ãƒ³',
  result: 'NO'
}
Missing slots: [ 'next_action', 'budget', 'schedule', 'location' ]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  project: [ 'å»ºç¯‰' ],
  issues: [ 'ã‚„ã¯ã‚Šäººæ‰‹ä¸è¶³ã«éå¸¸ã«å›°ã£ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã—ãŸ' ],
  participants: [ 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨é¢æ¥ã¨ã„ã†ã‹å•†è«‡ã‚’è¡Œã„ã¾ã—ãŸã€‚å±±ç”°ã•ã‚“ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ãã§ã€ç§ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ããªã®ã§ã€ãã®è©±é¡Œã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å…·ä½“çš„ãªå•†è«‡ã®å†…å®¹ã§ã™ãŒã€é›»è©±ã§ã‚‚ãŠä¼ãˆã—ã¦ã„ãŸã€Œå»ºç¯‰Ã—AIã§ä½•ãŒã§ãã‚‹ã‹ã€ã¨ã„ã†ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦è©±ã—ã¾ã—ãŸã€‚å…ˆæ–¹ã®ä¸€ç•ªã®æ‚©ã¿ã¯ã€ã‚„ã¯ã‚Šäººæ‰‹ä¸è¶³ã«éå¸¸ã«å›°ã£ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã—ãŸã€‚'
}
AI undecided analysis: { answer: 'å…ˆã»ã©ãŠè©±ã—ã—ãŸé€šã‚Šã§ã™', result: 'NO' }
Missing slots: [ 'next_action', 'budget', 'schedule', 'location' ]
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  project: [ 'å»ºç¯‰' ],
  issues: [ 'ã‚„ã¯ã‚Šäººæ‰‹ä¸è¶³ã«éå¸¸ã«å›°ã£ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã—ãŸ' ],
  participants: [ 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨é¢æ¥ã¨ã„ã†ã‹å•†è«‡ã‚’è¡Œã„ã¾ã—ãŸã€‚å±±ç”°ã•ã‚“ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ãã§ã€ç§ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ããªã®ã§ã€ãã®è©±é¡Œã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å…·ä½“çš„ãªå•†è«‡ã®å†…å®¹ã§ã™ãŒã€é›»è©±ã§ã‚‚ãŠä¼ãˆã—ã¦ã„ãŸã€Œå»ºç¯‰Ã—AIã§ä½•ãŒã§ãã‚‹ã‹ã€ã¨ã„ã†ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦è©±ã—ã¾ã—ãŸã€‚å…ˆæ–¹ã®ä¸€ç•ªã®æ‚©ã¿ã¯ã€ã‚„ã¯ã‚Šäººæ‰‹ä¸è¶³ã«éå¸¸ã«å›°ã£ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã—ãŸã€‚'
}
AI undecided analysis: { answer: 'ã‚ã®ã ã‹ã‚‰ã§ã‚‚æŒã£ã¦ã„ã ã£ã¦ã„ã†è©±ã§ã™', result: 'NO' }
Missing slots: [ 'next_action', 'budget', 'schedule', 'location' ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Correction request received: {
  text: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸ å‚åŠ ã—ãŸã®ã¯ç§ æ ¹æœ¬ã‚ã‚Šã•ã¨ å¤§æˆå»ºè¨­ã®éƒ¨é•·ã®å±±ç”°ã•ã‚“ã§ã™ å±±ç”°ã•ã‚“ã¯ã‚´ãƒ«ãƒ•ãŒå¥½ãã¨ã„ã†ã“ã¨ã§ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸ å•†è«‡ã®å†…å®¹ã«ã¤ã„ã¦ã¯ã¾ã‚ AI ã¨å»ºè¨­ã§ä½•ãŒã§ãã‚‹ã‹ã£ã¦ã„ã†ã“ã¨ã«ã¤ã„ã¦ ã§ã—ãŸ'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸ å‚åŠ ã—ãŸã®ã¯ç§ æ ¹æœ¬ã‚ã‚Šã•ã¨ å¤§æˆå»ºè¨­ã®éƒ¨é•·ã®å±±ç”°ã•ã‚“ã§ã™ å±±ç”°',
  corrected: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸã€‚å‚åŠ è€…ã¯ç§ã€æ ¹æœ¬ã‚ã‚Šã•ã¨ã€å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã§ã™ã€‚å±±ç”°'
}
AI extraction result: {
  "customer": "å¤§æˆå»ºè¨­",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": ["ç§", "æ ¹æœ¬ã‚ã‚Šã•", "å±±ç”°ã•ã‚“"],
  "location": "",
  "issues": []
}
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "å•†è«‡ã®å…·ä½“çš„ãªæ¡ˆä»¶åã‚„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…å®¹ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„ã€‚",
  "reason": "åŸºæœ¬æƒ…å ±ã®ä¸€ã¤ã§ã‚ã‚‹projectãŒæœªå…¥åŠ›ã®ãŸã‚ã€æœ€å„ªå…ˆã§ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:663:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: true,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  participants: [ 'ç§', 'æ ¹æœ¬ã‚ã‚Šã•', 'å±±ç”°ã•ã‚“' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸã€‚å‚åŠ è€…ã¯ç§ã€æ ¹æœ¬ã‚ã‚Šã•ã¨ã€å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã§ã™ã€‚å±±ç”°ã•ã‚“ã¯ã‚´ãƒ«ãƒ•ãŒå¥½ãã¨ã„ã†ã“ã¨ã§ã€ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å•†è«‡ã®å†…å®¹ã¯ã€AIã¨å»ºè¨­ã§ä½•ãŒã§ãã‚‹ã‹ã«ã¤ã„ã¦ã§ã—ãŸã€‚'
}
AI undecided analysis: {
  answer: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸã€‚å‚åŠ è€…ã¯ç§ã€æ ¹æœ¬ã‚ã‚Šã•ã¨ã€å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã§ã™ã€‚å±±ç”°',
  result: 'NO'
}
Missing slots: [
  'project',
  'next_action',
  'budget',
  'schedule',
  'location',
  'issues'
]
Correction request received: {
  text: 'ã¾ã‚ å…·ä½“çš„ã«ã¯ ãã®ã¾ã‚ äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ã‚‹ã£ã¦ã„ã†äº‹ãªã®ã§ å–¶æ¥­æ—¥å ±ã®ã‚·ã‚¹ãƒ†ãƒ ãŒæ¬²ã—ã„ã¨ã„ã†ã“ã¨ã§ã—ãŸã‚ã¨ã¯ å»ºè¨­ã«ã¾ã‚ ç‰¹ã«ã‚ˆãä½¿ã† ãã® BIM ã® 3 d ãƒ¢ãƒ‡ãƒ«ã¨ã‹ã¨ãƒ—ãƒ©ã‚¹ã—ã¦ãã®ãƒãƒ£ãƒƒãƒˆ ãƒœãƒƒãƒˆæ©Ÿèƒ½ãŒä»˜ã„ãŸãã†ã„ã£ãŸã‚ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’æ±‚ã‚ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã—ãŸã§ã¾ã‚ãã‚Œã«ã¤ã„ã¦ã‚‚ã‚¢ã‚¤ã‚¹ãŒä½•ãŒã§ãã‚‹ã‹ã£ã¦ã„ã†ã¨ã“ã‚ã«ã¤ã„ã¦ ã“ã¡ã‚‰ã‹ã‚‰ææ¡ˆã—ã¾ã—ãŸ'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ã¾ã‚ å…·ä½“çš„ã«ã¯ ãã®ã¾ã‚ äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ã‚‹ã£ã¦ã„ã†äº‹ãªã®ã§ å–¶æ¥­æ—¥å ±ã®ã‚·ã‚¹ãƒ†ãƒ ãŒæ¬²ã—ã„ã¨ã„ã†ã“ã¨',
  corrected: 'å…·ä½“çš„ã«ã¯ã€äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ã„ã‚‹ãŸã‚ã€å–¶æ¥­æ—¥å ±ã®ã‚·ã‚¹ãƒ†ãƒ ãŒæ¬²ã—ã„ã¨ã„ã†ã“ã¨ã§ã—ãŸã€‚ã¾ãŸã€å»ºè¨­æ¥­ã§ç‰¹ã«'
}
AI extraction result: ```json
{
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": ["äººæ‰‹ä¸è¶³"],
  "summary": "å¤§æˆå»ºè¨­ã¯å–¶æ¥­æ—¥å ±ã‚·ã‚¹ãƒ†ãƒ ã‚’æ±‚ã‚ã¦ãŠã‚Šã€BIMã®3Dãƒ¢ãƒ‡ãƒ«ã¨ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆæ©Ÿèƒ½ãŒå¿…è¦ã ã¨è¿°ã¹ã¦ã„ã¾ã—ãŸã€‚å½“ç¤¾ã¯ãã‚Œã«å¯¾ã™ã‚‹ææ¡ˆã‚’è¡Œã„ã¾ã—ãŸã€‚"
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:551:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:53:27
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®å•†è«‡ã«é–¢é€£ã™ã‚‹äºˆç®—ã‚„é‡‘é¡ã«ã¤ã„ã¦ã€ä½•ã‹è©±ãŒå‡ºã¾ã—ãŸã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›ã®é …ç›®ã®ä¸­ã§ã€äºˆç®—ï¼ˆbudgetï¼‰ã¯å•†è«‡ã®å…·ä½“æ€§ã‚’é«˜ã‚ã‚‹é‡è¦ãªæƒ…å ±ã§ã‚ã‚‹ãŸã‚ã€å„ªå…ˆã—ã¦è³ªå•ã—ã¾ã™ã€‚"
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:663:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: true,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  participants: [ 'ç§', 'æ ¹æœ¬ã‚ã‚Šã•', 'å±±ç”°ã•ã‚“' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸã€‚å‚åŠ è€…ã¯ç§ã€æ ¹æœ¬ã‚ã‚Šã•ã¨ã€å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã§ã™ã€‚å±±ç”°ã•ã‚“ã¯ã‚´ãƒ«ãƒ•ãŒå¥½ãã¨ã„ã†ã“ã¨ã§ã€ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å•†è«‡ã®å†…å®¹ã¯ã€AIã¨å»ºè¨­ã§ä½•ãŒã§ãã‚‹ã‹ã«ã¤ã„ã¦ã§ã—ãŸã€‚',
  project: [ 'BIM' ],
  issues: [ 'äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ã„ã‚‹ãŸã‚' ],
  next_action: [ 'å½“ç¤¾ãŒä½•ã‚’æä¾›ã§ãã‚‹ã‹ã«ã¤ã„ã¦ææ¡ˆã‚’è¡Œã„ã¾ã—ãŸ' ]
}
AI undecided analysis: {
  answer: 'å…·ä½“çš„ã«ã¯ã€äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ã„ã‚‹ãŸã‚ã€å–¶æ¥­æ—¥å ±ã®ã‚·ã‚¹ãƒ†ãƒ ãŒæ¬²ã—ã„ã¨ã„ã†ã“ã¨ã§ã—ãŸã€‚ã¾ãŸã€å»ºè¨­æ¥­ã§ç‰¹ã«',
  result: 'NO'
}
Missing slots: [ 'budget', 'schedule', 'location' ]
AI extraction result: {
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "6å„„ãã‚‰ã„",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": []
}
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®å•†è«‡ã¯ã©ã“ã§è¡Œã‚ã‚Œã¾ã—ãŸã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›ã®é …ç›®ã§ã‚ã‚‹locationã‚’ç¢ºèªã™ã‚‹ãŸã‚ã€‚scheduleã‚ˆã‚Šã‚‚locationã®æ–¹ãŒå…·ä½“çš„ãªæƒ…å ±ã¨ã—ã¦é‡è¦åº¦ãŒé«˜ã„ã¨åˆ¤æ–­ã€‚"
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:663:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  participants: [ 'ç§', 'æ ¹æœ¬ã‚ã‚Šã•', 'å±±ç”°ã•ã‚“' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸã€‚å‚åŠ è€…ã¯ç§ã€æ ¹æœ¬ã‚ã‚Šã•ã¨ã€å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã§ã™ã€‚å±±ç”°ã•ã‚“ã¯ã‚´ãƒ«ãƒ•ãŒå¥½ãã¨ã„ã†ã“ã¨ã§ã€ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å•†è«‡ã®å†…å®¹ã¯ã€AIã¨å»ºè¨­ã§ä½•ãŒã§ãã‚‹ã‹ã«ã¤ã„ã¦ã§ã—ãŸã€‚',
  project: [ 'BIM' ],
  issues: [ 'äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ã„ã‚‹ãŸã‚' ],
  next_action: [ 'å½“ç¤¾ãŒä½•ã‚’æä¾›ã§ãã‚‹ã‹ã«ã¤ã„ã¦ææ¡ˆã‚’è¡Œã„ã¾ã—ãŸ' ],
  budget: '6å„„ãã‚‰ã„'
}
AI undecided analysis: {
  answer: 'äºˆç®— é‡‘é¡ã«ã¤ã„ã¦ã¯ã‚ã¾ã‚Šæ·±ã ç‰¹ã«è©±ã•ãªã‹ã£ãŸã‚“ã§ã™ã‘ã©å‰èã„ãŸè©±ã ã¨6å„„ãã‚‰ã„ã¾ã§ã¯å…¨ç„¶ ç”Ÿãã‚‹',
  result: 'NO'
}
Missing slots: [ 'schedule', 'location' ]
AI extraction result: {
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "6å„„",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": []
}
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®å•†è«‡ã¯ã©ã¡ã‚‰ã§è¡Œã‚ã‚Œã¾ã—ãŸã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›ã®é …ç›®ã§ã‚ã‚‹locationã«ã¤ã„ã¦è³ªå•ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€‚"
}
AI extraction result: {
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": [],
  "location": "æ–°å®¿ã®éƒ½åºå‰",
  "issues": []
}
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„ç´æœŸã«ã¤ã„ã¦ã€å…·ä½“çš„ã«æ±ºã¾ã£ãŸã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›ã®é …ç›®ã§ã‚ã‚‹ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã¤ã„ã¦ã€å…·ä½“çš„ãªæƒ…å ±ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€‚"
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:663:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  participants: [ 'ç§', 'æ ¹æœ¬ã‚ã‚Šã•', 'å±±ç”°ã•ã‚“' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸã€‚å‚åŠ è€…ã¯ç§ã€æ ¹æœ¬ã‚ã‚Šã•ã¨ã€å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã§ã™ã€‚å±±ç”°ã•ã‚“ã¯ã‚´ãƒ«ãƒ•ãŒå¥½ãã¨ã„ã†ã“ã¨ã§ã€ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å•†è«‡ã®å†…å®¹ã¯ã€AIã¨å»ºè¨­ã§ä½•ãŒã§ãã‚‹ã‹ã«ã¤ã„ã¦ã§ã—ãŸã€‚',
  project: [ 'BIM' ],
  issues: [ 'äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ã„ã‚‹ãŸã‚' ],
  next_action: [ 'å½“ç¤¾ãŒä½•ã‚’æä¾›ã§ãã‚‹ã‹ã«ã¤ã„ã¦ææ¡ˆã‚’è¡Œã„ã¾ã—ãŸ' ],
  budget: '6å„„',
  location: 'æ–°å®¿ã®éƒ½åºå‰'
}
AI undecided analysis: { answer: 'ä»Šå›ã®å•†è«‡ã¯æ–°å®¿ã®éƒ½åºå‰ã§è¡Œã„ã¾ã—ãŸ', result: 'NO' }
Missing slots: [ 'schedule' ]
Skipping similar question for schedule: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„ç´æœŸã«ã¤ã„ã¦ã¯ã„ã‹ãŒã§ã—ãŸã‹ï¼Ÿ
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Correction request received: {
  text: 'ãŠç–²ã‚Œæ§˜ã§ã™ ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ãŠè©±ã—ã—ã¾ã—ãŸ å•†è«‡ã§ã¯ç‰¹ã«ã¾ã‚ã‚ã®ã¾ã‚ã‚‚ã¡ã‚ã‚“ å•†è«‡ã®è©±ã‚‚ã—ãŸã‚“ã§ã™ã‘ã© ã§ã‚‚ã‚´ãƒ«ãƒ•ã«ã¤ã„ã¦ ã™ã”ã„ç››ã‚Šä¸ŠãŒã£ã¡ã‚ƒã£ã¦ ã¡ã‚‡ã£ã¨é¢ç™½ã‹ã£ãŸã§ã™'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ãŠç–²ã‚Œæ§˜ã§ã™ ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ãŠè©±ã—ã—ã¾ã—ãŸ å•†è«‡ã§ã¯ç‰¹ã«ã¾ã‚ã‚ã®ã¾ã‚ã‚‚ã¡ã‚ã‚“ å•†è«‡ã®è©±ã‚‚',
  corrected: 'ãŠç–²ã‚Œæ§˜ã§ã™ã€‚ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ãŠè©±ã—ã—ã¾ã—ãŸã€‚å•†è«‡ã§ã¯ã‚‚ã¡ã‚ã‚“å•†è«‡ã®è©±ã‚‚ã—ã¾ã—ãŸãŒã€ã‚´ãƒ«ãƒ•'
}
AI extraction result: {
  "customer": "å¤§æˆå»ºè¨­",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": ["å±±ç”°ã•ã‚“"],
  "location": "",
  "issues": []
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": ["å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ãŠè©±ã—ã—ãŸ", "å•†è«‡ã®è©±ã‚’ã—ãŸ", "ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã£ãŸ"],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:757:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:599:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "ãã®å•†è«‡ã‚’å—ã‘ã¦ã€æ¬¡ã«ä½•ã‚’ã™ã‚‹äºˆå®šã§ã™ã‹ï¼Ÿ",
  "reason": "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å›ç­”ãŒéå»ã®è¡Œå‹•ã«é–¢ã™ã‚‹å†…å®¹ã ã£ãŸãŸã‚ã€æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚",
  "needsFollowUp": true
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:676:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: true,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  participants: [ 'å±±ç”°ã•ã‚“' ],
  summary: 'ãŠç–²ã‚Œæ§˜ã§ã™ã€‚ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ãŠè©±ã—ã—ã¾ã—ãŸã€‚å•†è«‡ã§ã¯ã‚‚ã¡ã‚ã‚“å•†è«‡ã®è©±ã‚‚ã—ã¾ã—ãŸãŒã€ã‚´ãƒ«ãƒ•ã®è©±ã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã€å°‘ã—é¢ç™½ã‹ã£ãŸã§ã™ã€‚'
}
AI undecided analysis: {
  answer: 'ãŠç–²ã‚Œæ§˜ã§ã™ã€‚ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ãŠè©±ã—ã—ã¾ã—ãŸã€‚å•†è«‡ã§ã¯ã‚‚ã¡ã‚ã‚“å•†è«‡ã®è©±ã‚‚ã—ã¾ã—ãŸãŒã€ã‚´ãƒ«ãƒ•',
  result: 'NO'
}
Missing slots: [
  'project',
  'next_action',
  'budget',
  'schedule',
  'location',
  'issues'
]
Correction request received: {
  text: 'ãã†ã§ã™ã­ ãˆã£ã¨ AI ã® AI ã¨ ã‚ã¨å»ºè¨­ã§ä½•ãŒã§ãã‚‹ã‹ã£ã¦ã„ã†è©±ã«ã¤ã„ã¦ ç‰¹ã«è©±ã—ãŸã‚“ã§ã™ã‘ã©ç‰¹ã«å…ˆæ–¹ãŒæœ€è¿‘ã®äººæ‰‹ä¸è¶³ã§ã™ã”ã„ æ‚©ã‚“ã§ã„ã¦ä¾‹ãˆã°å»ºç¯‰è³‡æã‚’ã‚ã® BIM ã®ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æŠ½å‡ºã—ã¦ ã¾ã‚ è¶³ã‚Šãªã„ è³‡æã¨ã‹ã‚’ åœ¨åº«ç¢ºèªã—ã¦ãã®ã¾ã¾ç™ºæ³¨ã—ã¦ãã‚Œã‚‹ã‚ˆã†ãª ãã†ã„ã† AI ã®ã‚·ã‚¹ãƒ†ãƒ ãŒæ¬²ã—ã„ã¨è¨€ã£ã¦ã„ã¾ã—ãŸå¾Œã¯ã‚ã®ä»–ã«ã‚‚ ãªã‚“ã‹ã‚ã®å»ºç¯‰ å»ºç¯‰ã¨ã„ã†ã‚ˆã‚Š ã¾ã‚ã‚ ã®è¨­è¨ˆå›³ã‹ã‚‰èª­ã¿å–ã£ã¦ãã®ã¾ã¾ãªã‚“ã ã‚ã† å»ºç‰©ã¨ã‹ã® 3 D ãƒ¢ãƒ‡ãƒ«ã‚’ AI ãŒä½œã£ã¦ãã‚Œã‚‹ã€ã£ã¦ã„ã†ã®ã‚‚ã„ã„ãªã£ã¦è¨€ã£ã¦ã¾ã—ãŸ'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ãã†ã§ã™ã­ ãˆã£ã¨ AI ã® AI ã¨ ã‚ã¨å»ºè¨­ã§ä½•ãŒã§ãã‚‹ã‹ã£ã¦ã„ã†è©±ã«ã¤ã„ã¦ ç‰¹ã«è©±ã—ãŸã‚“ã§ã™ã‘',
  corrected: 'AIã¨å»ºè¨­åˆ†é‡ã§ä½•ãŒã§ãã‚‹ã‹ã¨ã„ã†è©±ã‚’ã—ã¾ã—ãŸã€‚ç‰¹ã«å…ˆæ–¹ã¯æœ€è¿‘ã®äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ãŠã‚Šã€ä¾‹ãˆã°å»ºç¯‰è³‡æ'
}
AI extraction result: ```json
{
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": ["äººæ‰‹ä¸è¶³"]
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:551:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:53:27
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": ["AIã¨å»ºè¨­åˆ†é‡ã§ä½•ãŒã§ãã‚‹ã‹ã¨ã„ã†è©±ã‚’ã—ãŸ", "å…ˆæ–¹ãŒAIã‚·ã‚¹ãƒ†ãƒ ã®è¦æœ›ã‚’è©±ã—ãŸ"],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:757:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:599:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "ãã‚Œã‚’å—ã‘ã¦ã€æ¬¡ã«ä½•ã‚’ã™ã‚‹äºˆå®šã§ã™ã‹ï¼Ÿ",
  "reason": "æœ€æ–°ã®å›ç­”ãŒéå»ã®è¡Œå‹•ã«é–¢ã™ã‚‹å†…å®¹ã§ã‚ã‚Šã€æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå…·ä½“çš„ã«è¨˜è¼‰ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€‚",
  "needsFollowUp": true
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:676:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: true,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  participants: [ 'å±±ç”°ã•ã‚“' ],
  summary: 'ãŠç–²ã‚Œæ§˜ã§ã™ã€‚ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ãŠè©±ã—ã—ã¾ã—ãŸã€‚å•†è«‡ã§ã¯ã‚‚ã¡ã‚ã‚“å•†è«‡ã®è©±ã‚‚ã—ã¾ã—ãŸãŒã€ã‚´ãƒ«ãƒ•ã®è©±ã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã€å°‘ã—é¢ç™½ã‹ã£ãŸã§ã™ã€‚',
  project: [ 'å»ºç¯‰', 'BIM', 'è¨­è¨ˆ' ],
  issues: [ 'ç‰¹ã«å…ˆæ–¹ã¯æœ€è¿‘ã®äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ãŠã‚Š' ],
  next_action: [
    'è¶³ã‚Šãªã„è³‡æã‚’åœ¨åº«ç¢ºèªã—ã¦ãã®ã¾ã¾ç™ºæ³¨ã§ãã‚‹ã‚ˆã†ãªAIã‚·ã‚¹ãƒ†ãƒ ãŒæ¬²ã—ã„ã¨è©±ã—ã¦ã„ã¾ã—ãŸ',
    'å»ºç‰©ã®3Dãƒ¢ãƒ‡ãƒ«ã‚’AIãŒè‡ªå‹•ã§ä½œæˆã—ã¦ãã‚Œã‚‹ä»•çµ„ã¿ã‚‚è‰¯ã„ã¨è€ƒãˆã¦ã„ã‚‹ã‚ˆã†ã§ã—ãŸ'
  ]
}
AI undecided analysis: {
  answer: 'AIã¨å»ºè¨­åˆ†é‡ã§ä½•ãŒã§ãã‚‹ã‹ã¨ã„ã†è©±ã‚’ã—ã¾ã—ãŸã€‚ç‰¹ã«å…ˆæ–¹ã¯æœ€è¿‘ã®äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ãŠã‚Šã€ä¾‹ãˆã°å»ºç¯‰è³‡æ',
  result: 'NO'
}
Missing slots: [ 'budget', 'schedule', 'location' ]
Correction request received: { text: 'å…·ä½“çš„ã«ã¯ ä»Šæ—¥ã¯ãªã‹ã£ãŸã§ã™ã­' }
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: { original: 'å…·ä½“çš„ã«ã¯ ä»Šæ—¥ã¯ãªã‹ã£ãŸã§ã™ã­', corrected: 'å…·ä½“çš„ã«ã¯ã€ä»Šæ—¥ã¯ç‰¹ã«ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚' }
AI extraction result: {
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": []
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": ["ç‰¹ã«ä½•ã‚‚è¡Œå‹•ã—ãªã‹ã£ãŸ"],
  "needsNextActionQuestion": false
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:757:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:599:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "å•†è«‡ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„ç´æœŸã«ã¤ã„ã¦ã€ä½•ã‹å…·ä½“çš„ãªãŠè©±ã¯ã‚ã‚Šã¾ã—ãŸã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›é …ç›®ã§ã‚ã‚‹scheduleã«ã¤ã„ã¦ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€‚",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:676:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  participants: [ 'å±±ç”°ã•ã‚“' ],
  summary: 'ãŠç–²ã‚Œæ§˜ã§ã™ã€‚ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ãŠè©±ã—ã—ã¾ã—ãŸã€‚å•†è«‡ã§ã¯ã‚‚ã¡ã‚ã‚“å•†è«‡ã®è©±ã‚‚ã—ã¾ã—ãŸãŒã€ã‚´ãƒ«ãƒ•ã®è©±ã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã€å°‘ã—é¢ç™½ã‹ã£ãŸã§ã™ã€‚',
  project: [ 'å»ºç¯‰', 'BIM', 'è¨­è¨ˆ' ],
  issues: [ 'ç‰¹ã«å…ˆæ–¹ã¯æœ€è¿‘ã®äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ãŠã‚Š' ],
  next_action: [
    'è¶³ã‚Šãªã„è³‡æã‚’åœ¨åº«ç¢ºèªã—ã¦ãã®ã¾ã¾ç™ºæ³¨ã§ãã‚‹ã‚ˆã†ãªAIã‚·ã‚¹ãƒ†ãƒ ãŒæ¬²ã—ã„ã¨è©±ã—ã¦ã„ã¾ã—ãŸ',
    'å»ºç‰©ã®3Dãƒ¢ãƒ‡ãƒ«ã‚’AIãŒè‡ªå‹•ã§ä½œæˆã—ã¦ãã‚Œã‚‹ä»•çµ„ã¿ã‚‚è‰¯ã„ã¨è€ƒãˆã¦ã„ã‚‹ã‚ˆã†ã§ã—ãŸ'
  ]
}
AI undecided analysis: { answer: 'å…·ä½“çš„ã«ã¯ã€ä»Šæ—¥ã¯ç‰¹ã«ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚', result: 'YES' }
Missing slots: [ 'budget', 'schedule', 'location' ]
User indicated information is undecided, recording as undecided
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Correction request received: {
  text: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã®å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸå ´æ‰€ã¯æ–°å®¿ã§è¡Œã‚ã‚Œã¾ã—ãŸã‘ã‚Œã©ãã®æ™‚ã« ã¾ã‚ ç§ãŸã¡ã¯çµæ§‹ãŠäº’ã„ã«ã‚´ãƒ«ãƒ•ãŒå¥½ããªã‚“ã ã£ã¦ã„ã†ã“ã¨ã§ã‚´ãƒ«ãƒ•ã®è©±ã§ã¨ã£ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸ é–“é£Ÿã¯ã¾ã‚ã™ã”ã„è‰¯ã‹ã£ãŸã‚“ã§ã™ã‘ã‚Œã© ã¾ã‚ AI ã«ã™ã”ã„èˆˆå‘³ã‚’æŒã£ã¦ãã‚Œã¦ã‚‹ã®ã§ã¾ã‚ã™ã”ã„æ„Ÿã˜ è‰¯ã‹ã£ãŸãª ã¨ã„ã†ãµã†ã«æ€ã£ã¦ã¾ã™'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã®å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸå ´æ‰€ã¯æ–°å®¿ã§è¡Œã‚ã‚Œã¾ã—ãŸã‘ã‚Œã©ãã®æ™‚ã« ã¾ã‚ ç§ãŸ',
  corrected: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ãŒæ–°å®¿ã§è¡Œã‚ã‚Œã¾ã—ãŸã€‚ãã®éš›ã€ãŠäº’ã„ã«ã‚´ãƒ«ãƒ•ãŒå¥½ãã ã¨ã„ã†'
}
AI extraction result: ```json
{
  "customer": "å¤§æˆå»ºè¨­",
  "project": null,
  "next_action": [],
  "budget": null,
  "schedule": null,
  "participants": ["å±±ç”°éƒ¨é•·"],
  "location": "æ–°å®¿",
  "issues": []
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:557:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:53:27
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": [
    "å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ã‚’è¡Œã£ãŸ",
    "ã‚´ãƒ«ãƒ•ãŒå¥½ãã ã¨ã„ã†è©±é¡Œã§ç››ã‚Šä¸ŠãŒã£ãŸ",
    "å±±ç”°ã•ã‚“ãŒAIã«å¼·ã„èˆˆå‘³ã‚’æŒã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ãŸ"
  ],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:763:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:605:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®å•†è«‡ã«é–¢é€£ã™ã‚‹å…·ä½“çš„ãªæ¡ˆä»¶ã‚„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å†…å®¹ã¯ä½•ã§ã™ã‹ï¼Ÿ",
  "reason": "åŸºæœ¬æƒ…å ±ã§ã‚ã‚‹projectãŒæœªå…¥åŠ›ã§ã‚ã‚Šã€æ¬¡ã«é‡è¦ãªé …ç›®ã§ã‚ã‚‹ãŸã‚ã€‚",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:682:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: true,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  participants: [ 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ãŒæ–°å®¿ã§è¡Œã‚ã‚Œã¾ã—ãŸã€‚ãã®éš›ã€ãŠäº’ã„ã«ã‚´ãƒ«ãƒ•ãŒå¥½ãã ã¨ã„ã†è©±é¡Œã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å•†è«‡ã®é›°å›²æ°—ã‚‚éå¸¸ã«è‰¯ãã€å±±ç”°ã•ã‚“ãŒAIã«å¼·ã„èˆˆå‘³ã‚’æŒã£ã¦ãã ã•ã£ãŸã®ã§ã€ã¨ã¦ã‚‚è‰¯ã„å°è±¡ã‚’å—ã‘ã¾ã—ãŸã€‚'
}
AI undecided analysis: {
  answer: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ãŒæ–°å®¿ã§è¡Œã‚ã‚Œã¾ã—ãŸã€‚ãã®éš›ã€ãŠäº’ã„ã«ã‚´ãƒ«ãƒ•ãŒå¥½ãã ã¨ã„ã†',
  result: 'NO'
}
Missing slots: [
  'project',
  'next_action',
  'budget',
  'schedule',
  'location',
  'issues'
]
Correction request received: {
  text: 'å…·ä½“çš„ã«ã¯ è¨­è¨ˆå›³ã‚’èª­ã¿å–ã£ã¦ 3 D ãƒ¢ãƒ‡ãƒ«ã‚’ä½œã£ã¦ãã‚Œã‚‹ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦ ã¾ã‚ é–‹ç™ºã—ãŸã„ã¨ã„ã†é¢¨ã«è¨€ã£ã¦ã¾ã—ãŸã‚ã¨ã¯ pim ã® 3 d ãƒ¢ãƒ‡ãƒ«ã«ãƒ—ãƒ©ã‚¹ã—ã¦ãƒãƒ£ãƒƒãƒˆ ãƒœãƒƒãƒˆæ©Ÿèƒ½ã‚’ã¤ã‘ãŸã„ã¨ã„ã†é¢¨ã«è¨€ã£ã¦ã¾ã—ãŸ'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'å…·ä½“çš„ã«ã¯ è¨­è¨ˆå›³ã‚’èª­ã¿å–ã£ã¦ 3 D ãƒ¢ãƒ‡ãƒ«ã‚’ä½œã£ã¦ãã‚Œã‚‹ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦ ã¾ã‚ é–‹ç™ºã—ãŸã„ã¨ã„ã†é¢¨',
  corrected: 'å…·ä½“çš„ã«ã¯ã€è¨­è¨ˆå›³ã‚’èª­ã¿å–ã£ã¦3Dãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã—ãŸã„ã¨è¨€ã£ã¦ã„ã¾ã—ãŸã€‚ã¾ãŸã€BIMã®'
}
AI extraction result: ```json
{
  "customer": "å¤§æˆå»ºè¨­",
  "project": "è¨­è¨ˆå›³ã‹ã‚‰3Dãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªé–‹ç™ºã€BIMé€£æºãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆæ©Ÿèƒ½è¿½åŠ ",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": ["ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“"],
  "location": "æ–°å®¿",
  "issues": []
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:557:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:53:27
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": ["è¨­è¨ˆå›³ã‚’èª­ã¿å–ã£ã¦3Dãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã—ãŸã„ã¨è¨€ã£ãŸ", "BIMã®3Dãƒ¢ãƒ‡ãƒ«ã«åŠ ãˆã¦ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸã„ã¨è¨€ã£ãŸ"],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:763:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:605:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®äºˆç®—ã‚„é‡‘é¡ã«ã¤ã„ã¦ã€ä½•ã‹è©±ãŒå‡ºã¾ã—ãŸã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›ã®é …ç›®ã®ä¸­ã§ã€äºˆç®—ï¼ˆbudgetï¼‰ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²è¡Œã«ãŠã„ã¦é‡è¦ãªæƒ…å ±ã§ã‚ã‚‹ãŸã‚ã€å„ªå…ˆçš„ã«ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:682:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  participants: [ 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ãŒæ–°å®¿ã§è¡Œã‚ã‚Œã¾ã—ãŸã€‚ãã®éš›ã€ãŠäº’ã„ã«ã‚´ãƒ«ãƒ•ãŒå¥½ãã ã¨ã„ã†è©±é¡Œã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å•†è«‡ã®é›°å›²æ°—ã‚‚éå¸¸ã«è‰¯ãã€å±±ç”°ã•ã‚“ãŒAIã«å¼·ã„èˆˆå‘³ã‚’æŒã£ã¦ãã ã•ã£ãŸã®ã§ã€ã¨ã¦ã‚‚è‰¯ã„å°è±¡ã‚’å—ã‘ã¾ã—ãŸã€‚',
  project: [ 'è¨­è¨ˆ', 'BIM' ],
  next_action: [ 'è¨­è¨ˆå›³ã‚’èª­ã¿å–ã£ã¦3Dãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã—ãŸã„ã¨è¨€ã£ã¦ã„ã¾ã—ãŸ' ]
}
AI undecided analysis: {
  answer: 'å…·ä½“çš„ã«ã¯ã€è¨­è¨ˆå›³ã‚’èª­ã¿å–ã£ã¦3Dãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã—ãŸã„ã¨è¨€ã£ã¦ã„ã¾ã—ãŸã€‚ã¾ãŸã€BIMã®',
  result: 'NO'
}
Missing slots: [ 'budget', 'schedule', 'location', 'issues' ]
Correction request received: { text: 'äºˆç®—ã¨ã‹é‡‘é¡ã«ã¤ã„ã¦ã¯ ç‰¹ã«å…·ä½“çš„ã§ã¯ãªã‹ã£ãŸã§ã™ ã¾ãŸã ã§ã‚‚6å„„ãã‚‰ã„å‡ºã›ã‚‹ã£ã¦è¨€ã£ã¦ã¾ã—ãŸ' }
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'äºˆç®—ã¨ã‹é‡‘é¡ã«ã¤ã„ã¦ã¯ ç‰¹ã«å…·ä½“çš„ã§ã¯ãªã‹ã£ãŸã§ã™ ã¾ãŸã ã§ã‚‚6å„„ãã‚‰ã„å‡ºã›ã‚‹ã£ã¦è¨€ã£ã¦ã¾ã—ãŸ',
  corrected: 'äºˆç®—ã‚„é‡‘é¡ã«ã¤ã„ã¦ã¯ç‰¹ã«å…·ä½“çš„ãªè©±ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸãŒã€6å„„å††ç¨‹åº¦ã¯å‡ºã›ã‚‹ã¨è¨€ã£ã¦ã„ã¾ã—ãŸã€‚'
}
AI extraction result: {
  "customer": "å¤§æˆå»ºè¨­",
  "project": "è¨­è¨ˆå›³ã‹ã‚‰ã®3Dãƒ¢ãƒ‡ãƒ«è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ",
  "next_action": ["è¨­è¨ˆå›³ã‚’èª­ã¿å–ã£ã¦3Dãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªã®é–‹ç™ºã‚’æ¤œè¨"],
  "budget": "6å„„å††ç¨‹åº¦",
  "schedule": null,
  "participants": ["å±±ç”°éƒ¨é•·"],
  "location": "æ–°å®¿",
  "issues": []
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": ["äºˆç®—ã‚„é‡‘é¡ã«ã¤ã„ã¦å…·ä½“çš„ãªè©±ã‚’ã—ãªã‹ã£ãŸ", "6å„„å††ç¨‹åº¦ã¯å‡ºã›ã‚‹ã¨è¨€ã£ãŸ"],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:763:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:605:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "ãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„ç´æœŸã«ã¤ã„ã¦ã€ä½•ã‹å…·ä½“çš„ãªè©±ã¯ã‚ã‚Šã¾ã—ãŸã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›é …ç›®ã®ã†ã¡ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²è¡Œã«ãŠã„ã¦é‡è¦ãªæƒ…å ±ã§ã‚ã‚Šã€æ¬¡ã«ç¢ºèªã™ã¹ãé …ç›®ã§ã™ã€‚",
  "needsFollowUp": false
}
AI extraction result: {
  "customer": "å¤§æˆå»ºè¨­",
  "project": "è¨­è¨ˆå›³ã‹ã‚‰ã®3Dãƒ¢ãƒ‡ãƒ«è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ",
  "next_action": ["ãƒ‡ãƒ¢ã‚’è¤‡æ•°ä½œæˆã—ã¦æç¤ºã™ã‚‹"],
  "budget": "6å„„å††ç¨‹åº¦",
  "schedule": null,
  "participants": ["å±±ç”°ã•ã‚“ï¼ˆå¤§æˆå»ºè¨­ éƒ¨é•·ï¼‰"],
  "location": "æ–°å®¿",
  "issues": []
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": true,
  "actionType": "mixed",
  "extractedActions": ["å…ˆæ–¹ã‹ã‚‰ãƒ‡ãƒ¢ã‚’æç¤ºã—ã¦ã»ã—ã„ã¨è¨€ã‚ã‚ŒãŸ", "ãŸãã•ã‚“ãƒ‡ãƒ¢ã‚’ä½œã‚‹äºˆå®š"],
  "needsNextActionQuestion": false
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:763:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:605:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "ãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ã—ã¦ã€ä½•ã‹èª²é¡Œã‚„æ‡¸å¿µäº‹é …ã¯æŒ™ãŒã£ã¦ã„ã¾ã™ã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›ã®é …ç›®ã§ã‚ã‚‹issuesã«ã¤ã„ã¦ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€‚",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:682:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: false,
  hasPersonalDetails: true,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  participants: [ 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ãŒæ–°å®¿ã§è¡Œã‚ã‚Œã¾ã—ãŸã€‚ãã®éš›ã€ãŠäº’ã„ã«ã‚´ãƒ«ãƒ•ãŒå¥½ãã ã¨ã„ã†è©±é¡Œã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å•†è«‡ã®é›°å›²æ°—ã‚‚éå¸¸ã«è‰¯ãã€å±±ç”°ã•ã‚“ãŒAIã«å¼·ã„èˆˆå‘³ã‚’æŒã£ã¦ãã ã•ã£ãŸã®ã§ã€ã¨ã¦ã‚‚è‰¯ã„å°è±¡ã‚’å—ã‘ã¾ã—ãŸã€‚',
  project: [ 'è¨­è¨ˆ', 'BIM' ],
  next_action: [ 'è¨­è¨ˆå›³ã‚’èª­ã¿å–ã£ã¦3Dãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã—ãŸã„ã¨è¨€ã£ã¦ã„ã¾ã—ãŸ' ],
  budget: '6å„„å††ç¨‹åº¦',
  location: 'æ–°å®¿'
}
AI undecided analysis: {
  answer: 'ã†ã‚“ã¨ ã¾ãšã¯ã¾ã‚ã§ã‚‚ã„ãã¤ã‹ãƒ‡ãƒ¢ã‚’ä½œã£ã¦æç¤ºã—ã¦ã»ã—ã„ã¨ã„ã†é¢¨ã« ã‚ã®å…ˆæ–¹ã‹ã‚‰è¨€ã‚ã‚Œã¾ã—ãŸ ãªã®ã§',
  result: 'NO'
}
Missing slots: [ 'schedule', 'issues' ]
Skipping similar question for schedule: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„ç´æœŸã«ã¤ã„ã¦ã¯ã„ã‹ãŒã§ã—ãŸã‹ï¼Ÿ
Correction request received: {
  text: 'ã‚„ã£ã±ã‚Š äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ã‚‹ã‚‰ã—ã„ã®ã§ ã¾ã‚ äººæ‰‹ä¸è¶³ã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã« AI ãŒã©ã† å»ºç¯‰ã«è²¢çŒ®ã§ãã‚‹ã‹ã£ã¦ã„ã†ã¨ã“ã‚ã‚’æˆ‘ã€…ãŒã‚‚ã£ã¨ æ·±æ˜ã£ã¦èªè­˜ çŸ¥è­˜ã‚’çŸ¥è­˜ã‚’ã‚‚ã£ã¨ã¤ã‘ã¦ã„ã‹ãªã„ã¨ã„ã‘ãªã„ãª ã¨ã„ã†é¢¨ã«æ€ã„ã¾ã—ãŸ'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ã‚„ã£ã±ã‚Š äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ã‚‹ã‚‰ã—ã„ã®ã§ ã¾ã‚ äººæ‰‹ä¸è¶³ã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã« AI ãŒã©ã† å»ºç¯‰ã«è²¢çŒ®ã§ã',
  corrected: 'äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ã„ã‚‹ã‚ˆã†ãªã®ã§ã€äººæ‰‹ä¸è¶³ã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã«AIãŒå»ºç¯‰ã«ã©ã®ã‚ˆã†ã«è²¢çŒ®ã§ãã‚‹ã‹ã‚’ã€æˆ‘ã€…ãŒ'
}
AI extraction result: {
  "customer": "å¤§æˆå»ºè¨­",
  "project": "äººæ‰‹ä¸è¶³è§£æ¶ˆã®ãŸã‚ã®AIæ´»ç”¨",
  "next_action": ["AIãŒå»ºç¯‰ã«ã©ã®ã‚ˆã†ã«è²¢çŒ®ã§ãã‚‹ã‹ã‚’æ·±æ˜ã‚Šã—ã€çŸ¥è­˜ã‚’èº«ã«ã¤ã‘ã‚‹"],
  "budget": "6å„„å††ç¨‹åº¦",
  "schedule": null,
  "participants": ["ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“"],
  "location": "æ–°å®¿",
  "issues": ["äººæ‰‹ä¸è¶³"]
}
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": true,
  "actionType": "future",
  "extractedActions": ["AIãŒå»ºç¯‰ã«ã©ã®ã‚ˆã†ã«è²¢çŒ®ã§ãã‚‹ã‹ã‚’æ·±æ˜ã‚Šã™ã‚‹", "èªè­˜ã‚’æ·±ã‚ã‚‹", "çŸ¥è­˜ã‚’èº«ã«ã¤ã‘ã‚‹"],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:763:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:605:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
AI question determination result: ```json
{
  "isComplete": true,
  "nextQuestion": null,
  "reason": "åŸºæœ¬æƒ…å ±ï¼ˆcustomer, project, next_actionï¼‰ãŒæƒã£ã¦ãŠã‚Šã€ä»–ã®é …ç›®ãŒæœªå®šã§ã‚‚å®Œäº†å¯èƒ½ã§ã™ã€‚ã¾ãŸã€è³ªå•å›æ•°ãŒ5å›ã«é”ã—ã¦ã„ã‚‹ãŸã‚ã€ã“ã‚Œä»¥ä¸Šã®è³ªå•ã¯ä¸è¦ã§ã™ã€‚",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:682:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:68:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: false,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  participants: [ 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ãŒæ–°å®¿ã§è¡Œã‚ã‚Œã¾ã—ãŸã€‚ãã®éš›ã€ãŠäº’ã„ã«ã‚´ãƒ«ãƒ•ãŒå¥½ãã ã¨ã„ã†è©±é¡Œã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å•†è«‡ã®é›°å›²æ°—ã‚‚éå¸¸ã«è‰¯ãã€å±±ç”°ã•ã‚“ãŒAIã«å¼·ã„èˆˆå‘³ã‚’æŒã£ã¦ãã ã•ã£ãŸã®ã§ã€ã¨ã¦ã‚‚è‰¯ã„å°è±¡ã‚’å—ã‘ã¾ã—ãŸã€‚',
  project: [ 'è¨­è¨ˆ', 'BIM' ],
  next_action: [ 'è¨­è¨ˆå›³ã‚’èª­ã¿å–ã£ã¦3Dãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã—ãŸã„ã¨è¨€ã£ã¦ã„ã¾ã—ãŸ' ],
  budget: '6å„„å††ç¨‹åº¦',
  location: 'æ–°å®¿',
  issues: [ 'äººæ‰‹ä¸è¶³' ]
}
AI undecided analysis: {
  answer: 'äººæ‰‹ä¸è¶³ã«æ‚©ã‚“ã§ã„ã‚‹ã‚ˆã†ãªã®ã§ã€äººæ‰‹ä¸è¶³ã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã«AIãŒå»ºç¯‰ã«ã©ã®ã‚ˆã†ã«è²¢çŒ®ã§ãã‚‹ã‹ã‚’ã€æˆ‘ã€…ãŒ',
  result: 'NO'
}
Missing slots: [ 'schedule' ]
Skipping similar question for schedule: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„ç´æœŸã«ã¤ã„ã¦ã¯ã„ã‹ãŒã§ã—ãŸã‹ï¼Ÿ
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Personal analytics error: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:54:18)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '194',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Personal analytics error: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:54:18)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '194',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Get reports error: error: column rs.personal_info does not exist
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/reports.js:58:20 {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '248',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3647',
  routine: 'errorMissingColumn'
}
Personal analytics error: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:54:18)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '194',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Personal analytics error: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:54:18)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '194',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Personal analytics error: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:54:18)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '194',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Personal analytics error: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:54:18)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '194',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Correction request received: {
  text: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ãŠè©±ã—ã—ã¾ã—ãŸ å•†è«‡ã¯æ–°å®¿ã§è¡Œã‚ã‚Œã¦åˆã‚ã¦ä¼šã£ãŸã®ã§ã¾ã‚ ãŠäº’ã„ã®è‡ªå·±ç´¹ä»‹ã¨ã‚ã¨ã¯å±±ç”°ã•ã‚“ãŒã‚´ãƒ«ãƒ•ãŒå¤§å¥½ãã£ã¦ã„ã†ã“ã¨ã ã£ãŸã®ã§ã‚´ãƒ«ãƒ•ã«ã¤ã„ã¦è©±ã—ã¾ã—ãŸ ã§å…·ä½“çš„ãªã¾ã‚ å•†è«‡å†…å®¹ã¨ã—ã¦ã¯ ã¾ã‚ AI ã¨å»ºè¨­ã§ã“ã‚Œã‹ã‚‰ä½•ãŒã§ãã‚‹ã‹ã£ã¦ã„ã†ã“ã¨ã«ã¤ã„ã¦ ã¾ã‚ ãŠäº’ã„ã®çŸ¥è­˜ã ã£ãŸã‚Šã¨ã‹ã¾ã‚ã‚ã®ä»Šå¾Œã®ã‚„ã‚ŠãŸã„ã“ã¨ã«ã¤ã„ã¦è©±ã—åˆã„ã¾ã—ãŸ'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ãŠè©±ã—ã—ã¾ã—ãŸ å•†è«‡ã¯æ–°å®¿ã§è¡Œã‚ã‚Œã¦åˆã‚ã¦ä¼šã£ãŸã®ã§ã¾ã‚ ãŠäº’ã„ã®è‡ªå·±ç´¹ä»‹',
  corrected: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ãŠè©±ã—ã—ã¾ã—ãŸã€‚å•†è«‡ã¯æ–°å®¿ã§è¡Œã‚ã‚Œã€åˆã‚ã¦ãŠä¼šã„ã—ãŸã®ã§ãŠäº’ã„ã«è‡ªå·±ç´¹ä»‹ã‚’'
}
AI extraction result: {
  "customer": "å¤§æˆå»ºè¨­",
  "project": "AIã¨å»ºè¨­åˆ†é‡ã§ã®å¯èƒ½æ€§æ¤œè¨",
  "next_action": [],
  "budget": null,
  "schedule": null,
  "participants": ["å±±ç”°ã•ã‚“"],
  "location": "æ–°å®¿",
  "issues": [],
  "personal_info": ["ã‚´ãƒ«ãƒ•ãŒè¶£å‘³"],
  "relationship_notes": ["ã‚´ãƒ«ãƒ•ã®è©±é¡Œã§ç››ã‚Šä¸ŠãŒã£ãŸ"]
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": [
    "å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ãŠè©±ã—ã—ãŸ",
    "å•†è«‡ã‚’æ–°å®¿ã§è¡Œã£ãŸ",
    "ãŠäº’ã„ã«è‡ªå·±ç´¹ä»‹ã‚’ã—ãŸ",
    "ã‚´ãƒ«ãƒ•ã«ã¤ã„ã¦è©±é¡Œã«ã—ãŸ",
    "AIã¨å»ºè¨­åˆ†é‡ã§ä½•ãŒã§ãã‚‹ã‹ã«ã¤ã„ã¦è©±ã—åˆã£ãŸ"
  ],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:783:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:622:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®å•†è«‡ã‚’å—ã‘ã¦ã€æ¬¡ã«ä½•ã‚’ã™ã‚‹äºˆå®šã«ãªã‚Šã¾ã—ãŸã‹ï¼Ÿ",
  "reason": "next_actionãŒæœªå…¥åŠ›ã§ã‚ã‚Šã€å–¶æ¥­æ‹…å½“è€…ã®æ¬¡ã®å…·ä½“çš„ãªè¡Œå‹•ãŒå¿…è¦ãªãŸã‚ã€‚",
  "needsFollowUp": true
}
Correction request received: {
  text: 'ãˆãƒ¼ã¨ ä»Šå›ã®å•†è«‡ã¯ã¾ã ã‚ã® åˆã‚ã¾ã—ã¦ã ã£ãŸã®ã§ã¾ã‚ å…·ä½“çš„ã«ä½•ã‚’ã™ã‚‹ã‹ã£ã¦ã„ã†ã¨ ã¾ã‚ ã¾ãŸã‚ã®ã‚¢ãƒã‚¤ãƒ³ãƒˆãƒ¡ãƒ³ãƒˆã‚’ã‚ã®å–¶æ¥­ã®æ–¹ã‹ã‚‰ã¨ã£ã¦ã§ãã®ã‚¢ãƒã‚¤ãƒ³ãƒˆãƒ¡ãƒ³ãƒˆã®æ™‚ã« ä»Šå›è©±ã—ãŸ AI ã¨å»ºç¯‰ã«é–¢ã™ã‚‹ãƒ‡ãƒ¢ã‚’2ã¤ãã‚‰ã„ã‚ã®ã“ã¡ã‚‰ã§ç”¨æ„ã—ã¦å¤§æˆå»ºè¨­ã®æ–¹ã«ã§ã‚‚ æŠ«éœ²ã™ã‚‹ã£ã¦ã„ã† ãã†ã„ã†äºˆå®šã§ã™'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ãˆãƒ¼ã¨ ä»Šå›ã®å•†è«‡ã¯ã¾ã ã‚ã® åˆã‚ã¾ã—ã¦ã ã£ãŸã®ã§ã¾ã‚ å…·ä½“çš„ã«ä½•ã‚’ã™ã‚‹ã‹ã£ã¦ã„ã†ã¨ ã¾ã‚ ã¾ãŸã‚ã®',
  corrected: 'ä»Šå›ã®å•†è«‡ã¯åˆã‚ã¦ã®æ‰“ã¡åˆã‚ã›ã ã£ãŸãŸã‚ã€å…·ä½“çš„ãªå†…å®¹ã«ã¤ã„ã¦ã¯ã¾ã æ±ºã¾ã£ã¦ã„ã¾ã›ã‚“ã€‚ä»Šå¾Œã€å–¶æ¥­æ‹…å½“'
}
AI extraction result: {
  "customer": "å¤§æˆå»ºè¨­",
  "project": "AIã¨å»ºè¨­åˆ†é‡ã§ã®å¯èƒ½æ€§æ¤œè¨",
  "next_action": [
    "ã‚¢ãƒã‚¤ãƒ³ãƒˆã‚’å–ã‚Šç›´ã™",
    "AIã¨å»ºç¯‰ã«é–¢ã™ã‚‹ãƒ‡ãƒ¢ã‚’2ã¤æº–å‚™ã™ã‚‹"
  ],
  "budget": null,
  "schedule": null,
  "participants": [
    "å±±ç”°ã•ã‚“"
  ],
  "location": "æ–°å®¿",
  "issues": [],
  "personal_info": [
    "ã‚´ãƒ«ãƒ•ãŒè¶£å‘³"
  ],
  "relationship_notes": [
    "ã‚´ãƒ«ãƒ•ã®è©±é¡Œã§ç››ã‚Šä¸ŠãŒã£ãŸ"
  ]
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": true,
  "actionType": "mixed",
  "extractedActions": [
    "åˆã‚ã¦ã®æ‰“ã¡åˆã‚ã›ã‚’å®Ÿæ–½ã—ãŸ",
    "å–¶æ¥­æ‹…å½“ãŒæ”¹ã‚ã¦ã‚¢ãƒã‚¤ãƒ³ãƒˆã‚’å–ã‚‹äºˆå®š",
    "AIã¨å»ºç¯‰ã«é–¢ã™ã‚‹ãƒ‡ãƒ¢ã‚’2ã¤ç”¨æ„ã™ã‚‹äºˆå®š",
    "å¤§æˆå»ºè¨­ã®æ–¹ã«ãƒ‡ãƒ¢ã‚’æŠ«éœ²ã™ã‚‹äºˆå®š"
  ],
  "needsNextActionQuestion": false
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:783:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:622:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã‘ã‚‹äºˆç®—ã‚„é‡‘é¡ã«ã¤ã„ã¦ã€ä½•ã‹è©±é¡Œã«ä¸ŠãŒã‚Šã¾ã—ãŸã‹ï¼Ÿ",
  "reason": "åŸºæœ¬æƒ…å ±ï¼ˆcustomer, project, next_actionï¼‰ã¯æƒã£ã¦ã„ã‚‹ãŒã€æœªå…¥åŠ›ã®é …ç›®ã§ã‚ã‚‹budgetã«ã¤ã„ã¦ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€‚",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:702:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: true,
  hasNextSteps: true,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  project: 'AIã¨å»ºè¨­åˆ†é‡ã§ã®å¯èƒ½æ€§æ¤œè¨',
  participants: [ 'å±±ç”°ã•ã‚“' ],
  location: 'æ–°å®¿',
  personal_info: [ 'ã‚´ãƒ«ãƒ•ãŒè¶£å‘³' ],
  relationship_notes: [ 'ã‚´ãƒ«ãƒ•ã®è©±é¡Œã§ç››ã‚Šä¸ŠãŒã£ãŸ' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ãŠè©±ã—ã—ã¾ã—ãŸã€‚å•†è«‡ã¯æ–°å®¿ã§è¡Œã‚ã‚Œã€åˆã‚ã¦ãŠä¼šã„ã—ãŸã®ã§ãŠäº’ã„ã«è‡ªå·±ç´¹ä»‹ã‚’ã—ã¾ã—ãŸã€‚ã¾ãŸã€å±±ç”°ã•ã‚“ãŒã‚´ãƒ«ãƒ•ãŒå¤§å¥½ãã ã¨ã„ã†ã“ã¨ã§ã€ã‚´ãƒ«ãƒ•ã«ã¤ã„ã¦ã‚‚è©±é¡Œã«ã—ã¾ã—ãŸã€‚å…·ä½“çš„ãªå•†è«‡å†…å®¹ã¨ã—ã¦ã¯ã€AIã¨å»ºè¨­åˆ†é‡ã§ã“ã‚Œã‹ã‚‰ä½•ãŒã§ãã‚‹ã‹ã«ã¤ã„ã¦ã€ãŠäº’ã„ã®çŸ¥è­˜ã‚„ä»Šå¾Œã®å–ã‚Šçµ„ã¿ãŸã„ã“ã¨ã«ã¤ã„ã¦è©±ã—åˆã„ã¾ã—ãŸã€‚',
  next_action: [ 'ã‚¢ãƒã‚¤ãƒ³ãƒˆã‚’å–ã‚Šç›´ã™', 'AIã¨å»ºç¯‰ã«é–¢ã™ã‚‹ãƒ‡ãƒ¢ã‚’2ã¤æº–å‚™ã™ã‚‹' ]
}
AI undecided analysis: {
  answer: 'ä»Šå›ã®å•†è«‡ã¯åˆã‚ã¦ã®æ‰“ã¡åˆã‚ã›ã ã£ãŸãŸã‚ã€å…·ä½“çš„ãªå†…å®¹ã«ã¤ã„ã¦ã¯ã¾ã æ±ºã¾ã£ã¦ã„ã¾ã›ã‚“ã€‚ä»Šå¾Œã€å–¶æ¥­æ‹…å½“',
  result: 'YES'
}
Missing slots: [ 'budget', 'schedule', 'issues' ]
User indicated information is undecided, recording as undecided
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Correction request received: {
  text: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ã§ã—ãŸ å±±ç”°ã•ã‚“ã¯éƒ¨é•·ã‚’ã‚„ã£ã¦ã„ã‚‰ã£ã—ã‚ƒã£ã¦ ã§æ–°å®¿ã§ä»Šæ—¥è¡Œã£ãŸã‚“ã§ã™ã‘ã© 12æ™‚ã‹ã‚‰ å±±ç”°ã•ã‚“ã¯ã™ã”ã„ã‚´ãƒ«ãƒ•ãŒå¥½ãã§ã§ç§ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ããªã®ã§ ãã‚Œã«ã¤ã„ã¦ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã‚ã¨ã¯ã¾ã‚ å…·ä½“çš„ãªå•†è«‡å†…å®¹ãªã‚“ã§ã™ã‘ã©ã¾ã‚ AI ã¨å»ºè¨­ã§ä½•ãŒã§ãã‚‹ã‹ã£ã¦ã„ã†ã“ã¨ã«ã¤ã„ã¦è©±ã—ã¾ã—ãŸ'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ã§ã—ãŸ å±±ç”°ã•ã‚“ã¯éƒ¨é•·ã‚’ã‚„ã£ã¦ã„ã‚‰ã£ã—ã‚ƒã£ã¦ ã§æ–°å®¿ã§ä»Šæ—¥è¡Œã£ãŸã‚“ã§',
  corrected: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°éƒ¨é•·ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸã€‚æ–°å®¿ã§12æ™‚ã‹ã‚‰è¡Œã‚ã‚Œã¾ã—ãŸã€‚å±±ç”°éƒ¨é•·ã¯ã‚´ãƒ«ãƒ•ãŒå¤§å¥½ã'
}
AI extraction result: {
  "customer": "å¤§æˆå»ºè¨­",
  "project": "AIã¨å»ºè¨­ã®æ´»ç”¨",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": ["å±±ç”°éƒ¨é•·"],
  "location": "æ–°å®¿",
  "issues": [],
  "personal_info": ["ã‚´ãƒ«ãƒ•ãŒè¶£å‘³"],
  "relationship_notes": ["ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã£ãŸ"]
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": [
    "å¤§æˆå»ºè¨­ã®å±±ç”°éƒ¨é•·ã¨ã®å•†è«‡ã‚’è¡Œã£ãŸ",
    "æ–°å®¿ã§12æ™‚ã‹ã‚‰å•†è«‡ã‚’è¡Œã£ãŸ",
    "ã‚´ãƒ«ãƒ•ã®è©±é¡Œã§ç››ã‚Šä¸ŠãŒã£ãŸ",
    "AIã¨å»ºè¨­ã§ä½•ãŒã§ãã‚‹ã‹ã«ã¤ã„ã¦è©±ã—åˆã£ãŸ"
  ],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:773:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:612:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®å•†è«‡ã‚’å—ã‘ã¦ã€æ¬¡ã«ä½•ã‚’ã™ã‚‹äºˆå®šã«ãªã‚Šã¾ã—ãŸã‹ï¼Ÿ",
  "reason": "next_actionãŒæœªå…¥åŠ›ã§ã‚ã‚Šã€å–¶æ¥­æ‹…å½“è€…ã®æ¬¡ã®å…·ä½“çš„ãªè¡Œå‹•ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€‚",
  "needsFollowUp": true
}
Correction request received: {
  text: 'ã¨æ¥æœˆ8æœˆã¾ã§ã«ãƒ‡ãƒ¢ã‚’2ã¤ä½œã‚‰ãªã„ã¨ã„ã‘ãªã„ã§ã™ 1ã¤ã¯æ—¥é™° è¨ˆç®— ã§ã‚‚ ã§ã‚‚ã†1ã¤ã¯ å–¶æ¥­æ—¥å ± ãƒ‡ãƒ¢ã«ãªã‚Šã¾ã™ã§ ã©ã¡ã‚‰ã‚‚ ãã®8æœˆã®å†åº¦ã®å¤§æˆå»ºè¨­ã¨ã®ã‚¢ãƒã‚¤ãƒ³ãƒˆãƒ¡ãƒ³ãƒˆã§æŠ«éœ²ã™ã‚‹äºˆå®šã§ã™'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ã¨æ¥æœˆ8æœˆã¾ã§ã«ãƒ‡ãƒ¢ã‚’2ã¤ä½œã‚‰ãªã„ã¨ã„ã‘ãªã„ã§ã™ 1ã¤ã¯æ—¥é™° è¨ˆç®— ã§ã‚‚ ã§ã‚‚ã†1ã¤ã¯ å–¶æ¥­æ—¥å ± ãƒ‡',
  corrected: 'æ¥æœˆ8æœˆã¾ã§ã«ãƒ‡ãƒ¢ã‚’2ã¤ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚1ã¤ã¯æ—¥é™°è¨ˆç®—ã®ãƒ‡ãƒ¢ã§ã€ã‚‚ã†1ã¤ã¯å–¶æ¥­æ—¥å ±ã®ãƒ‡ãƒ¢ã«ãª'
}
AI extraction result: {
  "customer": "å¤§æˆå»ºè¨­",
  "project": "AIã¨å»ºè¨­ã®æ´»ç”¨",
  "next_action": [
    "æ—¥é™°è¨ˆç®—ã®ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹",
    "å–¶æ¥­æ—¥å ±ã®ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹"
  ],
  "budget": null,
  "schedule": "8æœˆã¾ã§ã«ãƒ‡ãƒ¢ã‚’ä½œæˆã€8æœˆã«å†åº¦ã‚¢ãƒã‚¤ãƒ³ãƒˆãƒ¡ãƒ³ãƒˆ",
  "participants": [
    "å±±ç”°éƒ¨é•·"
  ],
  "location": "æ–°å®¿",
  "issues": [],
  "personal_info": [
    "ã‚´ãƒ«ãƒ•ãŒè¶£å‘³"
  ],
  "relationship_notes": [
    "ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã£ãŸ"
  ]
}
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": true,
  "actionType": "future",
  "extractedActions": [
    "ãƒ‡ãƒ¢ã‚’2ã¤ä½œæˆã™ã‚‹ï¼ˆ1ã¤ã¯æ—¥é™°è¨ˆç®—ã®ãƒ‡ãƒ¢ã€ã‚‚ã†1ã¤ã¯å–¶æ¥­æ—¥å ±ã®ãƒ‡ãƒ¢ï¼‰",
    "8æœˆã®å¤§æˆå»ºè¨­ã¨ã®ã‚¢ãƒã‚¤ãƒ³ãƒˆãƒ¡ãƒ³ãƒˆã§ãƒ‡ãƒ¢ã‚’æŠ«éœ²ã™ã‚‹"
  ],
  "needsNextActionQuestion": false
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:773:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:612:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢é€£ã™ã‚‹äºˆç®—ã‚„é‡‘é¡ã«ã¤ã„ã¦ã€ä½•ã‹æ±ºã¾ã£ã¦ã„ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›ã®é …ç›®ã®ä¸­ã§ã€äºˆç®—ï¼ˆbudgetï¼‰ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²è¡Œã«ãŠã„ã¦é‡è¦ãªæƒ…å ±ã§ã‚ã‚Šã€æ¬¡ã«ç¢ºèªã™ã¹ãé …ç›®ã¨åˆ¤æ–­ã—ã¾ã—ãŸã€‚",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:692:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
Answer analysis: {
  isDetailed: true,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: true,
  hasProjectContent: true,
  hasMultipleTopics: true,
  hasSpecificExamples: false,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  project: 'AIã¨å»ºè¨­ã®æ´»ç”¨',
  participants: [ 'å±±ç”°éƒ¨é•·' ],
  location: 'æ–°å®¿',
  personal_info: [ 'ã‚´ãƒ«ãƒ•ãŒè¶£å‘³' ],
  relationship_notes: [ 'ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã£ãŸ' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°éƒ¨é•·ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸã€‚æ–°å®¿ã§12æ™‚ã‹ã‚‰è¡Œã‚ã‚Œã¾ã—ãŸã€‚å±±ç”°éƒ¨é•·ã¯ã‚´ãƒ«ãƒ•ãŒå¤§å¥½ãã§ã€ç§ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ããªã®ã§ã€ãã®è©±é¡Œã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å…·ä½“çš„ãªå•†è«‡å†…å®¹ã¨ã—ã¦ã¯ã€AIã¨å»ºè¨­ã§ä½•ãŒã§ãã‚‹ã‹ã«ã¤ã„ã¦è©±ã—åˆã„ã¾ã—ãŸã€‚',
  next_action: [ 'æ—¥é™°è¨ˆç®—ã®ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹', 'å–¶æ¥­æ—¥å ±ã®ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹' ],
  schedule: '8æœˆã¾ã§ã«ãƒ‡ãƒ¢ã‚’ä½œæˆã€8æœˆã«å†åº¦ã‚¢ãƒã‚¤ãƒ³ãƒˆãƒ¡ãƒ³ãƒˆ'
}
AI undecided analysis: {
  answer: 'æ¥æœˆ8æœˆã¾ã§ã«ãƒ‡ãƒ¢ã‚’2ã¤ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚1ã¤ã¯æ—¥é™°è¨ˆç®—ã®ãƒ‡ãƒ¢ã§ã€ã‚‚ã†1ã¤ã¯å–¶æ¥­æ—¥å ±ã®ãƒ‡ãƒ¢ã«ãª',
  result: 'NO'
}
Missing slots: [ 'budget', 'issues' ]
AI extraction result: {
  "customer": "å¤§æˆå»ºè¨­",
  "project": "AIã¨å»ºè¨­ã®æ´»ç”¨",
  "next_action": [
    "æ—¥é™°è¨ˆç®—ã®ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹",
    "å–¶æ¥­æ—¥å ±ã®ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹"
  ],
  "budget": null,
  "schedule": "8æœˆã¾ã§ã«ãƒ‡ãƒ¢ã‚’ä½œæˆã€8æœˆã«å†åº¦ã‚¢ãƒã‚¤ãƒ³ãƒˆãƒ¡ãƒ³ãƒˆ",
  "participants": [
    "å±±ç”°éƒ¨é•·"
  ],
  "location": "æ–°å®¿",
  "issues": [],
  "personal_info": [
    "ã‚´ãƒ«ãƒ•ãŒè¶£å‘³"
  ],
  "relationship_notes": [
    "ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã£ãŸ"
  ]
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": ["äºˆç®—ã‚„é‡‘é¡ã®è©±ã‚’ã—ãªã‹ã£ãŸ"],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:773:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:612:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®å•†è«‡ã§ä½•ã‹èª²é¡Œã‚„æ‡¸å¿µäº‹é …ã¯æŒ™ãŒã‚Šã¾ã—ãŸã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›ã®é …ç›®ã«èª²é¡Œï¼ˆissuesï¼‰ãŒå«ã¾ã‚Œã¦ãŠã‚Šã€æ¬¡ã«é‡è¦ãªæƒ…å ±ã¨ã—ã¦ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€‚",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:692:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: false,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: true,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  project: 'AIã¨å»ºè¨­ã®æ´»ç”¨',
  participants: [ 'å±±ç”°éƒ¨é•·' ],
  location: 'æ–°å®¿',
  personal_info: [ 'ã‚´ãƒ«ãƒ•ãŒè¶£å‘³' ],
  relationship_notes: [ 'ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã£ãŸ' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°éƒ¨é•·ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸã€‚æ–°å®¿ã§12æ™‚ã‹ã‚‰è¡Œã‚ã‚Œã¾ã—ãŸã€‚å±±ç”°éƒ¨é•·ã¯ã‚´ãƒ«ãƒ•ãŒå¤§å¥½ãã§ã€ç§ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ããªã®ã§ã€ãã®è©±é¡Œã§ã¨ã¦ã‚‚ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚å…·ä½“çš„ãªå•†è«‡å†…å®¹ã¨ã—ã¦ã¯ã€AIã¨å»ºè¨­ã§ä½•ãŒã§ãã‚‹ã‹ã«ã¤ã„ã¦è©±ã—åˆã„ã¾ã—ãŸã€‚',
  next_action: [ 'æ—¥é™°è¨ˆç®—ã®ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹', 'å–¶æ¥­æ—¥å ±ã®ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹' ],
  schedule: '8æœˆã¾ã§ã«ãƒ‡ãƒ¢ã‚’ä½œæˆã€8æœˆã«å†åº¦ã‚¢ãƒã‚¤ãƒ³ãƒˆãƒ¡ãƒ³ãƒˆ'
}
AI undecided analysis: { answer: 'äºˆç®—ã‚„ é‡‘é¡ã®è©±ã¯ ä»Šå›ã¯ç‰¹ã«å…·ä½“çš„ã«ã¯ã—ã¦ã¾ã›ã‚“', result: 'YES' }
Missing slots: [ 'budget', 'issues' ]
User indicated information is undecided, recording as undecided
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Login attempt for email: tanaka@example.com
Found user: { id: 2, email: 'tanaka@example.com', name: 'ç”°ä¸­èŠ±å­', role: 'sales' }
Password valid: true
Correction request received: {
  text: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ã§ã—ãŸ æ–°å®¿ã§12æ™‚ã‹ã‚‰è¡Œã£ãŸã‚“ã§ã™ã‘ã‚Œã©ã‚‚ãã®æ™‚ã« ã¾ã‚ é©šã„ãŸã®ã¯å±±ç”°ã•ã‚“ã‹ã™ã”ã„ã‚´ãƒ«ãƒ•ãŒå¥½ãã§ ç§ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ããªã®ã§2äººã§ã‚´ãƒ«ãƒ•ã®ãŠè©±ã§ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã§ã¾ ãã®å¾Œã« ã‚ã®å…·ä½“çš„ãªå•†è«‡ã®è©±ã«ã¯ãªã£ãŸã‚“ã§ã™ã‘ã‚Œã©ã‚‚ ã¾ã‚ AI ã¨å»ºç¯‰ã§ã©ã†ã„ã£ãŸã‚‚ã®ãŒä»Šå¾Œã§ãã‚‹ã‹ã£ã¦ã„ã†è©±ã«ã¤ã„ã¦è©±ã—åˆã„ã¾ã—ãŸ'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ã§ã—ãŸ æ–°å®¿ã§12æ™‚ã‹ã‚‰è¡Œã£ãŸã‚“ã§ã™ã‘ã‚Œã©ã‚‚ãã®æ™‚ã« ã¾ã‚ é©šã„ãŸã®',
  corrected: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸã€‚æ–°å®¿ã§12æ™‚ã‹ã‚‰è¡Œã£ãŸã®ã§ã™ãŒã€é©šã„ãŸã®ã¯å±±ç”°ã•ã‚“ãŒã‚´'
}
AI extraction result: ```json
{
  "customer": "å¤§æˆå»ºè¨­",
  "project": "AIã¨å»ºç¯‰ã®å¯èƒ½æ€§ã«ã¤ã„ã¦ã®å•†è«‡",
  "next_action": [],
  "budget": null,
  "schedule": null,
  "participants": ["å±±ç”°ã•ã‚“"],
  "location": "æ–°å®¿",
  "issues": [],
  "personal_info": ["ã‚´ãƒ«ãƒ•ãŒè¶£å‘³"],
  "relationship_notes": ["ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã£ãŸ"]
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:564:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:59:27
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": [
    "å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ã‚’è¡Œã£ãŸ",
    "ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã£ãŸ",
    "AIã¨å»ºç¯‰ã«ã¤ã„ã¦è©±ã—åˆã£ãŸ"
  ],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:773:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:612:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®å•†è«‡ã‚’å—ã‘ã¦ã€æ¬¡ã«ä½•ã‚’ã™ã‚‹äºˆå®šã«ãªã‚Šã¾ã—ãŸã‹ï¼Ÿ",
  "reason": "next_actionãŒæœªå…¥åŠ›ã§ã‚ã‚Šã€å–¶æ¥­æ‹…å½“è€…ã®æ¬¡ã®å…·ä½“çš„ãªè¡Œå‹•ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€‚",
  "needsFollowUp": true
}
Correction request received: {
  text: 'ãˆã£ã¨ã¾ãš 8æœˆã®ç¬¬1é€±ã¾ã§ã«ãƒ‡ãƒ¢ã‚’ä½œã‚Šã¾ã™ã§ 1ã¤ç›®ãŒ å–¶æ¥­æ—¥å ± ã§ã‚‚ ã§ã‚‚ã†1ã¤ãŒæ—¥é™° è¨ˆç®—ã§ã‚‚ã«ãªã‚Šã¾ã™ã§ãˆã£ã¨ãã‚Œä»¥å¤–ã«é–¢ã—ã¦ã¯ 8æœˆã«å–¶æ¥­ã‹ã‚‰ã‚‚ã†ä¸€åº¦ å¤§æˆå»ºè¨­ã«ã¯ãƒã‚¤ãƒ³ãƒˆã‚’å–ã‚‹äºˆå®šã«ãªã£ã¦ã„ã¦ãã®éš›ã«ã“ã®2ã¤ã®ãƒ‡ãƒ¢ã‚’è¦‹ã›ã‚‹ äºˆå®šã«ãªã£ã¦ã„ã¾ã™'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ãˆã£ã¨ã¾ãš 8æœˆã®ç¬¬1é€±ã¾ã§ã«ãƒ‡ãƒ¢ã‚’ä½œã‚Šã¾ã™ã§ 1ã¤ç›®ãŒ å–¶æ¥­æ—¥å ± ã§ã‚‚ ã§ã‚‚ã†1ã¤ãŒæ—¥é™° è¨ˆç®—ã§ã‚‚',
  corrected: 'ã¾ãšã€8æœˆç¬¬1é€±ã¾ã§ã«ãƒ‡ãƒ¢ã‚’ä½œæˆã—ã¾ã™ã€‚1ã¤ç›®ãŒå–¶æ¥­æ—¥å ±ã€ã‚‚ã†1ã¤ãŒæ—¥é™°è¨ˆç®—ãƒ‡ãƒ¢ã§ã™ã€‚ãã‚Œä»¥å¤–ã«ã¤ã„'
}
AI extraction result: ```json
{
  "customer": "å¤§æˆå»ºè¨­",
  "project": "å–¶æ¥­æ—¥å ±ãƒ‡ãƒ¢ã¨æ—¥é™°è¨ˆç®—ãƒ‡ãƒ¢ã®ä½œæˆ",
  "next_action": [
    "8æœˆç¬¬1é€±ã¾ã§ã«å–¶æ¥­æ—¥å ±ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹",
    "8æœˆç¬¬1é€±ã¾ã§ã«æ—¥é™°è¨ˆç®—ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹",
    "8æœˆã«å¤§æˆå»ºè¨­ã«å†åº¦ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã—ã€2ã¤ã®ãƒ‡ãƒ¢ã‚’æç¤ºã™ã‚‹"
  ],
  "budget": null,
  "schedule": "8æœˆç¬¬1é€±ã¾ã§ã«ãƒ‡ãƒ¢ä½œæˆ",
  "participants": [],
  "location": null,
  "issues": [],
  "personal_info": [],
  "relationship_notes": []
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:564:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:59:27
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": true,
  "actionType": "future",
  "extractedActions": [
    "8æœˆç¬¬1é€±ã¾ã§ã«ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹",
    "å–¶æ¥­æ—¥å ±ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹",
    "æ—¥é™°è¨ˆç®—ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹",
    "8æœˆã«å–¶æ¥­ã‹ã‚‰å¤§æˆå»ºè¨­ã«å†åº¦ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã™ã‚‹",
    "å¤§æˆå»ºè¨­ã«2ã¤ã®ãƒ‡ãƒ¢ã‚’æç¤ºã™ã‚‹"
  ],
  "needsNextActionQuestion": false
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:773:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:612:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®äºˆç®—ã‚„é‡‘é¡ã«ã¤ã„ã¦ã€ä½•ã‹æ±ºã¾ã£ã¦ã„ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›ã®é …ç›®ã®ä¸­ã§ã€äºˆç®—ï¼ˆbudgetï¼‰ã¯é‡è¦ãªæƒ…å ±ã§ã‚ã‚Šã€æ¬¡ã«ç¢ºèªã™ã¹ãé …ç›®ã¨åˆ¤æ–­ã—ã¾ã—ãŸã€‚",
  "needsFollowUp": false
}
AI extraction result: {
  "customer": null,
  "project": null,
  "next_action": [],
  "budget": "æœªå®š",
  "schedule": null,
  "participants": [],
  "location": null,
  "issues": [],
  "personal_info": [],
  "relationship_notes": []
}
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": false,
  "actionType": "status",
  "extractedActions": [],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:773:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:612:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: ```json
{
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„ç´æœŸã«ã¤ã„ã¦ã€ä½•ã‹æ±ºã¾ã£ã¦ã„ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›ã®é …ç›®ã®ä¸­ã§ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²è¡Œã«ãŠã„ã¦é‡è¦ãªæƒ…å ±ã§ã‚ã‚‹ãŸã‚ã€‚",
  "needsFollowUp": false
}
```
Failed to parse AI question determination result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:692:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
Answer analysis: {
  isDetailed: false,
  isVeryDetailed: false,
  hasBusinessContext: true,
  hasPersonalDetails: false,
  hasNextSteps: false,
  hasProjectContent: true,
  hasMultipleTopics: false,
  hasSpecificExamples: true,
  hasMeetingContent: false,
  hasSubstantialContent: true
}
Current slots: {
  customer: 'å¤§æˆå»ºè¨­',
  project: [ 'å»ºç¯‰' ],
  participants: [ 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“' ],
  summary: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®å±±ç”°ã•ã‚“ã¨ã®å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸã€‚æ–°å®¿ã§12æ™‚ã‹ã‚‰è¡Œã£ãŸã®ã§ã™ãŒã€é©šã„ãŸã®ã¯å±±ç”°ã•ã‚“ãŒã‚´ãƒ«ãƒ•ãŒã¨ã¦ã‚‚å¥½ãã ã¨ã„ã†ã“ã¨ã§ã™ã€‚ç§ã‚‚ã‚´ãƒ«ãƒ•ãŒå¥½ããªã®ã§ã€2äººã§ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã€‚ãã®å¾Œã€å…·ä½“çš„ãªå•†è«‡ã®è©±ã«ç§»ã‚Šã€AIã¨å»ºç¯‰ã§ä»Šå¾Œã©ã®ã‚ˆã†ãªã“ã¨ãŒå¯èƒ½ã«ãªã‚‹ã‹ã«ã¤ã„ã¦è©±ã—åˆã„ã¾ã—ãŸã€‚',
  next_action: [ '8æœˆç¬¬1é€±ã¾ã§ã«ãƒ‡ãƒ¢ã‚’ä½œæˆã—ã¾ã™', 'ãã®éš›ã«ã“ã®2ã¤ã®ãƒ‡ãƒ¢ã‚’æç¤ºã™ã‚‹äºˆå®šã§ã™' ],
  budget: 'æœªå®š'
}
AI undecided analysis: { answer: 'ä»Šå›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®äºˆç®—ã«ã¤ã„ã¦ã¯ã¾ã ä½•ã‚‚æ±ºã¾ã£ã¦ãªã„ã§ã™', result: 'YES' }
Missing slots: [ 'schedule', 'location', 'issues' ]
User indicated information is undecided, recording as undecided
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:55:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:182:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:31:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:55:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:182:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:31:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:55:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:182:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:31:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:55:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:19:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:182:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:31:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:56:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:20:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:183:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:32:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Analytics request - userId: 2 period: 30
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:56:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:20:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:183:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:32:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 90
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 91
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '317',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:195:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 90
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 91
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:201:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:68:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:21:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:204:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:41:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:69:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:22:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:208:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:42:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Personal analytics error: ReferenceError: Cannot access 'startDate' before initialization
    at /Users/anemoto/sales_daily/server/src/routes/analytics.js:13:44
    at Layer.handle [as handle_request] (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/route.js:149:13)
    at authMiddleware (/Users/anemoto/sales_daily/server/src/middleware/auth.js:14:5)
    at Layer.handle [as handle_request] (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/anemoto/sales_daily/server/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/anemoto/sales_daily/server/node_modules/express/lib/router/index.js:346:12)
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:71:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:210:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:71:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:210:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Customer analysis: 1
Fetching project categories...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:218:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-16T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-16T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-23T15:00:00.000Z endDate: 2025-07-23T15:00:00.000Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-23T15:00:00.000Z,
  endDate: 2025-07-23T15:00:00.000Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:77:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:24:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:227:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:44:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Debugger listening on ws://127.0.0.1:9229/5981e3c5-7ddc-4b80-b8d8-ac0e212c5b04
For help, see: https://nodejs.org/en/docs/inspector
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-17T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-17T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:229:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '495',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '560',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 7
Date range - startDate: 2025-07-17T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-07-17T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '560',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 8
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
Error in getBasicStats: error: malformed array literal: ""
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getBasicStats (/Users/anemoto/sales_daily/server/src/routes/analytics.js:79:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:26:24 {
  length: 148,
  severity: 'ERROR',
  code: '22P02',
  detail: 'Array value must start with "{" or dimension information.',
  hint: undefined,
  position: '560',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'arrayfuncs.c',
  line: '317',
  routine: 'array_in'
}
Basic stats: {
  total_reports: 0,
  draft_reports: 0,
  completed_reports: 0,
  unique_customers: 0,
  reports_with_actions: 0,
  reports_with_issues: 0
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:238:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T15:00:00.000Z',
  endDate: '2025-07-25T14:59:59.999Z'
}
Reports in date range: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T00:08:43.232Z
  }
]
Reports with slots JOIN: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: '{"å»ºç¯‰"}'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:239:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T15:00:00.000Z endDate: 2025-07-25T14:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T15:00:00.000Z,
  endDate: 2025-07-25T14:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T15:00:00.000Z',
  endDate: '2025-07-25T14:59:59.999Z'
}
Reports in date range: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T00:08:43.232Z
  }
]
Reports with slots JOIN: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: '{"å»ºç¯‰"}'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:239:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:46:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T00:08:43.232Z
  }
]
Reports with slots JOIN: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: '{"å»ºç¯‰"}'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:244:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T00:08:43.232Z
  }
]
Reports in date range: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T00:08:43.232Z
  }
]
Reports with slots JOIN: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: '{"å»ºç¯‰"}'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Fetching daily reports...
Reports with slots JOIN: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: '{"å»ºç¯‰"}'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T00:08:43.232Z
  }
]
Reports with slots JOIN: [
  {
    id: 1,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: '{"å»ºç¯‰"}'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '1'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: []
getBasicStats query result: {
  total_reports: '0',
  draft_reports: '0',
  completed_reports: '0',
  unique_customers: '0',
  reports_with_actions: '0',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: []
Reports with slots JOIN: []
Basic stats: {
  total_reports: '0',
  draft_reports: '0',
  completed_reports: '0',
  unique_customers: '0',
  reports_with_actions: '0',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 0
Fetching project categories...
Project categories: 0
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: []
getBasicStats query result: {
  total_reports: '0',
  draft_reports: '0',
  completed_reports: '0',
  unique_customers: '0',
  reports_with_actions: '0',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: []
Reports with slots JOIN: []
Basic stats: {
  total_reports: '0',
  draft_reports: '0',
  completed_reports: '0',
  unique_customers: '0',
  reports_with_actions: '0',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 0
Fetching project categories...
Project categories: 0
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Correction request received: {
  text: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã®å±±ç”°ã•ã‚“ã¨ æ–°å®¿ã§12æ™‚ã‹ã‚‰ å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸ ä»Šå›ã®å•†è«‡ã¯åˆã‚ã¦ã ã£ãŸã‚“ã§ã™ã‘ã‚Œã©ã‚‚ å±±ç”°ã•ã‚“ ãŒéå¸¸ã«ã„ã„äººã§ã‚´ãƒ«ãƒ•ãŒãŠå¥½ã ã¨ã„ã†ã“ã¨ã§ ç§ã‚‚ã™ã”ã„ã‚´ãƒ«ãƒ•ãŒå¥½ããªã®ã§ã‚´ãƒ«ãƒ•ã®è©±ã‚’ã—ã¦ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ãŸã§å•†è«‡ã®ã¾ã¾ å†…å®¹è‡ªä½“ãªã‚“ã§ã™ã‘ã‚Œã©ã‚‚ AI ã¨å»ºç¯‰ã§ä½•ãŒã§ãã‚‹ã‹ã¨ã„ã†ã¨ã“ã‚ã‚’ãƒ†ãƒ¼ãƒã«ã‚ã®ãŠè©±ã—ã—ã¾ã—ãŸ'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Correction successful: {
  original: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã®å±±ç”°ã•ã‚“ã¨ æ–°å®¿ã§12æ™‚ã‹ã‚‰ å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸ ä»Šå›ã®å•†è«‡ã¯åˆã‚ã¦ã ã£ãŸã‚“ã§ã™',
  corrected: 'ä»Šæ—¥ã¯å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã¨ã€æ–°å®¿ã§12æ™‚ã‹ã‚‰å•†è«‡ãŒã‚ã‚Šã¾ã—ãŸã€‚ä»Šå›ã®å•†è«‡ã¯åˆã‚ã¦ã§ã—ãŸãŒã€'
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
AI extraction result: {
  "customer": "å¤§æˆå»ºè¨­",
  "project": "AIã¨å»ºç¯‰ã®æ´»ç”¨",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": ["å±±ç”°ã•ã‚“"],
  "location": "æ–°å®¿",
  "issues": [],
  "personal_info": ["ã‚´ãƒ«ãƒ•ãŒè¶£å‘³"],
  "relationship_notes": ["ã‚´ãƒ«ãƒ•ã®è©±ã§ç››ã‚Šä¸ŠãŒã£ãŸ"]
}
Action type analysis result: ```json
{
  "isPastAction": true,
  "isFutureAction": false,
  "actionType": "past",
  "extractedActions": [
    "å¤§æˆå»ºè¨­ã®éƒ¨é•·ã§ã‚ã‚‹å±±ç”°ã•ã‚“ã¨æ–°å®¿ã§å•†è«‡ã‚’è¡Œã£ãŸ",
    "ã‚´ãƒ«ãƒ•ã®è©±é¡Œã§ç››ã‚Šä¸ŠãŒã£ãŸ",
    "AIã¨å»ºç¯‰ã§ä½•ãŒã§ãã‚‹ã‹ã¨ã„ã†ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦è©±ã—ãŸ"
  ],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:851:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:690:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®å•†è«‡ã‚’å—ã‘ã¦ã€æ¬¡ã«ä½•ã‚’ã™ã‚‹äºˆå®šã«ãªã‚Šã¾ã—ãŸã‹ï¼Ÿ",
  "reason": "next_actionãŒæœªå…¥åŠ›ã§ã‚ã‚Šã€å–¶æ¥­æ‹…å½“è€…ã®æ¬¡ã®å…·ä½“çš„ãªè¡Œå‹•ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€‚",
  "needsFollowUp": true
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Correction request received: {
  text: 'ã¾ãšã¯ 8æœˆã¾ã§ã«ã¡ã‚ƒã‚“ã¨ã—ãŸ ã§ã‚‚ä½œã‚‰ãªã„ã¨ã„ã‘ãªã„ã§ã™ ãã®ãƒ‡ãƒ¢ã£ã¦ã„ã†ã®ã¯1ã¤ã¯æ—¥é™° è¨ˆç®— ã§ã‚‚ ã§ã‚‚ã†1ã¤ã¯ æ—¥å ± ã§ã‚‚ ã§ã™ã§ã“ã®2ã¤ã‚’ 8æœˆã®8æ—¥ã¾ã§ã«4æ—¥ã§ã™ã­ 8æœˆã®4æ—¥ã«ã‚¢ãƒã‚¤ãƒ³ãƒˆãƒ¡ãƒ³ãƒˆã‚’å–ã£ã¦ ãã®æ™‚ã« ã“ã®2ã¤ã®ãƒ‡ãƒ¢ã‚’æŠ«éœ²ã™ã‚‹äºˆå®šã§ã™'
}
Azure OpenAI config: { hasEndpoint: true, hasApiKey: true, hasDeploymentName: true }
Calling Azure OpenAI: {
  endpoint: 'https://meiji-chatbot.openai.a...',
  deploymentName: 'gpt-4o'
}
Text correction error: {
  message: "Cannot read properties of undefined (reading 'trim')",
  response: undefined,
  status: undefined,
  config: undefined
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
AI extraction result: ```json
{
  "customer": "",
  "project": "",
  "next_action": ["ãƒ‡ãƒ¢ä½œæˆ", "8æœˆ4æ—¥ã«ã‚¢ãƒã‚¤ãƒ³ãƒˆãƒ¡ãƒ³ãƒˆã‚’è¨­å®š", "ãƒ‡ãƒ¢ã‚’æŠ«éœ²"],
  "budget": "",
  "schedule": "8æœˆ4æ—¥",
  "participants": [],
  "location": "",
  "issues": [],
  "personal_info": [],
  "relationship_notes": []
}
```
Failed to parse AI extraction result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at extractInformationWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:629:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:59:27
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": true,
  "actionType": "future",
  "extractedActions": [
    "8æœˆ4æ—¥ã¾ã§ã«2ã¤ã®ãƒ‡ãƒ¢ã‚’ä½œæˆã™ã‚‹",
    "8æœˆ4æ—¥ã«ã‚¢ãƒã‚¤ãƒ³ãƒˆãƒ¡ãƒ³ãƒˆã‚’å–ã‚‹",
    "ã‚¢ãƒã‚¤ãƒ³ãƒˆãƒ¡ãƒ³ãƒˆæ™‚ã«2ã¤ã®ãƒ‡ãƒ¢ã‚’æŠ«éœ²ã™ã‚‹"
  ],
  "needsNextActionQuestion": false
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:851:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:690:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ã—ã¦ã€äºˆç®—ã‚„é‡‘é¡ã®è©±ã¯å‡ºã¾ã—ãŸã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›ã®é …ç›®ã§ã‚ã‚‹budgetãŒé‡è¦ãªæƒ…å ±ã§ã‚ã‚Šã€æ¬¡ã«ç¢ºèªã™ã¹ãé …ç›®ã ã‹ã‚‰ã§ã™ã€‚",
  "needsFollowUp": false
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
AI extraction result: {
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "æœªå®š",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": [],
  "personal_info": [],
  "relationship_notes": []
}
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": false,
  "actionType": "status",
  "extractedActions": [],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:851:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:690:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": false,
  "nextQuestion": "ä»Šå›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ã—ã¦ã€ä½•ã‹èª²é¡Œã‚„æ‡¸å¿µäº‹é …ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
  "reason": "æœªå…¥åŠ›ã®é …ç›®ã§ã‚ã‚‹issuesã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€‚",
  "needsFollowUp": false
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
AI extraction result: {
  "customer": "",
  "project": "",
  "next_action": [],
  "budget": "",
  "schedule": "",
  "participants": [],
  "location": "",
  "issues": ["å»ºç¯‰ã®çŸ¥è­˜ãŒæµ…ãã€é©åˆ‡ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã§ãã‚‹ã‹ãŒä¸æ˜ç¢º"],
  "personal_info": [],
  "relationship_notes": []
}
Action type analysis result: ```json
{
  "isPastAction": false,
  "isFutureAction": false,
  "actionType": "status",
  "extractedActions": [],
  "needsNextActionQuestion": true
}
```
Failed to parse action analysis result: SyntaxError: Unexpected token '`', "```json
{
"... is not valid JSON
    at JSON.parse (<anonymous>)
    at analyzeActionType (/Users/anemoto/sales_daily/server/src/routes/ai.js:851:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async determineNextQuestionWithAI (/Users/anemoto/sales_daily/server/src/routes/ai.js:690:28)
    at async /Users/anemoto/sales_daily/server/src/routes/ai.js:74:42
AI question determination result: {
  "isComplete": true,
  "reason": "åŸºæœ¬æƒ…å ±ï¼ˆcustomer, project, next_actionï¼‰ãŒæƒã£ã¦ãŠã‚Šã€ä»–ã®é …ç›®ã‚‚ååˆ†ã«åŸ‹ã¾ã£ã¦ã„ã‚‹ãŸã‚ã€ã“ã‚Œä»¥ä¸Šã®è³ªå•ã¯ä¸è¦ã¨åˆ¤æ–­ã—ã¾ã—ãŸã€‚",
  "needsFollowUp": false
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Daily reports: 31
Fetching customer analysis...
Project categories: 1
Fetching issues analysis...
Customer analysis: 1
Fetching project categories...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Project categories: 1
Fetching issues analysis...
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'draft',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '1',
  completed_reports: '0',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Analytics request - userId: 2 period: 30
Date range - startDate: 2025-06-24T06:00:00.000Z endDate: 2025-07-25T05:59:59.999Z
Fetching basic stats...
getBasicStats called with: {
  userId: 2,
  startDate: 2025-06-24T06:00:00.000Z,
  endDate: 2025-07-25T05:59:59.999Z
}
All reports for user: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed'
  }
]
getBasicStats query result: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Query parameters used: {
  userId: 2,
  startDate: '2025-06-24T06:00:00.000Z',
  endDate: '2025-07-25T05:59:59.999Z'
}
Reports in date range: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    created_at: 2025-07-24T01:08:47.547Z
  }
]
Reports with slots JOIN: [
  {
    id: 2,
    user_id: 2,
    report_date: 2025-07-23T15:00:00.000Z,
    status: 'completed',
    customer: 'å¤§æˆå»ºè¨­',
    project: 'AIã¨å»ºç¯‰ã®æ´»ç”¨'
  }
]
Basic stats: {
  total_reports: '1',
  draft_reports: '0',
  completed_reports: '1',
  unique_customers: '1',
  reports_with_actions: '1',
  reports_with_issues: '0'
}
Fetching daily reports...
Daily reports: 31
Fetching customer analysis...
Customer analysis: 1
Fetching project categories...
Project categories: 1
Fetching issues analysis...
Error in getIssuesAnalysis: error: operator does not exist: text[] ~~* unknown
    at /Users/anemoto/sales_daily/server/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIssuesAnalysis (/Users/anemoto/sales_daily/server/src/routes/analytics.js:248:20)
    at async /Users/anemoto/sales_daily/server/src/routes/analytics.js:51:28 {
  length: 203,
  severity: 'ERROR',
  code: '42883',
  detail: undefined,
  hint: 'No operator matches the given name and argument types. You might need to add explicit type casts.',
  position: '55',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_oper.c',
  line: '647',
  routine: 'op_error'
}
Issues analysis: 0
Fetching relationship analysis...
Relationship analysis: undefined
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
/Users/anemoto/sales_daily/server/src/routes/reports.js:384
router.get('/team', authMiddleware, managerOnly, async (req, res) => {
                                    ^

ReferenceError: managerOnly is not defined
    at Object.<anonymous> (/Users/anemoto/sales_daily/server/src/routes/reports.js:384:37)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1613:10)
    at Module.load (node:internal/modules/cjs/loader:1275:32)
    at Module._load (node:internal/modules/cjs/loader:1096:12)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at Object.<anonymous> (/Users/anemoto/sales_daily/server/src/index.js:9:22)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1613:10)

Node.js v20.19.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
/Users/anemoto/sales_daily/server/src/routes/analytics.js:322
router.get('/team', authMiddleware, managerOnly, async (req, res) => {
                                    ^

ReferenceError: managerOnly is not defined
    at Object.<anonymous> (/Users/anemoto/sales_daily/server/src/routes/analytics.js:322:37)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1613:10)
    at Module.load (node:internal/modules/cjs/loader:1275:32)
    at Module._load (node:internal/modules/cjs/loader:1096:12)
    at Module.require (node:internal/modules/cjs/loader:1298:19)
    at require (node:internal/modules/helpers:182:18)
    at Object.<anonymous> (/Users/anemoto/sales_daily/server/src/index.js:12:25)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1613:10)

Node.js v20.19.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::3001
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/Users/anemoto/sales_daily/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/Users/anemoto/sales_daily/server/src/index.js:57:5)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1613:10)
    at Module.load (node:internal/modules/cjs/loader:1275:32)
    at Module._load (node:internal/modules/cjs/loader:1096:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 3001
}

Node.js v20.19.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/index.js`[39m
Server running on port 3001
Environment: development
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
Auth middleware - Token received: Yes
Auth middleware - Decoded user: { userId: 2, role: 'sales' }
